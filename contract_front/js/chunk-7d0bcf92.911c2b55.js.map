{"version":3,"sources":["webpack:///./node_modules/bootstrap-vue/esm/mixins/form-selection.js","webpack:///./node_modules/vue-filepond/dist/vue-filepond.js","webpack:///./node_modules/filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.js","webpack:///./src/views/admin/contracts/Inputs/Agent.vue?b00c","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-validity.js","webpack:///./node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js","webpack:///./node_modules/vue-form-wizard/dist/vue-form-wizard.js","webpack:///./src/views/admin/contracts/Inputs/Agent.vue?9d3f","webpack:///src/views/admin/contracts/Inputs/Agent.vue","webpack:///./src/views/admin/contracts/Inputs/Agent.vue?72bf","webpack:///./src/views/admin/contracts/Inputs/Agent.vue","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-text.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-input/form-input.js","webpack:///./src/views/admin/contracts/Inputs/Wife.vue?511a","webpack:///./node_modules/bootstrap-vue/esm/mixins/model.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-select/helpers/mixin-options.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-select/form-select-option.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-select/form-select-option-group.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-select/form-select.js","webpack:///./node_modules/bootstrap-vue/esm/directives/visible/visible.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-textarea/form-textarea.js","webpack:///./src/views/admin/contracts/Inputs/Wife.vue?0799","webpack:///src/views/admin/contracts/Inputs/Wife.vue","webpack:///./src/views/admin/contracts/Inputs/Wife.vue?52bc","webpack:///./src/views/admin/contracts/Inputs/Wife.vue","webpack:///./node_modules/filepond/dist/filepond.js","webpack:///./src/views/admin/contracts/Inputs/Husband.vue?2880","webpack:///src/views/admin/contracts/Inputs/Husband.vue","webpack:///./src/views/admin/contracts/Inputs/Husband.vue?38fa","webpack:///./src/views/admin/contracts/Inputs/Husband.vue","webpack:///./src/views/admin/contracts/Inputs/Husband.vue?3429"],"names":["formSelectionMixin","extend","computed","selectionStart","cache","get","this","$refs","input","set","val","selectionEnd","selectionDirection","methods","select","_this$$refs$input","apply","arguments","setSelectionRange","_this$$refs$input2","setRangeText","_this$$refs$input3","global","factory","exports","_vue","_filepond","Object","defineProperty","value","setOptions","undefined","_vue2","_interopRequireDefault","obj","__esModule","default","filteredComponentMethods","isSupported","supported","getNativeConstructorFromType","type","string","String","boolean","Boolean","array","Array","function","Function","int","Number","serverapi","object","props","events","watch","instances","globalOptions","options","assign","forEach","instance","registerPlugin","length","_loop","prop","test","push","OptionTypes","_pond","component","name","render","h","attrs","id","className","required","multiple","allowMultiple","accept","acceptedFileTypes","capture","captureMethod","mounted","_this","_element","$el","querySelector","reduce","_len","args","_key","$emit","getFiles","substr","concat","$attrs","create","$options","propsData","keys","filter","key","includes","destroyed","_this2","detached","offsetParent","mutationHandler","mutations","observer","removedNodes","removedNode","contains","disconnect","call","MutationObserver","observe","document","documentElement","childList","subtree","destroy","index","indexOf","splice","module","plugin","_ref","addFilter","utils","Type","isString","replaceInString","guesstimateMimeType","getExtensionFromFilename","getFilenameFromURL","mimeTypeMatchesWildCard","mimeType","wildcard","mimeTypeGroup","exec","pop","wildcardGroup","slice","isValidMimeType","acceptedTypes","userInputType","some","acceptedType","getItemType","item","filename","extension","validateFile","typeDetector","Promise","resolve","reject","then","detectedType","catch","applyMimeTypeMap","map","acceptedFileType","file","_ref2","query","_ref3","validationResult","handleRejection","acceptedFileTypesMapped","label","acceptedFileTypesMapped_unique","status","main","sub","allTypes","join","allButLastType","lastType","allowFileTypeValidation","BOOLEAN","ARRAY","labelFileTypeNotAllowed","STRING","fileValidateTypeLabelExpectedTypes","fileValidateTypeLabelExpectedTypesMap","OBJECT","fileValidateTypeDetectType","FUNCTION","isBrowser","window","dispatchEvent","CustomEvent","detail","formValidityMixin","validity","validationMessage","willValidate","setCustomValidity","checkValidity","reportValidity","isPreviewableImage","_AwaitValue","wrapped","_AsyncGenerator","gen","front","back","send","arg","request","next","resume","result","wrappedAwait","settle","done","err","_invoke","return","Symbol","asyncIterator","prototype","throw","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","isArray","_arr","_n","_d","_e","_s","_i","iterator","TypeError","vectorMultiply","v","amount","createVector","x","y","vectorAdd","a","b","vectorNormalize","l","Math","sqrt","vectorRotate","radians","origin","cos","sin","t","getMarkupValue","size","scalar","axis","parseFloat","min","width","height","getMarkupStyles","markup","scale","lineStyle","borderStyle","fill","backgroundColor","fontColor","stroke","borderColor","lineColor","strokeWidth","borderWidth","lineWidth","lineCap","lineJoin","dashes","opacity","isDefined","getMarkupRect","rect","left","top","right","bottom","pointsToPathShape","points","point","setAttributes","element","attr","setAttribute","ns","svg","tag","createElementNS","updateRect","styles","updateEllipse","cx","cy","rx","ry","IMAGE_FIT_STYLE","contain","cover","updateImage","preserveAspectRatio","fit","TEXT_ANCHOR","center","updateText","fontSize","fontFamily","fontWeight","textAlign","text","textContent","updateLine","line","childNodes","begin","end","target","x1","y1","x2","y2","lineDecoration","style","display","arrowBeginRotationPoint","arrowBeginCenter","arrowBeginA","arrowBeginB","d","arrowEndRotationPoint","arrowEndCenter","arrowEndA","arrowEndB","updatePath","createShape","node","createImage","shape","onload","setAttributeNS","src","createLine","appendChild","CREATE_TYPE_ROUTES","image","ellipse","path","UPDATE_TYPE_ROUTES","createMarkupByType","updateMarkupByType","MARKUP_RECT","toOptionalFraction","prepareMarkup","_markup","prev","curr","zIndex","sortMarkupByZIndex","createMarkupView","_","createView","ignoreRect","mixins","apis","write","root","dirty","crop","resize","viewWidth","viewHeight","cropWidth","cropHeight","_size","outputWidth","outputHeight","outputFit","mode","outputUpscale","upscale","shouldUpscale","scalarWidth","scalarHeight","max","innerHTML","markupFilter","sort","settings","createVector$1","vectorDot","vectorSubtract","vectorDistanceSquared","vectorDistance","getOffsetPointOnEdge","rotation","A","B","C","sinA","sinB","sinC","cosC","ratio","c","getRotatedRectSize","w","hor","ver","tl","abs","tr","bl","calculateCanvasSize","canvasAspectRatio","zoom","imageAspectRatio","canvasWidth","canvasHeight","imgWidth","imgHeight","getImageRectZoomFactor","imageRect","cropRect","imageWidth","imageHeight","rotatedCropSize","getCenteredCropRect","container","aspectRatio","getCurrentCropSize","imageSize","canvasSize","canvasCenter","stage","shouldLimit","scaleToFit","stageZoomFactor","widthFloat","heightFloat","round","IMAGE_SCALE_SPRING_PROPS","stiffness","damping","mass","createBitmapView","createImageCanvasWrapper","animations","originX","originY","scaleX","scaleY","translateX","translateY","rotateZ","ref","bitmap","appendChildView","createChildView","flip","horizontal","vertical","createClipView","duration","didWriteView","_ref4","background","_ref5","createMarkup","destroyMarkup","removeChildView","transparencyIndicator","dataset","_ref6","shouldOptimize","translation","PI","cropAspectRatio","imageView","createImageView","_ref7","clip","_ref8","hidden","containerWidth","inner","containerHeight","fixedPreviewHeight","minPreviewHeight","maxPreviewHeight","panelAspectRatio","clipHeight","clipWidth","SVG_MASK","SVGMaskUniqueId","createImageOverlayView","fpAPI","mask","url","URL","location","href","replace","hash","classList","add","BitmapWorker","self","onmessage","e","createImageBitmap","data","message","postMessage","ColorMatrixWorker","imageData","matrix","colorMatrix","m11","m12","m13","m14","m15","m21","m22","m23","m24","m25","m31","m32","m33","m34","m35","m41","m42","m43","m44","m45","r","g","buffer","getImageSize","cb","Image","naturalWidth","naturalHeight","transforms","1","2","3","4","5","6","7","8","fixImageOrientation","ctx","orientation","transform","createPreviewImage","canvas","createElement","getContext","drawImage","isBitmap","MAX_WIDTH","MAX_HEIGHT","calculateAverageColor","ceil","getImageData","averageColor","floor","cloneCanvas","cloneImageData","ImageData","createImageData","Uint8ClampedArray","loadImage","img","crossOrigin","onerror","createImageWrapperView","OverlayView","ImageView","createWorker","applyFilter","putImageData","worker","post","response","terminate","removeImageView","_destroy","shiftImage","images","shift","imageViewBin","pushImage","getMetadata","childViews","setTimeout","dispatch","didUpdateItemMetadata","action","change","_imageView","canCreateImageBitmap","userAgent","navigator","isFirefox","match","firefoxVersion","parseInt","didCreatePreviewContainer","fileURL","createObjectURL","drawPreview","loadPreviewFallback","previewImageLoaded","revokeObjectURL","exif","pixelDensityFactor","devicePixelRatio","zoomFactor","scaleFactor","previewImageRatio","previewContainerWidth","previewContainerHeight","previewImage","setMetadata","close","overlayShadow","imageBitmap","didDrawPreview","restoreOverlay","_ref9","overlayError","overlaySuccess","didThrowError","_ref10","didCompleteProcessing","_ref11","_ref12","_ref13","_ref14","createRoute","DID_IMAGE_PREVIEW_DRAW","DID_IMAGE_PREVIEW_CONTAINER_CREATE","DID_FINISH_CALCULATE_PREVIEWSIZE","DID_UPDATE_ITEM_METADATA","DID_THROW_ITEM_LOAD_ERROR","DID_THROW_ITEM_PROCESSING_ERROR","DID_THROW_ITEM_INVALID","DID_COMPLETE_ITEM_PROCESSING","DID_START_ITEM_PROCESSING","DID_REVERT_ITEM_PROCESSING","_ref15","viewsToRemove","isFile","imagePreviewView","viewAPI","is","view","didLoadItem","archived","supportsCreateImageBitmap","maxPreviewFileSize","imagePreview","queue","rescaleItem","itemPanelAspectRatio","fixedHeight","_root$ref","previewAspectRatio","previewHeightMax","itemWidth","previewHeight","didResizeView","shouldRescale","didCalculatePreviewSize","shouldDrawPreview","registerWriter","DID_RESIZE_ROOT","DID_STOP_RESIZE","DID_LOAD_ITEM","DID_IMAGE_PREVIEW_CALCULATE_SIZE","requestAnimationFrame","allowImagePreview","imagePreviewFilterItem","imagePreviewHeight","INT","imagePreviewMinHeight","imagePreviewMaxHeight","imagePreviewMaxFileSize","imagePreviewZoomFactor","imagePreviewUpscale","imagePreviewMaxInstantPreviewFileSize","imagePreviewTransparencyIndicator","imagePreviewCalculateAverageImageColor","imagePreviewMarkupShow","imagePreviewMarkupFilter","n","m","o","configurable","enumerable","hasOwnProperty","p","s","u","staticRenderFns","_compiled","functional","_scopeId","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","beforeCreate","_injectStyles","esModule","components","WizardButton","WizardStep","title","subtitle","nextButtonText","backButtonText","finishButtonText","hideButtons","validateOnBack","color","errorColor","layout","stepsClasses","stepSize","validator","transition","startIndex","provide","addTab","removeTab","activeTabIndex","currentPercentage","maxStep","loading","tabs","slotProps","nextTab","prevTab","isLastStep","fillButtonStyle","tabCount","isVertical","displayPrevButton","stepPercentage","progressBarStyle","progress","emitTabChange","$slots","tabId","changeTab","reset","checked","navigateToTab","activateAll","beforeTabChange","afterTabChange","setValidationError","focusNextTab","focusPrevTab","setLoading","validationError","validateBeforeChange","executeBeforeChange","beforeChange","afterChange","active","activateTabAndCheckStep","tryChangeRoute","$router","route","checkRouteChange","find","deactivateTabs","activateTab","initializeTabs","console","warn","tab","iconActiveStyle","stepCheckedStyle","errorStyle","stepTitleStyle","isStepSquare","isTabShape","icon","additionalInfo","inject","$parent","parentNode","removeChild","install","Vue","use","$createElement","_self","_c","staticClass","tabindex","_t","class","disabled","square_shape","tab_shape","role","_v","has_error","activeElement","findIndex","getElementById","focus","on","keyup","_k","keyCode","button","_l","nativeOn","click","directives","rawName","expression","_vm","_h","$t","scopedSlots","_u","fn","errors","firstName","$event","middleName","lastName","emailAddress","birthdate","birthplace","nationality","profession","address","phone","kinshipDegree","kinshipDegreeOption","ar","names","email","Password","website","country","landline_number","direct_employee_name","direct_employee_phone","factory_register","factory_register_image","letter_image","ValidationProvider","BRow","BCol","BFormGroup","BFormInput","BFormSelect","ToastificationContent","marital","maritalOption","locale","created","log","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","writable","_makeModelMixin","defaultValue","event","modelMixin","mixin","modelProps","MODEL_PROP_NAME","MODEL_EVENT_NAME","ariaInvalid","autocomplete","debounce","formatter","lazy","lazyFormatter","number","placeholder","plaintext","readonly","trim","formTextMixin","localValue","vModelValue","modifyValue","computedClass","isRange","isColor","sizeFormClass","stateClass","computedDebounce","hasFormatter","newValue","stringifyValue","modifiedValue","clearDebounce","$_inputDebounceTimer","$on","beforeDestroy","clearTimeout","formatValue","force","updateValue","doUpdate","$input","onInput","composing","formattedValue","defaultPrevented","propagation","onChange","onBlur","blur","TYPES","list","noWheel","step","localType","computedAttrs","form","safeId","computedAriaInvalid","computedListeners","bvListeners","setWheelStopper","deactivated","activated","onWheelFocus","onWheelBlur","stopWheel","domProps","labelField","optionsField","optionsMixin","normalizeOption","option","valueField","textField","html","htmlField","disabledField","normalizeOptions","BFormSelectOption","children","BFormSelectOptionGroup","formOptions","normalizeSlot","selectSize","computedSelectSize","plain","inputClass","selectedValue","selected","_value","$nextTick","_classCallCheck","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","OBSERVER_PROP_NAME","VisibilityObserver","el","vnode","callback","margin","once","visible","doneOnce","createObserver","stop","IntersectionObserver","handler","bind","rootMargin","threshold","_unused","context","entries","entry","isIntersecting","intersectionRatio","modifiers","mod","toLowerCase","_prevModifiers","oldValue","unbind","VBVisible","componentUpdated","maxRows","noAutoShrink","noResize","rows","wrap","BFormTextarea","listeners","heightInPx","computedStyle","computedRows","overflowY","computedMinRows","math","computedMaxRows","setHeight","visibleCallback","computeHeight","$isServer","lineHeight","border","borderTopWidth","borderBottomWidth","padding","paddingTop","paddingBottom","offset","minHeight","oldHeight","scrollHeight","contentRows","isNode","HTMLElement","createStore","initialState","queries","actions","state","actionQueue","dispatchQueue","getState","processActionQueue","processDispatchQueue","isBlocking","actionHandlers","str","_queryHandles","queryHandles","api","property","definition","forin","createObject","getAttribute","hasAttribute","svgElements","isSVGElement","attributes","child","insertBefore","IS_BROWSER","testElement","getChildCount","getViewRect","elementRect","outer","childView","isRectIgnored","childViewRect","expandRect","calculateRectSize","marginBottom","marginRight","isNumber","thereYet","position","destination","velocity","errorMargin","spring","_ref$stiffness","_ref$damping","_ref$mass","resting","interpolate","ts","skipToEndState","f","onupdate","oncomplete","setTarget","easeInOutQuad","tween","_ref$duration","_ref$easing","easing","_ref$delay","delay","start","reverse","animator","createAnimator","category","def","addGetSet","overwrite","getter","setter","mixinConfig","viewProps","viewInternalAPI","viewExternalAPI","initialProps","animation","addEvent","addEventListener","removeEvent","removeEventListener","viewState","remove","off","defaults","rotateX","rotateY","currentProps","getOffset","getScale","getRect","propsHaveChanged","applyStyles","newProps","perspective","elementCurrentStyle","cssText","Mixins","layoutCalculated","marginTop","marginLeft","offsetLeft","offsetTop","offsetWidth","offsetHeight","scrollTop","_ref$tag","_ref$name","_ref$attributes","_ref$read","read","_ref$write","_ref$create","_ref$destroy","_ref$filterFrameActio","filterFrameActionsForChild","_ref$didCreateView","didCreateView","_ref$didWriteView","_ref$ignoreRect","_ref$ignoreRectUpdate","ignoreRectUpdate","_ref$mixins","store","getComputedStyle","frameRect","isResting","activeMixins","writers","readers","destroyers","getElement","getChildViews","getReference","getStyle","_read","shouldUpdate","internalAPI","reader","_write","frameActions","writer","writerResting","timestamp","mixinResting","childResting","destroyer","sharedAPIDefinition","internalAPIDefinition","needle","linkView","unlinkView","registerReader","registerDestroyer","invalidateLayout","externalAPIDefinition","mixinAPIDefinition","mixinAPI","childCount","createPainter","fps","painter","interval","last","requestTick","cancelTick","setTimerType","tick","performance","now","cancelAnimationFrame","delta","pause","routes","_ref$actions","newNode","referenceNode","insertAfter","nextSibling","isEmpty","toString","toArray","splitter","split","isBoolean","toBoolean","toNumber","toInt","toFloat","isInt","isFinite","toBytes","base","naturalFileSize","isFunction","toFunctionReference","levels","level","process","patch","revert","fetch","restore","load","createServerAPI","outline","timeout","headers","createAction","method","withCredentials","ondata","parts","header","toServerAPI","isNull","isObject","isAPI","getType","replaceSingleQuotes","conversionTable","float","bytes","JSON","parse","convertTo","getValueByType","valueType","newValueType","convertedValue","createOption","currentValue","createOptions","optionDefinition","createInitialState","items","listUpdateTimeout","itemUpdateTimeout","processingQueue","fromCamels","separator","part","createOptionAPI","toUpperCase","createOptionActions","createOptionQueries","InteractionMethod","API","DROP","BROWSE","PASTE","NONE","getUniqueId","random","substring","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","arr2","iter","from","arrayRemove","run","sync","listener","_fire","fireSync","fire","_len2","_key2","onOnce","_cb","copyObjectPropertiesToObject","getOwnPropertyNames","PRIVATE","createItemAPI","removeReleasedItems","released","ItemStatus","INIT","IDLE","PROCESSING_QUEUED","PROCESSING","PROCESSING_COMPLETE","PROCESSING_ERROR","PROCESSING_REVERT_ERROR","LOADING","LOAD_ERROR","FileOrigin","INPUT","LIMBO","LOCAL","getNonNumeric","getDecimalSeparator","toLocaleString","getThousandsSeparator","decimalSeparator","thousandsStringWithSeparator","thousandsStringWithoutSeparator","NUMBER","ACTION","SERVER_API","REGEX","filters","applyFilterChain","matchingFilters","initialFilter","current","error","applyFilters","extendDefaultOptions","additionalOptions","defaultOptions","getOptions","opts","allowSyncAcceptAttribute","allowDrop","allowBrowse","allowPaste","allowReplace","allowRevert","allowRemove","allowProcess","allowReorder","allowDirectoriesOnly","storeAsFile","forceRevert","maxFiles","itemInsertLocationFreedom","itemInsertLocation","itemInsertInterval","dropOnPage","dropOnElement","dropValidation","ignoredFiles","instantUpload","maxParallelUploads","allowMinimumUploadDuration","chunkUploads","chunkForce","chunkSize","chunkRetryDelays","server","fileSizeBase","labelFileSizeBytes","labelFileSizeKilobytes","labelFileSizeMegabytes","labelFileSizeGigabytes","labelDecimalSeparator","labelThousandsSeparator","labelIdle","labelInvalidField","labelFileWaitingForSize","labelFileSizeNotAvailable","labelFileCountSingular","labelFileCountPlural","labelFileLoading","labelFileAdded","labelFileLoadError","labelFileRemoved","labelFileRemoveError","labelFileProcessing","labelFileProcessingComplete","labelFileProcessingAborted","labelFileProcessingError","labelFileProcessingRevertError","labelTapToCancel","labelTapToRetry","labelTapToUndo","labelButtonRemoveItem","labelButtonAbortItemLoad","labelButtonRetryItemLoad","labelButtonAbortItemProcessing","labelButtonUndoItemProcessing","labelButtonRetryItemProcessing","labelButtonProcessItem","iconRemove","iconProcess","iconRetry","iconUndo","iconDone","oninit","onwarning","onactivatefile","oninitfile","onaddfilestart","onaddfileprogress","onaddfile","onprocessfilestart","onprocessfileprogress","onprocessfileabort","onprocessfilerevert","onprocessfile","onprocessfiles","onremovefile","onpreparefile","onupdatefiles","onreorderfiles","beforeDropFile","beforeAddFile","beforeRemoveFile","beforePrepareFile","stylePanelLayout","stylePanelAspectRatio","styleItemPanelAspectRatio","styleButtonRemoveItemPosition","styleButtonProcessItemPosition","styleLoadIndicatorPosition","styleProgressIndicatorPosition","styleButtonRemoveItemAlign","files","credits","getItemByQuery","getNumericAspectRatioFromString","getActiveItems","Status","EMPTY","ERROR","BUSY","READY","res","canUpdateFileInput","dataTransfer","DataTransfer","File","ITEM_ERROR","ITEM_BUSY","ITEM_READY","isItemInErrorState","isItemInBusyState","isItemInReadyState","isAsync","GET_STATUS","GET_ITEM","GET_ACTIVE_ITEM","GET_ACTIVE_ITEMS","GET_ITEMS","GET_ITEM_NAME","GET_ITEM_SIZE","fileSize","GET_STYLES","GET_PANEL_ASPECT_RATIO","isShapeCircle","GET_ITEM_PANEL_ASPECT_RATIO","GET_ITEMS_BY_STATUS","GET_TOTAL_ITEMS","SHOULD_UPDATE_FILE_INPUT","IS_ASYNC","GET_FILE_SIZE_LABELS","labelBytes","labelKilobytes","labelMegabytes","labelGigabytes","hasRoomForItem","count","maxFileCount","limit","arrayInsert","insertItem","isBase64DataURI","guesstimateExtension","subtype","leftPad","getDateString","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getFileFromBlob","blob","lastModifiedDate","_relativePath","getBlobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","createBlob","arrayBuffer","BB","bb","append","getBlob","Blob","getBlobFromByteStringWithMimeType","byteString","ab","ArrayBuffer","ia","Uint8Array","charCodeAt","getMimeTypeFromBase64DataURI","dataURI","getBase64DataFromBase64DataURI","getByteStringFromBase64DataURI","atob","getBlobFromBase64DataURI","getFileFromBase64DataURI","getFileNameFromHeader","matches","decodeURI","getFileSizeFromHeader","getTranfserIdFromHeader","getFileInfoFromHeaders","info","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","createFileLoader","fetchFn","complete","getProgress","abort","loadURL","body","code","computable","total","fileinfo","setSource","isGet","sendRequest","onheaders","onprogress","ontimeout","onabort","aborted","xhr","headersReceived","encodeURI","encodeURIComponent","stringify","XMLHttpRequest","upload","lengthComputable","loaded","onreadystatechange","readyState","open","unescape","setRequestHeader","responseType","createResponse","createTimeoutResponse","getAllResponseHeaders","hasQS","buildURL","createFetchFunction","apiUrl","statusText","ChunkStatus","QUEUED","COMPLETE","WAITING","processFileChunked","metadata","transfer","chunks","chunkTransferId","chunkServer","serverId","fd","getResponseHeader","requestTransferId","formData","FormData","requestParams","requestTransferOffset","requestUrl","lastChunkIndex","retries","completeProcessingChunks","canProcessChunk","chunk","processChunk","processChunks","updateTotalProgress","retryProcessChunk","every","totalBytesTransfered","totalSize","totalProcessing","abortChunks","createFileProcessorFunction","canChunkUpload","shouldChunkUpload","willChunkUpload","createProcessorFunction","params","createRevertFunction","uniqueFileId","getRandomNumber","createPerceivedPerformanceUpdater","tickMin","tickMax","runtime","clear","createFileProcessor","processFn","perceivedProgress","perceivedPerformanceUpdater","perceivedDuration","progressFn","completeFn","transferId","getDuration","getFilenameWithoutExtension","lastIndexOf","createFileStub","deepCloneObject","createItem","serverFileReference","frozen","processingAborted","activeLoader","activeProcessor","abortProcessingRequestComplete","setStatus","getFileExtension","getFileType","getFileSize","getFile","loader","meta","success","retryLoad","abortLoad","processor","onprocess","requestProcessing","abortProcessing","revertFileUpload","serverTransferId","_setMetadata","silent","filenameWithoutExtension","fileExtension","fileType","relativePath","itemAPI","freeze","release","archive","getItemIndexByQuery","getItemById","itemId","fetchBlob","getDomainFromURL","protocol","isExternalURL","dynamicLabel","isMockItem","listUpdated","optionalPromise","sortItems","compare","getItemByQueryFromState","itemHandler","_ref$success","_ref$failure","failure","ABORT_ALL","DID_SET_FILES","_ref2$value","activeItems","interactionMethod","doUpload","shouldPrepareOutput","MOVE_ITEM","currentIndex","SORT","ADD_ITEMS","_ref6$success","_ref6$failure","insertLocation","totalItems","isValidFile","validItems","promises","all","ADD_ITEM","_ref7$index","_ref7$success","_ref7$failure","_ref7$options","_item","mainStatus","handleAdd","shouldAdd","loadComplete","REQUEST_PREPARE_OUTPUT","_ref9$failure","COMPLETE_LOAD_ITEM","RETRY_ITEM_LOAD","REQUEST_ITEM_PREPARE","_success","output","REQUEST_ITEM_PROCESSING","itemCanBeQueuedForProcessing","processNow","PROCESS_ITEM","totalCurrentUploads","processNext","queueEntry","itemReference","noop","allItemsProcessed","RETRY_ITEM_PROCESSING","REQUEST_REMOVE_ITEM","shouldRemove","RELEASE_ITEM","REMOVE_ITEM","removeFromView","ABORT_ITEM_LOAD","ABORT_ITEM_PROCESSING","REQUEST_REVERT_ITEM_PROCESSING","handleRevert","shouldRevert","requestRemoveResult","REVERT_ITEM_PROCESSING","SET_OPTIONS","optionKeys","prioritizedOptionKeys","PrioritizedOptions","orderedOptionKeys","formatFilename","createElement$1","tagName","textNode","nodeValue","createTextNode","polarToCartesian","centerX","centerY","radius","angleInDegrees","angleInRadians","describeArc","startAngle","endAngle","arcSweep","percentageArc","to","spin","align","ringStrokeWidth","ringFrom","ringTo","coordinates","progressIndicator","create$1","isDisabled","write$1","shouldDisable","removeAttribute","fileActionButton","toNaturalFileSize","_options$labelBytes","_options$labelKilobyt","_options$labelMegabyt","_options$labelGigabyt","KB","MB","GB","removeDecimalsWhenZero","decimalCount","toFixed","create$2","fileName","updateFile","updateFileSizeOnError","fileInfo","DID_UPDATE_ITEM_META","toPercentage","create$3","didSetItemLoadProgress","didSetItemProcessProgress","didRequestItemProcessing","didAbortItemProcessing","didCompleteItemProcessing","fileStatus","DID_REQUEST_ITEM_PROCESSING","DID_ABORT_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_UPDATE_ITEM_LOAD_PROGRESS","DID_THROW_ITEM_PROCESSING_REVERT_ERROR","DID_THROW_ITEM_REMOVE_ERROR","Buttons","AbortItemLoad","RetryItemLoad","RemoveItem","ProcessItem","AbortItemProcessing","RetryItemProcessing","RevertItemProcessing","ButtonKeys","calculateFileInfoOffset","getRemoveIndicatorAligment","buttonRect","buttonRemoveItem","calculateButtonWidth","buttonAbortItemLoad","calculateFileVerticalCenterOffset","calculateFileHorizontalCenterOffset","getLoadIndicatorAlignment","getProcessIndicatorAlignment","DefaultStyle","buttonRetryItemLoad","buttonProcessItem","buttonAbortItemProcessing","buttonRetryItemProcessing","buttonRevertItemProcessing","loadProgressIndicator","processProgressIndicator","processingCompleteIndicator","IdleStyle","ProcessingStyle","StyleMap","DID_START_ITEM_LOAD","DID_START_ITEM_REMOVE","DID_LOAD_LOCAL_ITEM","processingCompleteIndicatorView","create$4","buttonFilter","LocalButtons","alignRemoveItemButton","enabledButtons","_map","buttonView","stopPropagation","loadIndicatorView","progressIndicatorView","activeStyles","write$2","stylesToApply","defaultStyles","control","DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING","DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD","DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL","buttonAbortItemRemoval","create$5","fileWrapper","PANEL_SPRING_PROPS","create$6","section","createSection","scalable","viewConstructor","write$3","topRect","bottomRect","panel","heightCurrent","createDragHelper","itemIds","prevIndex","setIndex","getIndex","getItemIndex","ITEM_TRANSLATE_SPRING","ITEM_SCALE_SPRING","StateMap","create$7","handleClick","markedForRemoval","dragState","grab","isPrimary","removedActivateListener","pageX","pageY","dragOrigin","dragCenter","offsetX","offsetY","drag","preventDefault","dragOffset","dist","drop","route$1","DID_UPDATE_PANEL_HEIGHT","write$4","DID_GRAB_ITEM","DID_DRAG_ITEM","DID_DROP_ITEM","currentState","filepondItemState","getItemsPerRow","horizontalSpace","getItemIndexByPosition","positionInView","itemRect","itemHorizontalMargin","itemsPerRow","childMid","itemVerticalMargin","itemHeight","_index","indexX","indexY","itemTop","itemRight","itemBottom","dropAreaDimensions","setDimensions","create$8","lastItemSpanwDate","addItemView","addIndex","spawnDate","cooldown","moveItem","vx","vy","introItemView","removeItemView","getItemHeight","getItemWidth","dragItem","numItems","oldIndex","dragPosition","dragHeight","dragWidth","cols","setWidth","getGridIndex","getHeight","getWidth","getColIndex","visibleChildren","idx","childHeight","childBottom","childTop","route$2","DID_ADD_ITEM","DID_REMOVE_ITEM","write$5","dragCoordinates","dragIndex","dragIndexOffset","removeIndexOffset","addIndexOffset","childRect","visualHeight","prevX","prevY","visualIndex","vectorX","sign","vectorY","filterSetItemActions","create$9","overflowing","storeDragCoordinates","scopeLeft","scopeTop","clearDragCoordinates","route$3","DID_DRAG","DID_END_DRAG","write$6","overflow","newHeight","listScroller","attrToggle","enabledValue","resetFileInput","create$a","setAcceptedFileTypes","toggleAllowMultiple","toggleDirectoryFilter","toggleDisabled","toggleRequired","setCaptureMethod","handleChange","webkitRelativePath","doesAllowBrowse","disableField","updateRequiredStatus","shouldCheckValidity","updateFieldValidityStatus","browser","DID_SET_DISABLED","DID_SET_ALLOW_BROWSE","DID_SET_ALLOW_DIRECTORIES_ONLY","DID_SET_ALLOW_MULTIPLE","DID_SET_ACCEPTED_FILE_TYPES","DID_SET_CAPTURE_METHOD","DID_SET_REQUIRED","Key","ENTER","SPACE","create$b","handleKeyDown","isActivationKey","isLabelClick","updateLabelValue","caption","clickable","dropLabel","DID_SET_LABEL_IDLE","addBlob","moveBlob","hideBlob","explodeBlob","write$7","route$4","DID_DROP","drip","setInputFiles","create$c","fields","getField","syncFieldPositionsWithItems","didReorderItems","didAddItem","fileItem","isLocalFile","shouldUseFileInput","dataContainer","didLoadItem$1","field","didPrepareOutput","didSetDisabled","didRemoveItem","didDefineValue","write$8","DID_DEFINE_VALUE","DID_PREPARE_OUTPUT","DID_REORDER_ITEMS","DID_SORT_ITEMS","getRootNode","text$1","zip","epub","requestDataTransferItems","links","getLinks","hasFiles","promisedFiles","isFileSystemItem","getFilesFromItem","returnedFileGroups","group","isEntry","getAsEntry","isDirectory","kind","isDirectoryEntry","getFilesInDirectory","getAsFile","dirCounter","fileCounter","resolveIfDone","readEntries","dirEntry","directoryReader","createReader","readBatch","correctedFile","correctMissingFileType","fullPath","webkitGetAsEntry","getLinksFromTransferMetaData","getLinksFromTransferURLData","getData","dragNDropObservers","eventPosition","pageLeft","pageTop","layerX","layerY","createDragNDropClient","scopeToObserve","filterElement","getDragNDropObserver","client","ondrop","onenter","ondrag","onexit","allowdrop","addListener","newObserver","createDragNDropObserver","clients","dragenter","dragover","dragleave","handlers","createHandler","elementFromPoint","isEventTarget","elementAtPosition","pageXOffset","pageYOffset","initialTarget","setDropEffect","effect","dropEffect","overDropTarget","allowsTransfer","createHopper","scope","validateItems","catchesDropsOnPage","requiresDropOnElement","_options$filterItems","filterItems","lastState","filteredItems","ondragend","ondragstart","updateHopperState","hopperState","listening","listeners$1","handlePaste","activeEl","nodeName","inScope","clipboardData","listen","unlisten","createPaster","create$d","addFilesNotificationTimeout","notificationClearTimeout","filenames","assist","clear$1","listModified","isUsingFilePond","itemAdded","itemRemoved","itemProcessed","itemProcessedUndo","itemError","assistant","toCamels","RegExp","charAt","func","immidiateOnly","MAX_FILES_LIMIT","prevent","create$e","measure","bounds","widthPrevious","widthUpdated","updateHistory","previousAspectRatio","canHover","matchMedia","hasPointerEvents","passive","hasCredits","frag","rel","write$9","route$5","calculateRootBoundingBoxHeight","hopper","isMultiItem","maxItems","atMaxCapacity","addAction","listItemMargin","calculateListItemMargin","listHeight","calculateListHeight","labelHeight","currentLabelHeight","listMarginTop","listMarginBottom","visual","boundsHeight","history","MAX_BOUNCES","bounces","listAvailableHeight","_listAvailableHeight","cappedHeight","isCappedHeight","panelHeight","_listAvailableHeight2","itemMargin","scrollList","itemList","newItem","removedItem","verticalItemCount","measureHeight","maxHeight","exceedsMaxFiles","totalBrowseItems","hasMaxItems","getDragIndex","toggleDrop","isAllowed","enabled","toggleBrowse","togglePaste","paster","DID_SET_ALLOW_DROP","DID_SET_ALLOW_PASTE","createApp","initialOptions","originalElement","visibilityHandler","resizeDoneTimer","isResizing","isResizingHorizontally","initialWindowWidth","currentWindowWidth","resizeHandler","isHidden","readWriteApi","innerWidth","routeActionsToEvents","createEvent","eventRoutes","DID_DESTROY","DID_INIT","DID_THROW_MAX_FILES","DID_INIT_ITEM","DID_COMPLETE_ITEM_PROCESSING_ALL","DID_UPDATE_ITEMS","DID_ACTIVATE_ITEM","exposeEvent","pond","bubbles","cancelable","composed","filtered","prepareFile","addFile","addFiles","isFilePondFile","removeFile","sources","lastArgument","processFile","prepareFiles","processFiles","_len3","_key3","removeFiles","_len4","_key4","mappedQueries","q","moveFile","browse","appendTo","replaceElement","restoreElement","isAttachedTo","createAppObject","customOptions","app","lowerCaseFirstLetter","attributeNameToPropertyName","attributeName","mapObject","propertyMap","selector","mapping","selectorRegExp","getAttributesAsObject","attributeMapping","attribute","createAppAtElement","mergedOptions","attributeOptions","querySelectorAll","createApp$1","PRIVATE_METHODS","createAppAPI","replacements","workerBlob","workerURL","Worker","transferList","renameFile","renamedFile","copyFile","registeredPlugins","createAppPlugin","pluginOutline","views","isOperaMini","operamini","hasPromises","hasBlobSlice","hasCreateObjectURL","hasVisibility","hasTiming","hasCSSSupports","CSS","isIE11","apps","FileStatus","updateOptionTypes","hook","indexToRemove","matchedHooks","newHooks","newHook","plugins"],"mappings":"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","file":"js/chunk-7d0bcf92.911c2b55.js","sourcesContent":["import { Vue } from '../vue'; // @vue/component\n\nexport var formSelectionMixin = Vue.extend({\n  computed: {\n    selectionStart: {\n      // Expose selectionStart for formatters, etc\n      cache: false,\n\n      /* istanbul ignore next */\n      get: function get() {\n        return this.$refs.input.selectionStart;\n      },\n\n      /* istanbul ignore next */\n      set: function set(val) {\n        this.$refs.input.selectionStart = val;\n      }\n    },\n    selectionEnd: {\n      // Expose selectionEnd for formatters, etc\n      cache: false,\n\n      /* istanbul ignore next */\n      get: function get() {\n        return this.$refs.input.selectionEnd;\n      },\n\n      /* istanbul ignore next */\n      set: function set(val) {\n        this.$refs.input.selectionEnd = val;\n      }\n    },\n    selectionDirection: {\n      // Expose selectionDirection for formatters, etc\n      cache: false,\n\n      /* istanbul ignore next */\n      get: function get() {\n        return this.$refs.input.selectionDirection;\n      },\n\n      /* istanbul ignore next */\n      set: function set(val) {\n        this.$refs.input.selectionDirection = val;\n      }\n    }\n  },\n  methods: {\n    /* istanbul ignore next */\n    select: function select() {\n      var _this$$refs$input;\n\n      // For external handler that may want a select() method\n      (_this$$refs$input = this.$refs.input).select.apply(_this$$refs$input, arguments);\n    },\n\n    /* istanbul ignore next */\n    setSelectionRange: function setSelectionRange() {\n      var _this$$refs$input2;\n\n      // For external handler that may want a setSelectionRange(a,b,c) method\n      (_this$$refs$input2 = this.$refs.input).setSelectionRange.apply(_this$$refs$input2, arguments);\n    },\n\n    /* istanbul ignore next */\n    setRangeText: function setRangeText() {\n      var _this$$refs$input3;\n\n      // For external handler that may want a setRangeText(a,b,c) method\n      (_this$$refs$input3 = this.$refs.input).setRangeText.apply(_this$$refs$input3, arguments);\n    }\n  }\n});","/*!\n * vue-filepond v5.1.3\n * A handy FilePond adapter component for Vue\n * \n * Copyright (c) 2019 PQINA\n * https://pqina.nl/filepond\n * \n * Licensed under the MIT license.\n */\n\n(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define('vueFilePond', ['exports', 'vue', 'filepond'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(exports, require('vue'), require('filepond'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod.exports, global.Vue, global.FilePond);\n        global.vueFilePond = mod.exports;\n    }\n})(this, function (exports, _vue, _filepond) {\n    'use strict';\n\n    Object.defineProperty(exports, \"__esModule\", {\n        value: true\n    });\n    exports.setOptions = undefined;\n\n    var _vue2 = _interopRequireDefault(_vue);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    // Methods not made available to the component\n    var filteredComponentMethods = ['setOptions', 'on', 'off', 'onOnce', 'appendTo', 'insertAfter', 'insertBefore', 'isAttachedTo', 'replaceElement', 'restoreElement', 'destroy'];\n\n    // Test if is supported on this client\n    var isSupported = (0, _filepond.supported)();\n\n    // Setup initial prop types and update when plugins are added\n    var getNativeConstructorFromType = function getNativeConstructorFromType(type) {\n        return {\n            string: String,\n            boolean: Boolean,\n            array: Array,\n            function: Function,\n            int: Number,\n            serverapi: Object,\n            object: Object\n        }[type];\n    };\n\n    // Activated props\n    var props = {};\n\n    // Events that need to be mapped to emitters\n    var events = [];\n\n    // Props to watch\n    var watch = {};\n\n    // all active instances\n    var instances = [];\n\n    // global options\n    var globalOptions = {};\n    var setOptions = exports.setOptions = function setOptions(options) {\n        globalOptions = Object.assign(globalOptions, options);\n        instances.forEach(function (instance) {\n            instance.setOptions(globalOptions);\n        });\n    };\n\n    exports.default = function () {\n\n        // register plugins in FilePond\n        _filepond.registerPlugin.apply(undefined, arguments);\n\n        // build events and props array\n        events.length = 0;\n\n        var _loop = function _loop(prop) {\n            // don't add events to the props array\n            if (/^on/.test(prop)) {\n                events.push(prop);\n                return 'continue';\n            }\n\n            // get property type ( can be either a String or the type defined within FilePond )\n            props[prop] = [String, getNativeConstructorFromType(_filepond.OptionTypes[prop])];\n\n            // setup watcher\n            watch[prop] = function (value) {\n                this._pond[prop] = value;\n            };\n        };\n\n        for (var prop in _filepond.OptionTypes) {\n            var _ret = _loop(prop);\n\n            if (_ret === 'continue') continue;\n        }\n\n        // create \n        return _vue2.default.component('FilePond', {\n            name: 'FilePond',\n            props: props,\n            watch: watch,\n            render: function render(h) {\n                return h('div', {\n                    'class': {\n                        'filepond--wrapper': true\n                    }\n                }, [h('input', {\n                    attrs: {\n                        id: this.id,\n                        name: this.name,\n                        type: 'file',\n                        'class': this.className,\n                        required: this.required,\n                        multiple: this.allowMultiple,\n                        accept: this.acceptedFileTypes,\n                        capture: this.captureMethod\n                    }\n                })]);\n            },\n\n\n            // Will setup FilePond instance when mounted\n            mounted: function mounted() {\n                var _this = this;\n\n                // exit here if not supported\n                if (!isSupported) {\n                    return;\n                }\n\n                // get pond element\n                this._element = this.$el.querySelector('input');\n\n                // Map FilePond callback methods to Vue $emitters\n                var options = events.reduce(function (obj, value) {\n                    obj[value] = function () {\n                        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                            args[_key] = arguments[_key];\n                        }\n\n                        _this.$emit('input', _this._pond ? _this._pond.getFiles() : []);\n                        _this.$emit.apply(_this, [value.substr(2)].concat(args));\n                    };\n                    return obj;\n                }, {});\n\n                // Scoop up attributes that might not have been caught by Vue ( because the props object is extended dynamically )\n                var attrs = Object.assign({}, this.$attrs);\n\n                // Create our pond\n                this._pond = (0, _filepond.create)(this._element, Object.assign({}, globalOptions, options, attrs, this.$options.propsData));\n\n                // Copy instance method references to component instance\n                Object.keys(this._pond).filter(function (key) {\n                    return !filteredComponentMethods.includes(key);\n                }).forEach(function (key) {\n                    _this[key] = _this._pond[key];\n                });\n\n                // Add to instances so we can apply global options when used\n                instances.push(this._pond);\n            },\n\n\n            // Will clean up FilePond instance when unmounted\n            destroyed: function destroyed() {\n                var _this2 = this;\n\n                // reference to detached method\n                var detached = this.$options.detached;\n\n                // no longer attached, clean up\n\n                if (!this.$el.offsetParent) {\n                    detached.call(this);\n                    return;\n                }\n\n                // if we're still attached it's likely a transition is running, we need to \n                // determine the moment when we're no longer attached to the DOM so we can \n                // clean up properly\n                var mutationHandler = function mutationHandler(mutations, observer) {\n                    var removedNodes = (mutations[0] || {}).removedNodes || [];\n                    var removedNode = removedNodes[0];\n                    if (!removedNode || !removedNode.contains(_this2.$el)) return;\n                    observer.disconnect();\n                    detached.call(_this2);\n                };\n\n                // start observing parent element for changes to the DOM\n                var observer = new MutationObserver(mutationHandler);\n                observer.observe(document.documentElement, { childList: true, subtree: true });\n            },\n\n\n            // called when the component root node has been detached\n            detached: function detached() {\n\n                // exit when no pond defined\n                if (!this._pond) return;\n\n                // bye bye pond\n                this._pond.destroy();\n\n                // remove from instances\n                var index = instances.indexOf(this._pond);\n                if (index >= 0) {\n                    instances.splice(index, 1);\n                }\n\n                // clear reference\n                this._pond = null;\n            }\n        });\n    };\n});\n\n\n","/*!\n * FilePondPluginFileValidateType 1.2.8\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\n(function(global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined'\n    ? (module.exports = factory())\n    : typeof define === 'function' && define.amd\n    ? define(factory)\n    : ((global = global || self),\n      (global.FilePondPluginFileValidateType = factory()));\n})(this, function() {\n  'use strict';\n\n  var plugin = function plugin(_ref) {\n    var addFilter = _ref.addFilter,\n      utils = _ref.utils;\n    // get quick reference to Type utils\n    var Type = utils.Type,\n      isString = utils.isString,\n      replaceInString = utils.replaceInString,\n      guesstimateMimeType = utils.guesstimateMimeType,\n      getExtensionFromFilename = utils.getExtensionFromFilename,\n      getFilenameFromURL = utils.getFilenameFromURL;\n\n    var mimeTypeMatchesWildCard = function mimeTypeMatchesWildCard(\n      mimeType,\n      wildcard\n    ) {\n      var mimeTypeGroup = (/^[^/]+/.exec(mimeType) || []).pop(); // image/png -> image\n      var wildcardGroup = wildcard.slice(0, -2); // image/* -> image\n      return mimeTypeGroup === wildcardGroup;\n    };\n\n    var isValidMimeType = function isValidMimeType(\n      acceptedTypes,\n      userInputType\n    ) {\n      return acceptedTypes.some(function(acceptedType) {\n        // accepted is wildcard mime type\n        if (/\\*$/.test(acceptedType)) {\n          return mimeTypeMatchesWildCard(userInputType, acceptedType);\n        }\n\n        // is normal mime type\n        return acceptedType === userInputType;\n      });\n    };\n\n    var getItemType = function getItemType(item) {\n      // if the item is a url we guess the mime type by the extension\n      var type = '';\n      if (isString(item)) {\n        var filename = getFilenameFromURL(item);\n        var extension = getExtensionFromFilename(filename);\n        if (extension) {\n          type = guesstimateMimeType(extension);\n        }\n      } else {\n        type = item.type;\n      }\n\n      return type;\n    };\n\n    var validateFile = function validateFile(\n      item,\n      acceptedFileTypes,\n      typeDetector\n    ) {\n      // no types defined, everything is allowed \\o/\n      if (acceptedFileTypes.length === 0) {\n        return true;\n      }\n\n      // gets the item type\n      var type = getItemType(item);\n\n      // no type detector, test now\n      if (!typeDetector) {\n        return isValidMimeType(acceptedFileTypes, type);\n      }\n\n      // use type detector\n      return new Promise(function(resolve, reject) {\n        typeDetector(item, type)\n          .then(function(detectedType) {\n            if (isValidMimeType(acceptedFileTypes, detectedType)) {\n              resolve();\n            } else {\n              reject();\n            }\n          })\n          .catch(reject);\n      });\n    };\n\n    var applyMimeTypeMap = function applyMimeTypeMap(map) {\n      return function(acceptedFileType) {\n        return map[acceptedFileType] === null\n          ? false\n          : map[acceptedFileType] || acceptedFileType;\n      };\n    };\n\n    // setup attribute mapping for accept\n    addFilter('SET_ATTRIBUTE_TO_OPTION_MAP', function(map) {\n      return Object.assign(map, {\n        accept: 'acceptedFileTypes'\n      });\n    });\n\n    // filtering if an item is allowed in hopper\n    addFilter('ALLOW_HOPPER_ITEM', function(file, _ref2) {\n      var query = _ref2.query;\n      // if we are not doing file type validation exit\n      if (!query('GET_ALLOW_FILE_TYPE_VALIDATION')) {\n        return true;\n      }\n\n      // we validate the file against the accepted file types\n      return validateFile(file, query('GET_ACCEPTED_FILE_TYPES'));\n    });\n\n    // called for each file that is loaded\n    // right before it is set to the item state\n    // should return a promise\n    addFilter('LOAD_FILE', function(file, _ref3) {\n      var query = _ref3.query;\n      return new Promise(function(resolve, reject) {\n        if (!query('GET_ALLOW_FILE_TYPE_VALIDATION')) {\n          resolve(file);\n          return;\n        }\n\n        var acceptedFileTypes = query('GET_ACCEPTED_FILE_TYPES');\n\n        // custom type detector method\n        var typeDetector = query('GET_FILE_VALIDATE_TYPE_DETECT_TYPE');\n\n        // if invalid, exit here\n        var validationResult = validateFile(\n          file,\n          acceptedFileTypes,\n          typeDetector\n        );\n\n        var handleRejection = function handleRejection() {\n          var acceptedFileTypesMapped = acceptedFileTypes\n            .map(\n              applyMimeTypeMap(\n                query('GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP')\n              )\n            )\n            .filter(function(label) {\n              return label !== false;\n            });\n\n          var acceptedFileTypesMapped_unique = acceptedFileTypesMapped.filter(\n            function(item, index) {\n              return acceptedFileTypesMapped.indexOf(item) === index;\n            }\n          );\n\n          reject({\n            status: {\n              main: query('GET_LABEL_FILE_TYPE_NOT_ALLOWED'),\n              sub: replaceInString(\n                query('GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES'),\n                {\n                  allTypes: acceptedFileTypesMapped_unique.join(', '),\n                  allButLastType: acceptedFileTypesMapped_unique\n                    .slice(0, -1)\n                    .join(', '),\n                  lastType:\n                    acceptedFileTypesMapped_unique[\n                      acceptedFileTypesMapped.length - 1\n                    ]\n                }\n              )\n            }\n          });\n        };\n\n        // has returned new filename immidiately\n        if (typeof validationResult === 'boolean') {\n          if (!validationResult) {\n            return handleRejection();\n          }\n          return resolve(file);\n        }\n\n        // is promise\n        validationResult\n          .then(function() {\n            resolve(file);\n          })\n          .catch(handleRejection);\n      });\n    });\n\n    // expose plugin\n    return {\n      // default options\n      options: {\n        // Enable or disable file type validation\n        allowFileTypeValidation: [true, Type.BOOLEAN],\n\n        // What file types to accept\n        acceptedFileTypes: [[], Type.ARRAY],\n        // - must be comma separated\n        // - mime types: image/png, image/jpeg, image/gif\n        // - extensions: .png, .jpg, .jpeg ( not enabled yet )\n        // - wildcards: image/*\n\n        // label to show when a type is not allowed\n        labelFileTypeNotAllowed: ['File is of invalid type', Type.STRING],\n\n        // nicer label\n        fileValidateTypeLabelExpectedTypes: [\n          'Expects {allButLastType} or {lastType}',\n          Type.STRING\n        ],\n\n        // map mime types to extensions\n        fileValidateTypeLabelExpectedTypesMap: [{}, Type.OBJECT],\n\n        // Custom function to detect type of file\n        fileValidateTypeDetectType: [null, Type.FUNCTION]\n      }\n    };\n  };\n\n  // fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\n  var isBrowser =\n    typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  if (isBrowser) {\n    document.dispatchEvent(\n      new CustomEvent('FilePond:pluginloaded', { detail: plugin })\n    );\n  }\n\n  return plugin;\n});\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Agent.vue?vue&type=style&index=0&lang=scss&\"","import { Vue } from '../vue'; // @vue/component\n\nexport var formValidityMixin = Vue.extend({\n  computed: {\n    validity: {\n      // Expose validity property\n      cache: false,\n\n      /* istanbul ignore next */\n      get: function get() {\n        return this.$refs.input.validity;\n      }\n    },\n    validationMessage: {\n      // Expose validationMessage property\n      cache: false,\n\n      /* istanbul ignore next */\n      get: function get() {\n        return this.$refs.input.validationMessage;\n      }\n    },\n    willValidate: {\n      // Expose willValidate property\n      cache: false,\n\n      /* istanbul ignore next */\n      get: function get() {\n        return this.$refs.input.willValidate;\n      }\n    }\n  },\n  methods: {\n    /* istanbul ignore next */\n    setCustomValidity: function setCustomValidity() {\n      var _this$$refs$input;\n\n      // For external handler that may want a setCustomValidity(...) method\n      return (_this$$refs$input = this.$refs.input).setCustomValidity.apply(_this$$refs$input, arguments);\n    },\n\n    /* istanbul ignore next */\n    checkValidity: function checkValidity() {\n      var _this$$refs$input2;\n\n      // For external handler that may want a checkValidity(...) method\n      return (_this$$refs$input2 = this.$refs.input).checkValidity.apply(_this$$refs$input2, arguments);\n    },\n\n    /* istanbul ignore next */\n    reportValidity: function reportValidity() {\n      var _this$$refs$input3;\n\n      // For external handler that may want a reportValidity(...) method\n      return (_this$$refs$input3 = this.$refs.input).reportValidity.apply(_this$$refs$input3, arguments);\n    }\n  }\n});","/*!\n * FilePondPluginImagePreview 4.6.11\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\n(function(global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined'\n    ? (module.exports = factory())\n    : typeof define === 'function' && define.amd\n    ? define(factory)\n    : ((global = global || self),\n      (global.FilePondPluginImagePreview = factory()));\n})(this, function() {\n  'use strict';\n\n  // test if file is of type image and can be viewed in canvas\n  var isPreviewableImage = function isPreviewableImage(file) {\n    return /^image/.test(file.type);\n  };\n\n  function _typeof(obj) {\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n      _typeof = function(obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function(obj) {\n        return obj &&\n          typeof Symbol === 'function' &&\n          obj.constructor === Symbol &&\n          obj !== Symbol.prototype\n          ? 'symbol'\n          : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  var REACT_ELEMENT_TYPE;\n\n  function _jsx(type, props, key, children) {\n    if (!REACT_ELEMENT_TYPE) {\n      REACT_ELEMENT_TYPE =\n        (typeof Symbol === 'function' &&\n          Symbol.for &&\n          Symbol.for('react.element')) ||\n        0xeac7;\n    }\n\n    var defaultProps = type && type.defaultProps;\n    var childrenLength = arguments.length - 3;\n\n    if (!props && childrenLength !== 0) {\n      props = {\n        children: void 0\n      };\n    }\n\n    if (props && defaultProps) {\n      for (var propName in defaultProps) {\n        if (props[propName] === void 0) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    } else if (!props) {\n      props = defaultProps || {};\n    }\n\n    if (childrenLength === 1) {\n      props.children = children;\n    } else if (childrenLength > 1) {\n      var childArray = new Array(childrenLength);\n\n      for (var i = 0; i < childrenLength; i++) {\n        childArray[i] = arguments[i + 3];\n      }\n\n      props.children = childArray;\n    }\n\n    return {\n      $$typeof: REACT_ELEMENT_TYPE,\n      type: type,\n      key: key === undefined ? null : '' + key,\n      ref: null,\n      props: props,\n      _owner: null\n    };\n  }\n\n  function _asyncIterator(iterable) {\n    var method;\n\n    if (typeof Symbol === 'function') {\n      if (Symbol.asyncIterator) {\n        method = iterable[Symbol.asyncIterator];\n        if (method != null) return method.call(iterable);\n      }\n\n      if (Symbol.iterator) {\n        method = iterable[Symbol.iterator];\n        if (method != null) return method.call(iterable);\n      }\n    }\n\n    throw new TypeError('Object is not async iterable');\n  }\n\n  function _AwaitValue(value) {\n    this.wrapped = value;\n  }\n\n  function _AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function(resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n        var wrappedAwait = value instanceof _AwaitValue;\n        Promise.resolve(wrappedAwait ? value.wrapped : value).then(\n          function(arg) {\n            if (wrappedAwait) {\n              resume('next', arg);\n              return;\n            }\n\n            settle(result.done ? 'return' : 'normal', arg);\n          },\n          function(err) {\n            resume('throw', err);\n          }\n        );\n      } catch (err) {\n        settle('throw', err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case 'return':\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case 'throw':\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== 'function') {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === 'function' && Symbol.asyncIterator) {\n    _AsyncGenerator.prototype[Symbol.asyncIterator] = function() {\n      return this;\n    };\n  }\n\n  _AsyncGenerator.prototype.next = function(arg) {\n    return this._invoke('next', arg);\n  };\n\n  _AsyncGenerator.prototype.throw = function(arg) {\n    return this._invoke('throw', arg);\n  };\n\n  _AsyncGenerator.prototype.return = function(arg) {\n    return this._invoke('return', arg);\n  };\n\n  function _wrapAsyncGenerator(fn) {\n    return function() {\n      return new _AsyncGenerator(fn.apply(this, arguments));\n    };\n  }\n\n  function _awaitAsyncGenerator(value) {\n    return new _AwaitValue(value);\n  }\n\n  function _asyncGeneratorDelegate(inner, awaitWrap) {\n    var iter = {},\n      waiting = false;\n\n    function pump(key, value) {\n      waiting = true;\n      value = new Promise(function(resolve) {\n        resolve(inner[key](value));\n      });\n      return {\n        done: false,\n        value: awaitWrap(value)\n      };\n    }\n\n    if (typeof Symbol === 'function' && Symbol.iterator) {\n      iter[Symbol.iterator] = function() {\n        return this;\n      };\n    }\n\n    iter.next = function(value) {\n      if (waiting) {\n        waiting = false;\n        return value;\n      }\n\n      return pump('next', value);\n    };\n\n    if (typeof inner.throw === 'function') {\n      iter.throw = function(value) {\n        if (waiting) {\n          waiting = false;\n          throw value;\n        }\n\n        return pump('throw', value);\n      };\n    }\n\n    if (typeof inner.return === 'function') {\n      iter.return = function(value) {\n        return pump('return', value);\n      };\n    }\n\n    return iter;\n  }\n\n  function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n      var info = gen[key](arg);\n      var value = info.value;\n    } catch (error) {\n      reject(error);\n      return;\n    }\n\n    if (info.done) {\n      resolve(value);\n    } else {\n      Promise.resolve(value).then(_next, _throw);\n    }\n  }\n\n  function _asyncToGenerator(fn) {\n    return function() {\n      var self = this,\n        args = arguments;\n      return new Promise(function(resolve, reject) {\n        var gen = fn.apply(self, args);\n\n        function _next(value) {\n          asyncGeneratorStep(\n            gen,\n            resolve,\n            reject,\n            _next,\n            _throw,\n            'next',\n            value\n          );\n        }\n\n        function _throw(err) {\n          asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n        }\n\n        _next(undefined);\n      });\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError('Cannot call a class as a function');\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ('value' in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineEnumerableProperties(obj, descs) {\n    for (var key in descs) {\n      var desc = descs[key];\n      desc.configurable = desc.enumerable = true;\n      if ('value' in desc) desc.writable = true;\n      Object.defineProperty(obj, key, desc);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n      for (var i = 0; i < objectSymbols.length; i++) {\n        var sym = objectSymbols[i];\n        var desc = descs[sym];\n        desc.configurable = desc.enumerable = true;\n        if ('value' in desc) desc.writable = true;\n        Object.defineProperty(obj, sym, desc);\n      }\n    }\n\n    return obj;\n  }\n\n  function _defaults(obj, defaults) {\n    var keys = Object.getOwnPropertyNames(defaults);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n      if (value && value.configurable && obj[key] === undefined) {\n        Object.defineProperty(obj, key, value);\n      }\n    }\n\n    return obj;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _extends() {\n    _extends =\n      Object.assign ||\n      function(target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i];\n\n          for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n              target[key] = source[key];\n            }\n          }\n        }\n\n        return target;\n      };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n      var ownKeys = Object.keys(source);\n\n      if (typeof Object.getOwnPropertySymbols === 'function') {\n        ownKeys = ownKeys.concat(\n          Object.getOwnPropertySymbols(source).filter(function(sym) {\n            return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n          })\n        );\n      }\n\n      ownKeys.forEach(function(key) {\n        _defineProperty(target, key, source[key]);\n      });\n    }\n\n    return target;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n      throw new TypeError('Super expression must either be null or a function');\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    subClass.__proto__ = superClass;\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n      ? Object.getPrototypeOf\n      : function _getPrototypeOf(o) {\n          return o.__proto__ || Object.getPrototypeOf(o);\n        };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n      Object.setPrototypeOf ||\n      function _setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n      };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function isNativeReflectConstruct() {\n    if (typeof Reflect === 'undefined' || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === 'function') return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _construct(Parent, args, Class) {\n    if (isNativeReflectConstruct()) {\n      _construct = Reflect.construct;\n    } else {\n      _construct = function _construct(Parent, args, Class) {\n        var a = [null];\n        a.push.apply(a, args);\n        var Constructor = Function.bind.apply(Parent, a);\n        var instance = new Constructor();\n        if (Class) _setPrototypeOf(instance, Class.prototype);\n        return instance;\n      };\n    }\n\n    return _construct.apply(null, arguments);\n  }\n\n  function _isNativeFunction(fn) {\n    return Function.toString.call(fn).indexOf('[native code]') !== -1;\n  }\n\n  function _wrapNativeSuper(Class) {\n    var _cache = typeof Map === 'function' ? new Map() : undefined;\n\n    _wrapNativeSuper = function _wrapNativeSuper(Class) {\n      if (Class === null || !_isNativeFunction(Class)) return Class;\n\n      if (typeof Class !== 'function') {\n        throw new TypeError(\n          'Super expression must either be null or a function'\n        );\n      }\n\n      if (typeof _cache !== 'undefined') {\n        if (_cache.has(Class)) return _cache.get(Class);\n\n        _cache.set(Class, Wrapper);\n      }\n\n      function Wrapper() {\n        return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n      }\n\n      Wrapper.prototype = Object.create(Class.prototype, {\n        constructor: {\n          value: Wrapper,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n      return _setPrototypeOf(Wrapper, Class);\n    };\n\n    return _wrapNativeSuper(Class);\n  }\n\n  function _instanceof(left, right) {\n    if (\n      right != null &&\n      typeof Symbol !== 'undefined' &&\n      right[Symbol.hasInstance]\n    ) {\n      return right[Symbol.hasInstance](left);\n    } else {\n      return left instanceof right;\n    }\n  }\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule\n      ? obj\n      : {\n          default: obj\n        };\n  }\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) {\n            var desc =\n              Object.defineProperty && Object.getOwnPropertyDescriptor\n                ? Object.getOwnPropertyDescriptor(obj, key)\n                : {};\n\n            if (desc.get || desc.set) {\n              Object.defineProperty(newObj, key, desc);\n            } else {\n              newObj[key] = obj[key];\n            }\n          }\n        }\n      }\n\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n\n  function _newArrowCheck(innerThis, boundThis) {\n    if (innerThis !== boundThis) {\n      throw new TypeError('Cannot instantiate an arrow function');\n    }\n  }\n\n  function _objectDestructuringEmpty(obj) {\n    if (obj == null) throw new TypeError('Cannot destructure undefined');\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\n        \"this hasn't been initialised - super() hasn't been called\"\n      );\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === 'object' || typeof call === 'function')) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _superPropBase(object, property) {\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\n      object = _getPrototypeOf(object);\n      if (object === null) break;\n    }\n\n    return object;\n  }\n\n  function _get(target, property, receiver) {\n    if (typeof Reflect !== 'undefined' && Reflect.get) {\n      _get = Reflect.get;\n    } else {\n      _get = function _get(target, property, receiver) {\n        var base = _superPropBase(target, property);\n\n        if (!base) return;\n        var desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.get) {\n          return desc.get.call(receiver);\n        }\n\n        return desc.value;\n      };\n    }\n\n    return _get(target, property, receiver || target);\n  }\n\n  function set(target, property, value, receiver) {\n    if (typeof Reflect !== 'undefined' && Reflect.set) {\n      set = Reflect.set;\n    } else {\n      set = function set(target, property, value, receiver) {\n        var base = _superPropBase(target, property);\n\n        var desc;\n\n        if (base) {\n          desc = Object.getOwnPropertyDescriptor(base, property);\n\n          if (desc.set) {\n            desc.set.call(receiver, value);\n            return true;\n          } else if (!desc.writable) {\n            return false;\n          }\n        }\n\n        desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n        if (desc) {\n          if (!desc.writable) {\n            return false;\n          }\n\n          desc.value = value;\n          Object.defineProperty(receiver, property, desc);\n        } else {\n          _defineProperty(receiver, property, value);\n        }\n\n        return true;\n      };\n    }\n\n    return set(target, property, value, receiver);\n  }\n\n  function _set(target, property, value, receiver, isStrict) {\n    var s = set(target, property, value, receiver || target);\n\n    if (!s && isStrict) {\n      throw new Error('failed to set property');\n    }\n\n    return value;\n  }\n\n  function _taggedTemplateLiteral(strings, raw) {\n    if (!raw) {\n      raw = strings.slice(0);\n    }\n\n    return Object.freeze(\n      Object.defineProperties(strings, {\n        raw: {\n          value: Object.freeze(raw)\n        }\n      })\n    );\n  }\n\n  function _taggedTemplateLiteralLoose(strings, raw) {\n    if (!raw) {\n      raw = strings.slice(0);\n    }\n\n    strings.raw = raw;\n    return strings;\n  }\n\n  function _temporalRef(val, name) {\n    if (val === _temporalUndefined) {\n      throw new ReferenceError(name + ' is not defined - temporal dead zone');\n    } else {\n      return val;\n    }\n  }\n\n  function _readOnlyError(name) {\n    throw new Error('\"' + name + '\" is read-only');\n  }\n\n  function _classNameTDZError(name) {\n    throw new Error(\n      'Class \"' + name + '\" cannot be referenced in computed property keys.'\n    );\n  }\n\n  var _temporalUndefined = {};\n\n  function _slicedToArray(arr, i) {\n    return (\n      _arrayWithHoles(arr) ||\n      _iterableToArrayLimit(arr, i) ||\n      _nonIterableRest()\n    );\n  }\n\n  function _slicedToArrayLoose(arr, i) {\n    return (\n      _arrayWithHoles(arr) ||\n      _iterableToArrayLimitLoose(arr, i) ||\n      _nonIterableRest()\n    );\n  }\n\n  function _toArray(arr) {\n    return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest();\n  }\n\n  function _toConsumableArray(arr) {\n    return (\n      _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread()\n    );\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++)\n        arr2[i] = arr[i];\n\n      return arr2;\n    }\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArray(iter) {\n    if (\n      Symbol.iterator in Object(iter) ||\n      Object.prototype.toString.call(iter) === '[object Arguments]'\n    )\n      return Array.from(iter);\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (\n        var _i = arr[Symbol.iterator](), _s;\n        !(_n = (_s = _i.next()).done);\n        _n = true\n      ) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i['return'] != null) _i['return']();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _iterableToArrayLimitLoose(arr, i) {\n    var _arr = [];\n\n    for (\n      var _iterator = arr[Symbol.iterator](), _step;\n      !(_step = _iterator.next()).done;\n\n    ) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError('Invalid attempt to spread non-iterable instance');\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError('Invalid attempt to destructure non-iterable instance');\n  }\n\n  function _skipFirstGeneratorNext(fn) {\n    return function() {\n      var it = fn.apply(this, arguments);\n      it.next();\n      return it;\n    };\n  }\n\n  function _toPrimitive(input, hint) {\n    if (typeof input !== 'object' || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n\n    if (prim !== undefined) {\n      var res = prim.call(input, hint || 'default');\n      if (typeof res !== 'object') return res;\n      throw new TypeError('@@toPrimitive must return a primitive value.');\n    }\n\n    return (hint === 'string' ? String : Number)(input);\n  }\n\n  function _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, 'string');\n\n    return typeof key === 'symbol' ? key : String(key);\n  }\n\n  function _initializerWarningHelper(descriptor, context) {\n    throw new Error(\n      'Decorating class property failed. Please ensure that ' +\n        'proposal-class-properties is enabled and set to use loose mode. ' +\n        'To use proposal-class-properties in spec mode with decorators, wait for ' +\n        'the next major version of decorators in stage 2.'\n    );\n  }\n\n  function _initializerDefineProperty(target, property, descriptor, context) {\n    if (!descriptor) return;\n    Object.defineProperty(target, property, {\n      enumerable: descriptor.enumerable,\n      configurable: descriptor.configurable,\n      writable: descriptor.writable,\n      value: descriptor.initializer\n        ? descriptor.initializer.call(context)\n        : void 0\n    });\n  }\n\n  function _applyDecoratedDescriptor(\n    target,\n    property,\n    decorators,\n    descriptor,\n    context\n  ) {\n    var desc = {};\n    Object.keys(descriptor).forEach(function(key) {\n      desc[key] = descriptor[key];\n    });\n    desc.enumerable = !!desc.enumerable;\n    desc.configurable = !!desc.configurable;\n\n    if ('value' in desc || desc.initializer) {\n      desc.writable = true;\n    }\n\n    desc = decorators\n      .slice()\n      .reverse()\n      .reduce(function(desc, decorator) {\n        return decorator(target, property, desc) || desc;\n      }, desc);\n\n    if (context && desc.initializer !== void 0) {\n      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n      desc.initializer = undefined;\n    }\n\n    if (desc.initializer === void 0) {\n      Object.defineProperty(target, property, desc);\n      desc = null;\n    }\n\n    return desc;\n  }\n\n  var id = 0;\n\n  function _classPrivateFieldLooseKey(name) {\n    return '__private_' + id++ + '_' + name;\n  }\n\n  function _classPrivateFieldLooseBase(receiver, privateKey) {\n    if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n      throw new TypeError('attempted to use private field on non-instance');\n    }\n\n    return receiver;\n  }\n\n  function _classPrivateFieldGet(receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n      throw new TypeError('attempted to get private field on non-instance');\n    }\n\n    var descriptor = privateMap.get(receiver);\n\n    if (descriptor.get) {\n      return descriptor.get.call(receiver);\n    }\n\n    return descriptor.value;\n  }\n\n  function _classPrivateFieldSet(receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n      throw new TypeError('attempted to set private field on non-instance');\n    }\n\n    var descriptor = privateMap.get(receiver);\n\n    if (descriptor.set) {\n      descriptor.set.call(receiver, value);\n    } else {\n      if (!descriptor.writable) {\n        throw new TypeError('attempted to set read only private field');\n      }\n\n      descriptor.value = value;\n    }\n\n    return value;\n  }\n\n  function _classStaticPrivateFieldSpecGet(\n    receiver,\n    classConstructor,\n    descriptor\n  ) {\n    if (receiver !== classConstructor) {\n      throw new TypeError('Private static access of wrong provenance');\n    }\n\n    return descriptor.value;\n  }\n\n  function _classStaticPrivateFieldSpecSet(\n    receiver,\n    classConstructor,\n    descriptor,\n    value\n  ) {\n    if (receiver !== classConstructor) {\n      throw new TypeError('Private static access of wrong provenance');\n    }\n\n    if (!descriptor.writable) {\n      throw new TypeError('attempted to set read only private field');\n    }\n\n    descriptor.value = value;\n    return value;\n  }\n\n  function _classStaticPrivateMethodGet(receiver, classConstructor, method) {\n    if (receiver !== classConstructor) {\n      throw new TypeError('Private static access of wrong provenance');\n    }\n\n    return method;\n  }\n\n  function _classStaticPrivateMethodSet() {\n    throw new TypeError('attempted to set read only static private field');\n  }\n\n  function _decorate(decorators, factory, superClass, mixins) {\n    var api = _getDecoratorsApi();\n\n    if (mixins) {\n      for (var i = 0; i < mixins.length; i++) {\n        api = mixins[i](api);\n      }\n    }\n\n    var r = factory(function initialize(O) {\n      api.initializeInstanceElements(O, decorated.elements);\n    }, superClass);\n    var decorated = api.decorateClass(\n      _coalesceClassElements(r.d.map(_createElementDescriptor)),\n      decorators\n    );\n    api.initializeClassElements(r.F, decorated.elements);\n    return api.runClassFinishers(r.F, decorated.finishers);\n  }\n\n  function _getDecoratorsApi() {\n    _getDecoratorsApi = function() {\n      return api;\n    };\n\n    var api = {\n      elementsDefinitionOrder: [['method'], ['field']],\n      initializeInstanceElements: function(O, elements) {\n        ['method', 'field'].forEach(function(kind) {\n          elements.forEach(function(element) {\n            if (element.kind === kind && element.placement === 'own') {\n              this.defineClassElement(O, element);\n            }\n          }, this);\n        }, this);\n      },\n      initializeClassElements: function(F, elements) {\n        var proto = F.prototype;\n        ['method', 'field'].forEach(function(kind) {\n          elements.forEach(function(element) {\n            var placement = element.placement;\n\n            if (\n              element.kind === kind &&\n              (placement === 'static' || placement === 'prototype')\n            ) {\n              var receiver = placement === 'static' ? F : proto;\n              this.defineClassElement(receiver, element);\n            }\n          }, this);\n        }, this);\n      },\n      defineClassElement: function(receiver, element) {\n        var descriptor = element.descriptor;\n\n        if (element.kind === 'field') {\n          var initializer = element.initializer;\n          descriptor = {\n            enumerable: descriptor.enumerable,\n            writable: descriptor.writable,\n            configurable: descriptor.configurable,\n            value: initializer === void 0 ? void 0 : initializer.call(receiver)\n          };\n        }\n\n        Object.defineProperty(receiver, element.key, descriptor);\n      },\n      decorateClass: function(elements, decorators) {\n        var newElements = [];\n        var finishers = [];\n        var placements = {\n          static: [],\n          prototype: [],\n          own: []\n        };\n        elements.forEach(function(element) {\n          this.addElementPlacement(element, placements);\n        }, this);\n        elements.forEach(function(element) {\n          if (!_hasDecorators(element)) return newElements.push(element);\n          var elementFinishersExtras = this.decorateElement(\n            element,\n            placements\n          );\n          newElements.push(elementFinishersExtras.element);\n          newElements.push.apply(newElements, elementFinishersExtras.extras);\n          finishers.push.apply(finishers, elementFinishersExtras.finishers);\n        }, this);\n\n        if (!decorators) {\n          return {\n            elements: newElements,\n            finishers: finishers\n          };\n        }\n\n        var result = this.decorateConstructor(newElements, decorators);\n        finishers.push.apply(finishers, result.finishers);\n        result.finishers = finishers;\n        return result;\n      },\n      addElementPlacement: function(element, placements, silent) {\n        var keys = placements[element.placement];\n\n        if (!silent && keys.indexOf(element.key) !== -1) {\n          throw new TypeError('Duplicated element (' + element.key + ')');\n        }\n\n        keys.push(element.key);\n      },\n      decorateElement: function(element, placements) {\n        var extras = [];\n        var finishers = [];\n\n        for (\n          var decorators = element.decorators, i = decorators.length - 1;\n          i >= 0;\n          i--\n        ) {\n          var keys = placements[element.placement];\n          keys.splice(keys.indexOf(element.key), 1);\n          var elementObject = this.fromElementDescriptor(element);\n          var elementFinisherExtras = this.toElementFinisherExtras(\n            (0, decorators[i])(elementObject) || elementObject\n          );\n          element = elementFinisherExtras.element;\n          this.addElementPlacement(element, placements);\n\n          if (elementFinisherExtras.finisher) {\n            finishers.push(elementFinisherExtras.finisher);\n          }\n\n          var newExtras = elementFinisherExtras.extras;\n\n          if (newExtras) {\n            for (var j = 0; j < newExtras.length; j++) {\n              this.addElementPlacement(newExtras[j], placements);\n            }\n\n            extras.push.apply(extras, newExtras);\n          }\n        }\n\n        return {\n          element: element,\n          finishers: finishers,\n          extras: extras\n        };\n      },\n      decorateConstructor: function(elements, decorators) {\n        var finishers = [];\n\n        for (var i = decorators.length - 1; i >= 0; i--) {\n          var obj = this.fromClassDescriptor(elements);\n          var elementsAndFinisher = this.toClassDescriptor(\n            (0, decorators[i])(obj) || obj\n          );\n\n          if (elementsAndFinisher.finisher !== undefined) {\n            finishers.push(elementsAndFinisher.finisher);\n          }\n\n          if (elementsAndFinisher.elements !== undefined) {\n            elements = elementsAndFinisher.elements;\n\n            for (var j = 0; j < elements.length - 1; j++) {\n              for (var k = j + 1; k < elements.length; k++) {\n                if (\n                  elements[j].key === elements[k].key &&\n                  elements[j].placement === elements[k].placement\n                ) {\n                  throw new TypeError(\n                    'Duplicated element (' + elements[j].key + ')'\n                  );\n                }\n              }\n            }\n          }\n        }\n\n        return {\n          elements: elements,\n          finishers: finishers\n        };\n      },\n      fromElementDescriptor: function(element) {\n        var obj = {\n          kind: element.kind,\n          key: element.key,\n          placement: element.placement,\n          descriptor: element.descriptor\n        };\n        var desc = {\n          value: 'Descriptor',\n          configurable: true\n        };\n        Object.defineProperty(obj, Symbol.toStringTag, desc);\n        if (element.kind === 'field') obj.initializer = element.initializer;\n        return obj;\n      },\n      toElementDescriptors: function(elementObjects) {\n        if (elementObjects === undefined) return;\n        return _toArray(elementObjects).map(function(elementObject) {\n          var element = this.toElementDescriptor(elementObject);\n          this.disallowProperty(\n            elementObject,\n            'finisher',\n            'An element descriptor'\n          );\n          this.disallowProperty(\n            elementObject,\n            'extras',\n            'An element descriptor'\n          );\n          return element;\n        }, this);\n      },\n      toElementDescriptor: function(elementObject) {\n        var kind = String(elementObject.kind);\n\n        if (kind !== 'method' && kind !== 'field') {\n          throw new TypeError(\n            'An element descriptor\\'s .kind property must be either \"method\" or' +\n              ' \"field\", but a decorator created an element descriptor with' +\n              ' .kind \"' +\n              kind +\n              '\"'\n          );\n        }\n\n        var key = _toPropertyKey(elementObject.key);\n\n        var placement = String(elementObject.placement);\n\n        if (\n          placement !== 'static' &&\n          placement !== 'prototype' &&\n          placement !== 'own'\n        ) {\n          throw new TypeError(\n            'An element descriptor\\'s .placement property must be one of \"static\",' +\n              ' \"prototype\" or \"own\", but a decorator created an element descriptor' +\n              ' with .placement \"' +\n              placement +\n              '\"'\n          );\n        }\n\n        var descriptor = elementObject.descriptor;\n        this.disallowProperty(\n          elementObject,\n          'elements',\n          'An element descriptor'\n        );\n        var element = {\n          kind: kind,\n          key: key,\n          placement: placement,\n          descriptor: Object.assign({}, descriptor)\n        };\n\n        if (kind !== 'field') {\n          this.disallowProperty(\n            elementObject,\n            'initializer',\n            'A method descriptor'\n          );\n        } else {\n          this.disallowProperty(\n            descriptor,\n            'get',\n            'The property descriptor of a field descriptor'\n          );\n          this.disallowProperty(\n            descriptor,\n            'set',\n            'The property descriptor of a field descriptor'\n          );\n          this.disallowProperty(\n            descriptor,\n            'value',\n            'The property descriptor of a field descriptor'\n          );\n          element.initializer = elementObject.initializer;\n        }\n\n        return element;\n      },\n      toElementFinisherExtras: function(elementObject) {\n        var element = this.toElementDescriptor(elementObject);\n\n        var finisher = _optionalCallableProperty(elementObject, 'finisher');\n\n        var extras = this.toElementDescriptors(elementObject.extras);\n        return {\n          element: element,\n          finisher: finisher,\n          extras: extras\n        };\n      },\n      fromClassDescriptor: function(elements) {\n        var obj = {\n          kind: 'class',\n          elements: elements.map(this.fromElementDescriptor, this)\n        };\n        var desc = {\n          value: 'Descriptor',\n          configurable: true\n        };\n        Object.defineProperty(obj, Symbol.toStringTag, desc);\n        return obj;\n      },\n      toClassDescriptor: function(obj) {\n        var kind = String(obj.kind);\n\n        if (kind !== 'class') {\n          throw new TypeError(\n            'A class descriptor\\'s .kind property must be \"class\", but a decorator' +\n              ' created a class descriptor with .kind \"' +\n              kind +\n              '\"'\n          );\n        }\n\n        this.disallowProperty(obj, 'key', 'A class descriptor');\n        this.disallowProperty(obj, 'placement', 'A class descriptor');\n        this.disallowProperty(obj, 'descriptor', 'A class descriptor');\n        this.disallowProperty(obj, 'initializer', 'A class descriptor');\n        this.disallowProperty(obj, 'extras', 'A class descriptor');\n\n        var finisher = _optionalCallableProperty(obj, 'finisher');\n\n        var elements = this.toElementDescriptors(obj.elements);\n        return {\n          elements: elements,\n          finisher: finisher\n        };\n      },\n      runClassFinishers: function(constructor, finishers) {\n        for (var i = 0; i < finishers.length; i++) {\n          var newConstructor = (0, finishers[i])(constructor);\n\n          if (newConstructor !== undefined) {\n            if (typeof newConstructor !== 'function') {\n              throw new TypeError('Finishers must return a constructor.');\n            }\n\n            constructor = newConstructor;\n          }\n        }\n\n        return constructor;\n      },\n      disallowProperty: function(obj, name, objectType) {\n        if (obj[name] !== undefined) {\n          throw new TypeError(\n            objectType + \" can't have a .\" + name + ' property.'\n          );\n        }\n      }\n    };\n    return api;\n  }\n\n  function _createElementDescriptor(def) {\n    var key = _toPropertyKey(def.key);\n\n    var descriptor;\n\n    if (def.kind === 'method') {\n      descriptor = {\n        value: def.value,\n        writable: true,\n        configurable: true,\n        enumerable: false\n      };\n    } else if (def.kind === 'get') {\n      descriptor = {\n        get: def.value,\n        configurable: true,\n        enumerable: false\n      };\n    } else if (def.kind === 'set') {\n      descriptor = {\n        set: def.value,\n        configurable: true,\n        enumerable: false\n      };\n    } else if (def.kind === 'field') {\n      descriptor = {\n        configurable: true,\n        writable: true,\n        enumerable: true\n      };\n    }\n\n    var element = {\n      kind: def.kind === 'field' ? 'field' : 'method',\n      key: key,\n      placement: def.static\n        ? 'static'\n        : def.kind === 'field'\n        ? 'own'\n        : 'prototype',\n      descriptor: descriptor\n    };\n    if (def.decorators) element.decorators = def.decorators;\n    if (def.kind === 'field') element.initializer = def.value;\n    return element;\n  }\n\n  function _coalesceGetterSetter(element, other) {\n    if (element.descriptor.get !== undefined) {\n      other.descriptor.get = element.descriptor.get;\n    } else {\n      other.descriptor.set = element.descriptor.set;\n    }\n  }\n\n  function _coalesceClassElements(elements) {\n    var newElements = [];\n\n    var isSameElement = function(other) {\n      return (\n        other.kind === 'method' &&\n        other.key === element.key &&\n        other.placement === element.placement\n      );\n    };\n\n    for (var i = 0; i < elements.length; i++) {\n      var element = elements[i];\n      var other;\n\n      if (\n        element.kind === 'method' &&\n        (other = newElements.find(isSameElement))\n      ) {\n        if (\n          _isDataDescriptor(element.descriptor) ||\n          _isDataDescriptor(other.descriptor)\n        ) {\n          if (_hasDecorators(element) || _hasDecorators(other)) {\n            throw new ReferenceError(\n              'Duplicated methods (' + element.key + \") can't be decorated.\"\n            );\n          }\n\n          other.descriptor = element.descriptor;\n        } else {\n          if (_hasDecorators(element)) {\n            if (_hasDecorators(other)) {\n              throw new ReferenceError(\n                \"Decorators can't be placed on different accessors with for \" +\n                  'the same property (' +\n                  element.key +\n                  ').'\n              );\n            }\n\n            other.decorators = element.decorators;\n          }\n\n          _coalesceGetterSetter(element, other);\n        }\n      } else {\n        newElements.push(element);\n      }\n    }\n\n    return newElements;\n  }\n\n  function _hasDecorators(element) {\n    return element.decorators && element.decorators.length;\n  }\n\n  function _isDataDescriptor(desc) {\n    return (\n      desc !== undefined &&\n      !(desc.value === undefined && desc.writable === undefined)\n    );\n  }\n\n  function _optionalCallableProperty(obj, name) {\n    var value = obj[name];\n\n    if (value !== undefined && typeof value !== 'function') {\n      throw new TypeError(\"Expected '\" + name + \"' to be a function\");\n    }\n\n    return value;\n  }\n\n  function _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n      throw new TypeError('attempted to get private field on non-instance');\n    }\n\n    return fn;\n  }\n\n  function _classPrivateMethodSet() {\n    throw new TypeError('attempted to reassign private method');\n  }\n\n  function _wrapRegExp(re, groups) {\n    _wrapRegExp = function(re, groups) {\n      return new BabelRegExp(re, groups);\n    };\n\n    var _RegExp = _wrapNativeSuper(RegExp);\n\n    var _super = RegExp.prototype;\n\n    var _groups = new WeakMap();\n\n    function BabelRegExp(re, groups) {\n      var _this = _RegExp.call(this, re);\n\n      _groups.set(_this, groups);\n\n      return _this;\n    }\n\n    _inherits(BabelRegExp, _RegExp);\n\n    BabelRegExp.prototype.exec = function(str) {\n      var result = _super.exec.call(this, str);\n\n      if (result) result.groups = buildGroups(result, this);\n      return result;\n    };\n\n    BabelRegExp.prototype[Symbol.replace] = function(str, substitution) {\n      if (typeof substitution === 'string') {\n        var groups = _groups.get(this);\n\n        return _super[Symbol.replace].call(\n          this,\n          str,\n          substitution.replace(/\\$<([^>]+)>/g, function(_, name) {\n            return '$' + groups[name];\n          })\n        );\n      } else if (typeof substitution === 'function') {\n        var _this = this;\n\n        return _super[Symbol.replace].call(this, str, function() {\n          var args = [];\n          args.push.apply(args, arguments);\n\n          if (typeof args[args.length - 1] !== 'object') {\n            args.push(buildGroups(args, _this));\n          }\n\n          return substitution.apply(this, args);\n        });\n      } else {\n        return _super[Symbol.replace].call(this, str, substitution);\n      }\n    };\n\n    function buildGroups(result, re) {\n      var g = _groups.get(re);\n\n      return Object.keys(g).reduce(function(groups, name) {\n        groups[name] = result[g[name]];\n        return groups;\n      }, Object.create(null));\n    }\n\n    return _wrapRegExp.apply(this, arguments);\n  }\n\n  var vectorMultiply = function vectorMultiply(v, amount) {\n    return createVector(v.x * amount, v.y * amount);\n  };\n\n  var vectorAdd = function vectorAdd(a, b) {\n    return createVector(a.x + b.x, a.y + b.y);\n  };\n\n  var vectorNormalize = function vectorNormalize(v) {\n    var l = Math.sqrt(v.x * v.x + v.y * v.y);\n    if (l === 0) {\n      return {\n        x: 0,\n        y: 0\n      };\n    }\n    return createVector(v.x / l, v.y / l);\n  };\n\n  var vectorRotate = function vectorRotate(v, radians, origin) {\n    var cos = Math.cos(radians);\n    var sin = Math.sin(radians);\n    var t = createVector(v.x - origin.x, v.y - origin.y);\n    return createVector(\n      origin.x + cos * t.x - sin * t.y,\n      origin.y + sin * t.x + cos * t.y\n    );\n  };\n\n  var createVector = function createVector() {\n    var x =\n      arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var y =\n      arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return { x: x, y: y };\n  };\n\n  var getMarkupValue = function getMarkupValue(value, size) {\n    var scalar =\n      arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var axis = arguments.length > 3 ? arguments[3] : undefined;\n    if (typeof value === 'string') {\n      return parseFloat(value) * scalar;\n    }\n    if (typeof value === 'number') {\n      return value * (axis ? size[axis] : Math.min(size.width, size.height));\n    }\n    return;\n  };\n\n  var getMarkupStyles = function getMarkupStyles(markup, size, scale) {\n    var lineStyle = markup.borderStyle || markup.lineStyle || 'solid';\n    var fill = markup.backgroundColor || markup.fontColor || 'transparent';\n    var stroke = markup.borderColor || markup.lineColor || 'transparent';\n    var strokeWidth = getMarkupValue(\n      markup.borderWidth || markup.lineWidth,\n      size,\n      scale\n    );\n    var lineCap = markup.lineCap || 'round';\n    var lineJoin = markup.lineJoin || 'round';\n    var dashes =\n      typeof lineStyle === 'string'\n        ? ''\n        : lineStyle\n            .map(function(v) {\n              return getMarkupValue(v, size, scale);\n            })\n            .join(',');\n    var opacity = markup.opacity || 1;\n    return {\n      'stroke-linecap': lineCap,\n      'stroke-linejoin': lineJoin,\n      'stroke-width': strokeWidth || 0,\n      'stroke-dasharray': dashes,\n      stroke: stroke,\n      fill: fill,\n      opacity: opacity\n    };\n  };\n\n  var isDefined = function isDefined(value) {\n    return value != null;\n  };\n\n  var getMarkupRect = function getMarkupRect(rect, size) {\n    var scalar =\n      arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n    var left =\n      getMarkupValue(rect.x, size, scalar, 'width') ||\n      getMarkupValue(rect.left, size, scalar, 'width');\n    var top =\n      getMarkupValue(rect.y, size, scalar, 'height') ||\n      getMarkupValue(rect.top, size, scalar, 'height');\n    var width = getMarkupValue(rect.width, size, scalar, 'width');\n    var height = getMarkupValue(rect.height, size, scalar, 'height');\n    var right = getMarkupValue(rect.right, size, scalar, 'width');\n    var bottom = getMarkupValue(rect.bottom, size, scalar, 'height');\n\n    if (!isDefined(top)) {\n      if (isDefined(height) && isDefined(bottom)) {\n        top = size.height - height - bottom;\n      } else {\n        top = bottom;\n      }\n    }\n\n    if (!isDefined(left)) {\n      if (isDefined(width) && isDefined(right)) {\n        left = size.width - width - right;\n      } else {\n        left = right;\n      }\n    }\n\n    if (!isDefined(width)) {\n      if (isDefined(left) && isDefined(right)) {\n        width = size.width - left - right;\n      } else {\n        width = 0;\n      }\n    }\n\n    if (!isDefined(height)) {\n      if (isDefined(top) && isDefined(bottom)) {\n        height = size.height - top - bottom;\n      } else {\n        height = 0;\n      }\n    }\n\n    return {\n      x: left || 0,\n      y: top || 0,\n      width: width || 0,\n      height: height || 0\n    };\n  };\n\n  var pointsToPathShape = function pointsToPathShape(points) {\n    return points\n      .map(function(point, index) {\n        return ''\n          .concat(index === 0 ? 'M' : 'L', ' ')\n          .concat(point.x, ' ')\n          .concat(point.y);\n      })\n      .join(' ');\n  };\n\n  var setAttributes = function setAttributes(element, attr) {\n    return Object.keys(attr).forEach(function(key) {\n      return element.setAttribute(key, attr[key]);\n    });\n  };\n\n  var ns = 'http://www.w3.org/2000/svg';\n  var svg = function svg(tag, attr) {\n    var element = document.createElementNS(ns, tag);\n    if (attr) {\n      setAttributes(element, attr);\n    }\n    return element;\n  };\n\n  var updateRect = function updateRect(element) {\n    return setAttributes(\n      element,\n      Object.assign({}, element.rect, element.styles)\n    );\n  };\n\n  var updateEllipse = function updateEllipse(element) {\n    var cx = element.rect.x + element.rect.width * 0.5;\n    var cy = element.rect.y + element.rect.height * 0.5;\n    var rx = element.rect.width * 0.5;\n    var ry = element.rect.height * 0.5;\n    return setAttributes(\n      element,\n      Object.assign(\n        {\n          cx: cx,\n          cy: cy,\n          rx: rx,\n          ry: ry\n        },\n        element.styles\n      )\n    );\n  };\n\n  var IMAGE_FIT_STYLE = {\n    contain: 'xMidYMid meet',\n    cover: 'xMidYMid slice'\n  };\n\n  var updateImage = function updateImage(element, markup) {\n    setAttributes(\n      element,\n      Object.assign({}, element.rect, element.styles, {\n        preserveAspectRatio: IMAGE_FIT_STYLE[markup.fit] || 'none'\n      })\n    );\n  };\n\n  var TEXT_ANCHOR = {\n    left: 'start',\n    center: 'middle',\n    right: 'end'\n  };\n\n  var updateText = function updateText(element, markup, size, scale) {\n    var fontSize = getMarkupValue(markup.fontSize, size, scale);\n    var fontFamily = markup.fontFamily || 'sans-serif';\n    var fontWeight = markup.fontWeight || 'normal';\n    var textAlign = TEXT_ANCHOR[markup.textAlign] || 'start';\n\n    setAttributes(\n      element,\n      Object.assign({}, element.rect, element.styles, {\n        'stroke-width': 0,\n        'font-weight': fontWeight,\n        'font-size': fontSize,\n        'font-family': fontFamily,\n        'text-anchor': textAlign\n      })\n    );\n\n    // update text\n    if (element.text !== markup.text) {\n      element.text = markup.text;\n      element.textContent = markup.text.length ? markup.text : ' ';\n    }\n  };\n\n  var updateLine = function updateLine(element, markup, size, scale) {\n    setAttributes(\n      element,\n      Object.assign({}, element.rect, element.styles, {\n        fill: 'none'\n      })\n    );\n\n    var line = element.childNodes[0];\n    var begin = element.childNodes[1];\n    var end = element.childNodes[2];\n\n    var origin = element.rect;\n\n    var target = {\n      x: element.rect.x + element.rect.width,\n      y: element.rect.y + element.rect.height\n    };\n\n    setAttributes(line, {\n      x1: origin.x,\n      y1: origin.y,\n      x2: target.x,\n      y2: target.y\n    });\n\n    if (!markup.lineDecoration) return;\n\n    begin.style.display = 'none';\n    end.style.display = 'none';\n\n    var v = vectorNormalize({\n      x: target.x - origin.x,\n      y: target.y - origin.y\n    });\n\n    var l = getMarkupValue(0.05, size, scale);\n\n    if (markup.lineDecoration.indexOf('arrow-begin') !== -1) {\n      var arrowBeginRotationPoint = vectorMultiply(v, l);\n      var arrowBeginCenter = vectorAdd(origin, arrowBeginRotationPoint);\n      var arrowBeginA = vectorRotate(origin, 2, arrowBeginCenter);\n      var arrowBeginB = vectorRotate(origin, -2, arrowBeginCenter);\n\n      setAttributes(begin, {\n        style: 'display:block;',\n        d: 'M'\n          .concat(arrowBeginA.x, ',')\n          .concat(arrowBeginA.y, ' L')\n          .concat(origin.x, ',')\n          .concat(origin.y, ' L')\n          .concat(arrowBeginB.x, ',')\n          .concat(arrowBeginB.y)\n      });\n    }\n\n    if (markup.lineDecoration.indexOf('arrow-end') !== -1) {\n      var arrowEndRotationPoint = vectorMultiply(v, -l);\n      var arrowEndCenter = vectorAdd(target, arrowEndRotationPoint);\n      var arrowEndA = vectorRotate(target, 2, arrowEndCenter);\n      var arrowEndB = vectorRotate(target, -2, arrowEndCenter);\n\n      setAttributes(end, {\n        style: 'display:block;',\n        d: 'M'\n          .concat(arrowEndA.x, ',')\n          .concat(arrowEndA.y, ' L')\n          .concat(target.x, ',')\n          .concat(target.y, ' L')\n          .concat(arrowEndB.x, ',')\n          .concat(arrowEndB.y)\n      });\n    }\n  };\n\n  var updatePath = function updatePath(element, markup, size, scale) {\n    setAttributes(\n      element,\n      Object.assign({}, element.styles, {\n        fill: 'none',\n        d: pointsToPathShape(\n          markup.points.map(function(point) {\n            return {\n              x: getMarkupValue(point.x, size, scale, 'width'),\n              y: getMarkupValue(point.y, size, scale, 'height')\n            };\n          })\n        )\n      })\n    );\n  };\n\n  var createShape = function createShape(node) {\n    return function(markup) {\n      return svg(node, { id: markup.id });\n    };\n  };\n\n  var createImage = function createImage(markup) {\n    var shape = svg('image', {\n      id: markup.id,\n      'stroke-linecap': 'round',\n      'stroke-linejoin': 'round',\n      opacity: '0'\n    });\n\n    shape.onload = function() {\n      shape.setAttribute('opacity', markup.opacity || 1);\n    };\n    shape.setAttributeNS(\n      'http://www.w3.org/1999/xlink',\n      'xlink:href',\n      markup.src\n    );\n    return shape;\n  };\n\n  var createLine = function createLine(markup) {\n    var shape = svg('g', {\n      id: markup.id,\n      'stroke-linecap': 'round',\n      'stroke-linejoin': 'round'\n    });\n\n    var line = svg('line');\n    shape.appendChild(line);\n\n    var begin = svg('path');\n    shape.appendChild(begin);\n\n    var end = svg('path');\n    shape.appendChild(end);\n\n    return shape;\n  };\n\n  var CREATE_TYPE_ROUTES = {\n    image: createImage,\n    rect: createShape('rect'),\n    ellipse: createShape('ellipse'),\n    text: createShape('text'),\n    path: createShape('path'),\n    line: createLine\n  };\n\n  var UPDATE_TYPE_ROUTES = {\n    rect: updateRect,\n    ellipse: updateEllipse,\n    image: updateImage,\n    text: updateText,\n    path: updatePath,\n    line: updateLine\n  };\n\n  var createMarkupByType = function createMarkupByType(type, markup) {\n    return CREATE_TYPE_ROUTES[type](markup);\n  };\n\n  var updateMarkupByType = function updateMarkupByType(\n    element,\n    type,\n    markup,\n    size,\n    scale\n  ) {\n    if (type !== 'path') {\n      element.rect = getMarkupRect(markup, size, scale);\n    }\n    element.styles = getMarkupStyles(markup, size, scale);\n    UPDATE_TYPE_ROUTES[type](element, markup, size, scale);\n  };\n\n  var MARKUP_RECT = [\n    'x',\n    'y',\n    'left',\n    'top',\n    'right',\n    'bottom',\n    'width',\n    'height'\n  ];\n\n  var toOptionalFraction = function toOptionalFraction(value) {\n    return typeof value === 'string' && /%/.test(value)\n      ? parseFloat(value) / 100\n      : value;\n  };\n\n  // adds default markup properties, clones markup\n  var prepareMarkup = function prepareMarkup(markup) {\n    var _markup = _slicedToArray(markup, 2),\n      type = _markup[0],\n      props = _markup[1];\n\n    var rect = props.points\n      ? {}\n      : MARKUP_RECT.reduce(function(prev, curr) {\n          prev[curr] = toOptionalFraction(props[curr]);\n          return prev;\n        }, {});\n\n    return [\n      type,\n      Object.assign(\n        {\n          zIndex: 0\n        },\n        props,\n        rect\n      )\n    ];\n  };\n\n  var sortMarkupByZIndex = function sortMarkupByZIndex(a, b) {\n    if (a[1].zIndex > b[1].zIndex) {\n      return 1;\n    }\n    if (a[1].zIndex < b[1].zIndex) {\n      return -1;\n    }\n    return 0;\n  };\n\n  var createMarkupView = function createMarkupView(_) {\n    return _.utils.createView({\n      name: 'image-preview-markup',\n      tag: 'svg',\n      ignoreRect: true,\n      mixins: {\n        apis: ['width', 'height', 'crop', 'markup', 'resize', 'dirty']\n      },\n\n      write: function write(_ref) {\n        var root = _ref.root,\n          props = _ref.props;\n\n        if (!props.dirty) return;\n        var crop = props.crop,\n          resize = props.resize,\n          markup = props.markup;\n\n        var viewWidth = props.width;\n        var viewHeight = props.height;\n\n        var cropWidth = crop.width;\n        var cropHeight = crop.height;\n\n        if (resize) {\n          var _size = resize.size;\n\n          var outputWidth = _size && _size.width;\n          var outputHeight = _size && _size.height;\n          var outputFit = resize.mode;\n          var outputUpscale = resize.upscale;\n\n          if (outputWidth && !outputHeight) outputHeight = outputWidth;\n          if (outputHeight && !outputWidth) outputWidth = outputHeight;\n\n          var shouldUpscale =\n            cropWidth < outputWidth && cropHeight < outputHeight;\n\n          if (!shouldUpscale || (shouldUpscale && outputUpscale)) {\n            var scalarWidth = outputWidth / cropWidth;\n            var scalarHeight = outputHeight / cropHeight;\n\n            if (outputFit === 'force') {\n              cropWidth = outputWidth;\n              cropHeight = outputHeight;\n            } else {\n              var scalar;\n              if (outputFit === 'cover') {\n                scalar = Math.max(scalarWidth, scalarHeight);\n              } else if (outputFit === 'contain') {\n                scalar = Math.min(scalarWidth, scalarHeight);\n              }\n              cropWidth = cropWidth * scalar;\n              cropHeight = cropHeight * scalar;\n            }\n          }\n        }\n\n        var size = {\n          width: viewWidth,\n          height: viewHeight\n        };\n\n        root.element.setAttribute('width', size.width);\n        root.element.setAttribute('height', size.height);\n\n        var scale = Math.min(viewWidth / cropWidth, viewHeight / cropHeight);\n\n        // clear\n        root.element.innerHTML = '';\n\n        // get filter\n        var markupFilter = root.query('GET_IMAGE_PREVIEW_MARKUP_FILTER');\n\n        // draw new\n        markup\n          .filter(markupFilter)\n          .map(prepareMarkup)\n          .sort(sortMarkupByZIndex)\n          .forEach(function(markup) {\n            var _markup = _slicedToArray(markup, 2),\n              type = _markup[0],\n              settings = _markup[1];\n\n            // create\n            var element = createMarkupByType(type, settings);\n\n            // update\n            updateMarkupByType(element, type, settings, size, scale);\n\n            // add\n            root.element.appendChild(element);\n          });\n      }\n    });\n  };\n\n  var createVector$1 = function createVector(x, y) {\n    return { x: x, y: y };\n  };\n\n  var vectorDot = function vectorDot(a, b) {\n    return a.x * b.x + a.y * b.y;\n  };\n\n  var vectorSubtract = function vectorSubtract(a, b) {\n    return createVector$1(a.x - b.x, a.y - b.y);\n  };\n\n  var vectorDistanceSquared = function vectorDistanceSquared(a, b) {\n    return vectorDot(vectorSubtract(a, b), vectorSubtract(a, b));\n  };\n\n  var vectorDistance = function vectorDistance(a, b) {\n    return Math.sqrt(vectorDistanceSquared(a, b));\n  };\n\n  var getOffsetPointOnEdge = function getOffsetPointOnEdge(length, rotation) {\n    var a = length;\n\n    var A = 1.5707963267948966;\n    var B = rotation;\n    var C = 1.5707963267948966 - rotation;\n\n    var sinA = Math.sin(A);\n    var sinB = Math.sin(B);\n    var sinC = Math.sin(C);\n    var cosC = Math.cos(C);\n    var ratio = a / sinA;\n    var b = ratio * sinB;\n    var c = ratio * sinC;\n\n    return createVector$1(cosC * b, cosC * c);\n  };\n\n  var getRotatedRectSize = function getRotatedRectSize(rect, rotation) {\n    var w = rect.width;\n    var h = rect.height;\n\n    var hor = getOffsetPointOnEdge(w, rotation);\n    var ver = getOffsetPointOnEdge(h, rotation);\n\n    var tl = createVector$1(rect.x + Math.abs(hor.x), rect.y - Math.abs(hor.y));\n\n    var tr = createVector$1(\n      rect.x + rect.width + Math.abs(ver.y),\n      rect.y + Math.abs(ver.x)\n    );\n\n    var bl = createVector$1(\n      rect.x - Math.abs(ver.y),\n      rect.y + rect.height - Math.abs(ver.x)\n    );\n\n    return {\n      width: vectorDistance(tl, tr),\n      height: vectorDistance(tl, bl)\n    };\n  };\n\n  var calculateCanvasSize = function calculateCanvasSize(\n    image,\n    canvasAspectRatio\n  ) {\n    var zoom =\n      arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n    var imageAspectRatio = image.height / image.width;\n\n    // determine actual pixels on x and y axis\n    var canvasWidth = 1;\n    var canvasHeight = canvasAspectRatio;\n    var imgWidth = 1;\n    var imgHeight = imageAspectRatio;\n    if (imgHeight > canvasHeight) {\n      imgHeight = canvasHeight;\n      imgWidth = imgHeight / imageAspectRatio;\n    }\n\n    var scalar = Math.max(canvasWidth / imgWidth, canvasHeight / imgHeight);\n    var width = image.width / (zoom * scalar * imgWidth);\n    var height = width * canvasAspectRatio;\n\n    return {\n      width: width,\n      height: height\n    };\n  };\n\n  var getImageRectZoomFactor = function getImageRectZoomFactor(\n    imageRect,\n    cropRect,\n    rotation,\n    center\n  ) {\n    // calculate available space round image center position\n    var cx = center.x > 0.5 ? 1 - center.x : center.x;\n    var cy = center.y > 0.5 ? 1 - center.y : center.y;\n    var imageWidth = cx * 2 * imageRect.width;\n    var imageHeight = cy * 2 * imageRect.height;\n\n    // calculate rotated crop rectangle size\n    var rotatedCropSize = getRotatedRectSize(cropRect, rotation);\n\n    // calculate scalar required to fit image\n    return Math.max(\n      rotatedCropSize.width / imageWidth,\n      rotatedCropSize.height / imageHeight\n    );\n  };\n\n  var getCenteredCropRect = function getCenteredCropRect(\n    container,\n    aspectRatio\n  ) {\n    var width = container.width;\n    var height = width * aspectRatio;\n    if (height > container.height) {\n      height = container.height;\n      width = height / aspectRatio;\n    }\n    var x = (container.width - width) * 0.5;\n    var y = (container.height - height) * 0.5;\n\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    };\n  };\n\n  var getCurrentCropSize = function getCurrentCropSize(imageSize) {\n    var crop =\n      arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var zoom = crop.zoom,\n      rotation = crop.rotation,\n      center = crop.center,\n      aspectRatio = crop.aspectRatio;\n\n    if (!aspectRatio) aspectRatio = imageSize.height / imageSize.width;\n\n    var canvasSize = calculateCanvasSize(imageSize, aspectRatio, zoom);\n\n    var canvasCenter = {\n      x: canvasSize.width * 0.5,\n      y: canvasSize.height * 0.5\n    };\n\n    var stage = {\n      x: 0,\n      y: 0,\n      width: canvasSize.width,\n      height: canvasSize.height,\n      center: canvasCenter\n    };\n\n    var shouldLimit = typeof crop.scaleToFit === 'undefined' || crop.scaleToFit;\n\n    var stageZoomFactor = getImageRectZoomFactor(\n      imageSize,\n      getCenteredCropRect(stage, aspectRatio),\n      rotation,\n      shouldLimit ? center : { x: 0.5, y: 0.5 }\n    );\n\n    var scale = zoom * stageZoomFactor;\n\n    // start drawing\n    return {\n      widthFloat: canvasSize.width / scale,\n      heightFloat: canvasSize.height / scale,\n      width: Math.round(canvasSize.width / scale),\n      height: Math.round(canvasSize.height / scale)\n    };\n  };\n\n  var IMAGE_SCALE_SPRING_PROPS = {\n    type: 'spring',\n    stiffness: 0.5,\n    damping: 0.45,\n    mass: 10\n  };\n\n  // does horizontal and vertical flipping\n  var createBitmapView = function createBitmapView(_) {\n    return _.utils.createView({\n      name: 'image-bitmap',\n      ignoreRect: true,\n      mixins: { styles: ['scaleX', 'scaleY'] },\n      create: function create(_ref) {\n        var root = _ref.root,\n          props = _ref.props;\n        root.appendChild(props.image);\n      }\n    });\n  };\n\n  // shifts and rotates image\n  var createImageCanvasWrapper = function createImageCanvasWrapper(_) {\n    return _.utils.createView({\n      name: 'image-canvas-wrapper',\n      tag: 'div',\n      ignoreRect: true,\n      mixins: {\n        apis: ['crop', 'width', 'height'],\n\n        styles: [\n          'originX',\n          'originY',\n          'translateX',\n          'translateY',\n          'scaleX',\n          'scaleY',\n          'rotateZ'\n        ],\n\n        animations: {\n          originX: IMAGE_SCALE_SPRING_PROPS,\n          originY: IMAGE_SCALE_SPRING_PROPS,\n          scaleX: IMAGE_SCALE_SPRING_PROPS,\n          scaleY: IMAGE_SCALE_SPRING_PROPS,\n          translateX: IMAGE_SCALE_SPRING_PROPS,\n          translateY: IMAGE_SCALE_SPRING_PROPS,\n          rotateZ: IMAGE_SCALE_SPRING_PROPS\n        }\n      },\n\n      create: function create(_ref2) {\n        var root = _ref2.root,\n          props = _ref2.props;\n        props.width = props.image.width;\n        props.height = props.image.height;\n        root.ref.bitmap = root.appendChildView(\n          root.createChildView(createBitmapView(_), { image: props.image })\n        );\n      },\n      write: function write(_ref3) {\n        var root = _ref3.root,\n          props = _ref3.props;\n        var flip = props.crop.flip;\n        var bitmap = root.ref.bitmap;\n        bitmap.scaleX = flip.horizontal ? -1 : 1;\n        bitmap.scaleY = flip.vertical ? -1 : 1;\n      }\n    });\n  };\n\n  // clips canvas to correct aspect ratio\n  var createClipView = function createClipView(_) {\n    return _.utils.createView({\n      name: 'image-clip',\n      tag: 'div',\n      ignoreRect: true,\n      mixins: {\n        apis: [\n          'crop',\n          'markup',\n          'resize',\n          'width',\n          'height',\n          'dirty',\n          'background'\n        ],\n\n        styles: ['width', 'height', 'opacity'],\n        animations: {\n          opacity: { type: 'tween', duration: 250 }\n        }\n      },\n\n      didWriteView: function didWriteView(_ref4) {\n        var root = _ref4.root,\n          props = _ref4.props;\n        if (!props.background) return;\n        root.element.style.backgroundColor = props.background;\n      },\n      create: function create(_ref5) {\n        var root = _ref5.root,\n          props = _ref5.props;\n\n        root.ref.image = root.appendChildView(\n          root.createChildView(\n            createImageCanvasWrapper(_),\n            Object.assign({}, props)\n          )\n        );\n\n        root.ref.createMarkup = function() {\n          if (root.ref.markup) return;\n          root.ref.markup = root.appendChildView(\n            root.createChildView(createMarkupView(_), Object.assign({}, props))\n          );\n        };\n\n        root.ref.destroyMarkup = function() {\n          if (!root.ref.markup) return;\n          root.removeChildView(root.ref.markup);\n          root.ref.markup = null;\n        };\n\n        // set up transparency grid\n        var transparencyIndicator = root.query(\n          'GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR'\n        );\n        if (transparencyIndicator === null) return;\n\n        // grid pattern\n        if (transparencyIndicator === 'grid') {\n          root.element.dataset.transparencyIndicator = transparencyIndicator;\n        }\n        // basic color\n        else {\n          root.element.dataset.transparencyIndicator = 'color';\n        }\n      },\n      write: function write(_ref6) {\n        var root = _ref6.root,\n          props = _ref6.props,\n          shouldOptimize = _ref6.shouldOptimize;\n        var crop = props.crop,\n          markup = props.markup,\n          resize = props.resize,\n          dirty = props.dirty,\n          width = props.width,\n          height = props.height;\n\n        root.ref.image.crop = crop;\n\n        var stage = {\n          x: 0,\n          y: 0,\n          width: width,\n          height: height,\n          center: {\n            x: width * 0.5,\n            y: height * 0.5\n          }\n        };\n\n        var image = {\n          width: root.ref.image.width,\n          height: root.ref.image.height\n        };\n\n        var origin = {\n          x: crop.center.x * image.width,\n          y: crop.center.y * image.height\n        };\n\n        var translation = {\n          x: stage.center.x - image.width * crop.center.x,\n          y: stage.center.y - image.height * crop.center.y\n        };\n\n        var rotation = Math.PI * 2 + (crop.rotation % (Math.PI * 2));\n\n        var cropAspectRatio = crop.aspectRatio || image.height / image.width;\n\n        var shouldLimit =\n          typeof crop.scaleToFit === 'undefined' || crop.scaleToFit;\n\n        var stageZoomFactor = getImageRectZoomFactor(\n          image,\n          getCenteredCropRect(stage, cropAspectRatio),\n\n          rotation,\n          shouldLimit ? crop.center : { x: 0.5, y: 0.5 }\n        );\n\n        var scale = crop.zoom * stageZoomFactor;\n\n        // update markup view\n        if (markup && markup.length) {\n          root.ref.createMarkup();\n          root.ref.markup.width = width;\n          root.ref.markup.height = height;\n          root.ref.markup.resize = resize;\n          root.ref.markup.dirty = dirty;\n          root.ref.markup.markup = markup;\n          root.ref.markup.crop = getCurrentCropSize(image, crop);\n        } else if (root.ref.markup) {\n          root.ref.destroyMarkup();\n        }\n\n        // update image view\n        var imageView = root.ref.image;\n\n        // don't update clip layout\n        if (shouldOptimize) {\n          imageView.originX = null;\n          imageView.originY = null;\n          imageView.translateX = null;\n          imageView.translateY = null;\n          imageView.rotateZ = null;\n          imageView.scaleX = null;\n          imageView.scaleY = null;\n          return;\n        }\n\n        imageView.originX = origin.x;\n        imageView.originY = origin.y;\n        imageView.translateX = translation.x;\n        imageView.translateY = translation.y;\n        imageView.rotateZ = rotation;\n        imageView.scaleX = scale;\n        imageView.scaleY = scale;\n      }\n    });\n  };\n\n  var createImageView = function createImageView(_) {\n    return _.utils.createView({\n      name: 'image-preview',\n      tag: 'div',\n      ignoreRect: true,\n      mixins: {\n        apis: ['image', 'crop', 'markup', 'resize', 'dirty', 'background'],\n\n        styles: ['translateY', 'scaleX', 'scaleY', 'opacity'],\n\n        animations: {\n          scaleX: IMAGE_SCALE_SPRING_PROPS,\n          scaleY: IMAGE_SCALE_SPRING_PROPS,\n          translateY: IMAGE_SCALE_SPRING_PROPS,\n          opacity: { type: 'tween', duration: 400 }\n        }\n      },\n\n      create: function create(_ref7) {\n        var root = _ref7.root,\n          props = _ref7.props;\n        root.ref.clip = root.appendChildView(\n          root.createChildView(createClipView(_), {\n            id: props.id,\n            image: props.image,\n            crop: props.crop,\n            markup: props.markup,\n            resize: props.resize,\n            dirty: props.dirty,\n            background: props.background\n          })\n        );\n      },\n      write: function write(_ref8) {\n        var root = _ref8.root,\n          props = _ref8.props,\n          shouldOptimize = _ref8.shouldOptimize;\n        var clip = root.ref.clip;\n        var image = props.image,\n          crop = props.crop,\n          markup = props.markup,\n          resize = props.resize,\n          dirty = props.dirty;\n\n        clip.crop = crop;\n        clip.markup = markup;\n        clip.resize = resize;\n        clip.dirty = dirty;\n\n        // don't update clip layout\n        clip.opacity = shouldOptimize ? 0 : 1;\n\n        // don't re-render if optimizing or hidden (width will be zero resulting in weird animations)\n        if (shouldOptimize || root.rect.element.hidden) return;\n\n        // calculate scaled preview image size\n        var imageAspectRatio = image.height / image.width;\n        var aspectRatio = crop.aspectRatio || imageAspectRatio;\n\n        // calculate container size\n        var containerWidth = root.rect.inner.width;\n        var containerHeight = root.rect.inner.height;\n\n        var fixedPreviewHeight = root.query('GET_IMAGE_PREVIEW_HEIGHT');\n        var minPreviewHeight = root.query('GET_IMAGE_PREVIEW_MIN_HEIGHT');\n        var maxPreviewHeight = root.query('GET_IMAGE_PREVIEW_MAX_HEIGHT');\n\n        var panelAspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n        var allowMultiple = root.query('GET_ALLOW_MULTIPLE');\n\n        if (panelAspectRatio && !allowMultiple) {\n          fixedPreviewHeight = containerWidth * panelAspectRatio;\n          aspectRatio = panelAspectRatio;\n        }\n\n        // determine clip width and height\n        var clipHeight =\n          fixedPreviewHeight !== null\n            ? fixedPreviewHeight\n            : Math.max(\n                minPreviewHeight,\n                Math.min(containerWidth * aspectRatio, maxPreviewHeight)\n              );\n\n        var clipWidth = clipHeight / aspectRatio;\n        if (clipWidth > containerWidth) {\n          clipWidth = containerWidth;\n          clipHeight = clipWidth * aspectRatio;\n        }\n\n        if (clipHeight > containerHeight) {\n          clipHeight = containerHeight;\n          clipWidth = containerHeight / aspectRatio;\n        }\n\n        clip.width = clipWidth;\n        clip.height = clipHeight;\n      }\n    });\n  };\n\n  var SVG_MASK =\n    '<svg width=\"500\" height=\"200\" viewBox=\"0 0 500 200\" preserveAspectRatio=\"none\">\\n    <defs>\\n        <radialGradient id=\"gradient-__UID__\" cx=\".5\" cy=\"1.25\" r=\"1.15\">\\n            <stop offset=\\'50%\\' stop-color=\\'#000000\\'/>\\n            <stop offset=\\'56%\\' stop-color=\\'#0a0a0a\\'/>\\n            <stop offset=\\'63%\\' stop-color=\\'#262626\\'/>\\n            <stop offset=\\'69%\\' stop-color=\\'#4f4f4f\\'/>\\n            <stop offset=\\'75%\\' stop-color=\\'#808080\\'/>\\n            <stop offset=\\'81%\\' stop-color=\\'#b1b1b1\\'/>\\n            <stop offset=\\'88%\\' stop-color=\\'#dadada\\'/>\\n            <stop offset=\\'94%\\' stop-color=\\'#f6f6f6\\'/>\\n            <stop offset=\\'100%\\' stop-color=\\'#ffffff\\'/>\\n        </radialGradient>\\n        <mask id=\"mask-__UID__\">\\n            <rect x=\"0\" y=\"0\" width=\"500\" height=\"200\" fill=\"url(#gradient-__UID__)\"></rect>\\n        </mask>\\n    </defs>\\n    <rect x=\"0\" width=\"500\" height=\"200\" fill=\"currentColor\" mask=\"url(#mask-__UID__)\"></rect>\\n</svg>';\n\n  var SVGMaskUniqueId = 0;\n\n  var createImageOverlayView = function createImageOverlayView(fpAPI) {\n    return fpAPI.utils.createView({\n      name: 'image-preview-overlay',\n      tag: 'div',\n      ignoreRect: true,\n      create: function create(_ref) {\n        var root = _ref.root,\n          props = _ref.props;\n        var mask = SVG_MASK;\n        if (document.querySelector('base')) {\n          var url = new URL(\n            window.location.href.replace(window.location.hash, '')\n          ).href;\n          mask = mask.replace(/url\\(\\#/g, 'url(' + url + '#');\n        }\n\n        SVGMaskUniqueId++;\n        root.element.classList.add(\n          'filepond--image-preview-overlay-'.concat(props.status)\n        );\n\n        root.element.innerHTML = mask.replace(/__UID__/g, SVGMaskUniqueId);\n      },\n      mixins: {\n        styles: ['opacity'],\n        animations: {\n          opacity: { type: 'spring', mass: 25 }\n        }\n      }\n    });\n  };\n\n  /**\n   * Bitmap Worker\n   */\n  var BitmapWorker = function BitmapWorker() {\n    self.onmessage = function(e) {\n      createImageBitmap(e.data.message.file).then(function(bitmap) {\n        self.postMessage({ id: e.data.id, message: bitmap }, [bitmap]);\n      });\n    };\n  };\n\n  /**\n   * ColorMatrix Worker\n   */\n  var ColorMatrixWorker = function ColorMatrixWorker() {\n    self.onmessage = function(e) {\n      var imageData = e.data.message.imageData;\n      var matrix = e.data.message.colorMatrix;\n\n      var data = imageData.data;\n      var l = data.length;\n\n      var m11 = matrix[0];\n      var m12 = matrix[1];\n      var m13 = matrix[2];\n      var m14 = matrix[3];\n      var m15 = matrix[4];\n\n      var m21 = matrix[5];\n      var m22 = matrix[6];\n      var m23 = matrix[7];\n      var m24 = matrix[8];\n      var m25 = matrix[9];\n\n      var m31 = matrix[10];\n      var m32 = matrix[11];\n      var m33 = matrix[12];\n      var m34 = matrix[13];\n      var m35 = matrix[14];\n\n      var m41 = matrix[15];\n      var m42 = matrix[16];\n      var m43 = matrix[17];\n      var m44 = matrix[18];\n      var m45 = matrix[19];\n\n      var index = 0,\n        r = 0.0,\n        g = 0.0,\n        b = 0.0,\n        a = 0.0;\n\n      for (; index < l; index += 4) {\n        r = data[index] / 255;\n        g = data[index + 1] / 255;\n        b = data[index + 2] / 255;\n        a = data[index + 3] / 255;\n        data[index] = Math.max(\n          0,\n          Math.min((r * m11 + g * m12 + b * m13 + a * m14 + m15) * 255, 255)\n        );\n        data[index + 1] = Math.max(\n          0,\n          Math.min((r * m21 + g * m22 + b * m23 + a * m24 + m25) * 255, 255)\n        );\n        data[index + 2] = Math.max(\n          0,\n          Math.min((r * m31 + g * m32 + b * m33 + a * m34 + m35) * 255, 255)\n        );\n        data[index + 3] = Math.max(\n          0,\n          Math.min((r * m41 + g * m42 + b * m43 + a * m44 + m45) * 255, 255)\n        );\n      }\n\n      self.postMessage({ id: e.data.id, message: imageData }, [\n        imageData.data.buffer\n      ]);\n    };\n  };\n\n  var getImageSize = function getImageSize(url, cb) {\n    var image = new Image();\n    image.onload = function() {\n      var width = image.naturalWidth;\n      var height = image.naturalHeight;\n      image = null;\n      cb(width, height);\n    };\n    image.src = url;\n  };\n\n  var transforms = {\n    1: function _() {\n      return [1, 0, 0, 1, 0, 0];\n    },\n    2: function _(width) {\n      return [-1, 0, 0, 1, width, 0];\n    },\n    3: function _(width, height) {\n      return [-1, 0, 0, -1, width, height];\n    },\n    4: function _(width, height) {\n      return [1, 0, 0, -1, 0, height];\n    },\n    5: function _() {\n      return [0, 1, 1, 0, 0, 0];\n    },\n    6: function _(width, height) {\n      return [0, 1, -1, 0, height, 0];\n    },\n    7: function _(width, height) {\n      return [0, -1, -1, 0, height, width];\n    },\n    8: function _(width) {\n      return [0, -1, 1, 0, 0, width];\n    }\n  };\n\n  var fixImageOrientation = function fixImageOrientation(\n    ctx,\n    width,\n    height,\n    orientation\n  ) {\n    // no orientation supplied\n    if (orientation === -1) {\n      return;\n    }\n\n    ctx.transform.apply(ctx, transforms[orientation](width, height));\n  };\n\n  // draws the preview image to canvas\n  var createPreviewImage = function createPreviewImage(\n    data,\n    width,\n    height,\n    orientation\n  ) {\n    // can't draw on half pixels\n    width = Math.round(width);\n    height = Math.round(height);\n\n    // draw image\n    var canvas = document.createElement('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    var ctx = canvas.getContext('2d');\n\n    // if is rotated incorrectly swap width and height\n    if (orientation >= 5 && orientation <= 8) {\n      var _ref = [height, width];\n      width = _ref[0];\n      height = _ref[1];\n    }\n\n    // correct image orientation\n    fixImageOrientation(ctx, width, height, orientation);\n\n    // draw the image\n    ctx.drawImage(data, 0, 0, width, height);\n\n    return canvas;\n  };\n\n  var isBitmap = function isBitmap(file) {\n    return /^image/.test(file.type) && !/svg/.test(file.type);\n  };\n\n  var MAX_WIDTH = 10;\n  var MAX_HEIGHT = 10;\n\n  var calculateAverageColor = function calculateAverageColor(image) {\n    var scalar = Math.min(MAX_WIDTH / image.width, MAX_HEIGHT / image.height);\n\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    var width = (canvas.width = Math.ceil(image.width * scalar));\n    var height = (canvas.height = Math.ceil(image.height * scalar));\n    ctx.drawImage(image, 0, 0, width, height);\n    var data = null;\n    try {\n      data = ctx.getImageData(0, 0, width, height).data;\n    } catch (e) {\n      return null;\n    }\n    var l = data.length;\n\n    var r = 0;\n    var g = 0;\n    var b = 0;\n    var i = 0;\n\n    for (; i < l; i += 4) {\n      r += data[i] * data[i];\n      g += data[i + 1] * data[i + 1];\n      b += data[i + 2] * data[i + 2];\n    }\n\n    r = averageColor(r, l);\n    g = averageColor(g, l);\n    b = averageColor(b, l);\n\n    return { r: r, g: g, b: b };\n  };\n\n  var averageColor = function averageColor(c, l) {\n    return Math.floor(Math.sqrt(c / (l / 4)));\n  };\n\n  var cloneCanvas = function cloneCanvas(origin, target) {\n    target = target || document.createElement('canvas');\n    target.width = origin.width;\n    target.height = origin.height;\n    var ctx = target.getContext('2d');\n    ctx.drawImage(origin, 0, 0);\n    return target;\n  };\n\n  var cloneImageData = function cloneImageData(imageData) {\n    var id;\n    try {\n      id = new ImageData(imageData.width, imageData.height);\n    } catch (e) {\n      var canvas = document.createElement('canvas');\n      var ctx = canvas.getContext('2d');\n      id = ctx.createImageData(imageData.width, imageData.height);\n    }\n    id.data.set(new Uint8ClampedArray(imageData.data));\n    return id;\n  };\n\n  var loadImage = function loadImage(url) {\n    return new Promise(function(resolve, reject) {\n      var img = new Image();\n      img.crossOrigin = 'Anonymous';\n      img.onload = function() {\n        resolve(img);\n      };\n      img.onerror = function(e) {\n        reject(e);\n      };\n      img.src = url;\n    });\n  };\n\n  var createImageWrapperView = function createImageWrapperView(_) {\n    // create overlay view\n    var OverlayView = createImageOverlayView(_);\n\n    var ImageView = createImageView(_);\n    var createWorker = _.utils.createWorker;\n\n    var applyFilter = function applyFilter(root, filter, target) {\n      return new Promise(function(resolve) {\n        // will store image data for future filter updates\n        if (!root.ref.imageData) {\n          root.ref.imageData = target\n            .getContext('2d')\n            .getImageData(0, 0, target.width, target.height);\n        }\n\n        // get image data reference\n        var imageData = cloneImageData(root.ref.imageData);\n\n        if (!filter || filter.length !== 20) {\n          target.getContext('2d').putImageData(imageData, 0, 0);\n          return resolve();\n        }\n\n        var worker = createWorker(ColorMatrixWorker);\n        worker.post(\n          {\n            imageData: imageData,\n            colorMatrix: filter\n          },\n\n          function(response) {\n            // apply filtered colors\n            target.getContext('2d').putImageData(response, 0, 0);\n\n            // stop worker\n            worker.terminate();\n\n            // done!\n            resolve();\n          },\n          [imageData.data.buffer]\n        );\n      });\n    };\n\n    var removeImageView = function removeImageView(root, imageView) {\n      root.removeChildView(imageView);\n      imageView.image.width = 1;\n      imageView.image.height = 1;\n      imageView._destroy();\n    };\n\n    // remove an image\n    var shiftImage = function shiftImage(_ref) {\n      var root = _ref.root;\n      var imageView = root.ref.images.shift();\n      imageView.opacity = 0;\n      imageView.translateY = -15;\n      root.ref.imageViewBin.push(imageView);\n      return imageView;\n    };\n\n    // add new image\n    var pushImage = function pushImage(_ref2) {\n      var root = _ref2.root,\n        props = _ref2.props,\n        image = _ref2.image;\n      var id = props.id;\n      var item = root.query('GET_ITEM', { id: id });\n      if (!item) return;\n\n      var crop = item.getMetadata('crop') || {\n        center: {\n          x: 0.5,\n          y: 0.5\n        },\n\n        flip: {\n          horizontal: false,\n          vertical: false\n        },\n\n        zoom: 1,\n        rotation: 0,\n        aspectRatio: null\n      };\n\n      var background = root.query(\n        'GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR'\n      );\n\n      var markup;\n      var resize;\n      var dirty = false;\n      if (root.query('GET_IMAGE_PREVIEW_MARKUP_SHOW')) {\n        markup = item.getMetadata('markup') || [];\n        resize = item.getMetadata('resize');\n        dirty = true;\n      }\n\n      // append image presenter\n      var imageView = root.appendChildView(\n        root.createChildView(ImageView, {\n          id: id,\n          image: image,\n          crop: crop,\n          resize: resize,\n          markup: markup,\n          dirty: dirty,\n          background: background,\n          opacity: 0,\n          scaleX: 1.15,\n          scaleY: 1.15,\n          translateY: 15\n        }),\n\n        root.childViews.length\n      );\n\n      root.ref.images.push(imageView);\n\n      // reveal the preview image\n      imageView.opacity = 1;\n      imageView.scaleX = 1;\n      imageView.scaleY = 1;\n      imageView.translateY = 0;\n\n      // the preview is now ready to be drawn\n      setTimeout(function() {\n        root.dispatch('DID_IMAGE_PREVIEW_SHOW', { id: id });\n      }, 250);\n    };\n\n    var updateImage = function updateImage(_ref3) {\n      var root = _ref3.root,\n        props = _ref3.props;\n      var item = root.query('GET_ITEM', { id: props.id });\n      if (!item) return;\n      var imageView = root.ref.images[root.ref.images.length - 1];\n      imageView.crop = item.getMetadata('crop');\n      imageView.background = root.query(\n        'GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR'\n      );\n\n      if (root.query('GET_IMAGE_PREVIEW_MARKUP_SHOW')) {\n        imageView.dirty = true;\n        imageView.resize = item.getMetadata('resize');\n        imageView.markup = item.getMetadata('markup');\n      }\n    };\n\n    // replace image preview\n    var didUpdateItemMetadata = function didUpdateItemMetadata(_ref4) {\n      var root = _ref4.root,\n        props = _ref4.props,\n        action = _ref4.action;\n      // only filter and crop trigger redraw\n      if (!/crop|filter|markup|resize/.test(action.change.key)) return;\n\n      // no images to update, exit\n      if (!root.ref.images.length) return;\n\n      // no item found, exit\n      var item = root.query('GET_ITEM', { id: props.id });\n      if (!item) return;\n\n      // for now, update existing image when filtering\n      if (/filter/.test(action.change.key)) {\n        var imageView = root.ref.images[root.ref.images.length - 1];\n        applyFilter(root, action.change.value, imageView.image);\n        return;\n      }\n\n      if (/crop|markup|resize/.test(action.change.key)) {\n        var crop = item.getMetadata('crop');\n        var image = root.ref.images[root.ref.images.length - 1];\n\n        // if aspect ratio has changed, we need to create a new image\n        if (\n          crop &&\n          crop.aspectRatio &&\n          image.crop &&\n          image.crop.aspectRatio &&\n          Math.abs(crop.aspectRatio - image.crop.aspectRatio) > 0.00001\n        ) {\n          var _imageView = shiftImage({ root: root });\n          pushImage({\n            root: root,\n            props: props,\n            image: cloneCanvas(_imageView.image)\n          });\n        }\n        // if not, we can update the current image\n        else {\n          updateImage({ root: root, props: props });\n        }\n      }\n    };\n\n    var canCreateImageBitmap = function canCreateImageBitmap(file) {\n      // Firefox versions before 58 will freeze when running createImageBitmap\n      // in a Web Worker so we detect those versions and return false for support\n      var userAgent = window.navigator.userAgent;\n      var isFirefox = userAgent.match(/Firefox\\/([0-9]+)\\./);\n      var firefoxVersion = isFirefox ? parseInt(isFirefox[1]) : null;\n      if (firefoxVersion <= 58) return false;\n\n      return 'createImageBitmap' in window && isBitmap(file);\n    };\n\n    /**\n     * Write handler for when preview container has been created\n     */\n    var didCreatePreviewContainer = function didCreatePreviewContainer(_ref5) {\n      var root = _ref5.root,\n        props = _ref5.props;\n      var id = props.id;\n\n      // we need to get the file data to determine the eventual image size\n      var item = root.query('GET_ITEM', id);\n      if (!item) return;\n\n      // get url to file (we'll revoke it later on when done)\n      var fileURL = URL.createObjectURL(item.file);\n\n      // determine image size of this item\n      getImageSize(fileURL, function(width, height) {\n        // we can now scale the panel to the final size\n        root.dispatch('DID_IMAGE_PREVIEW_CALCULATE_SIZE', {\n          id: id,\n          width: width,\n          height: height\n        });\n      });\n    };\n\n    var drawPreview = function drawPreview(_ref6) {\n      var root = _ref6.root,\n        props = _ref6.props;\n      var id = props.id;\n\n      // we need to get the file data to determine the eventual image size\n      var item = root.query('GET_ITEM', id);\n      if (!item) return;\n\n      // get url to file (we'll revoke it later on when done)\n      var fileURL = URL.createObjectURL(item.file);\n\n      // fallback\n      var loadPreviewFallback = function loadPreviewFallback() {\n        // let's scale the image in the main thread :(\n        loadImage(fileURL).then(previewImageLoaded);\n      };\n\n      // image is now ready\n      var previewImageLoaded = function previewImageLoaded(imageData) {\n        // the file url is no longer needed\n        URL.revokeObjectURL(fileURL);\n\n        // draw the scaled down version here and use that as source so bitmapdata can be closed\n        // orientation info\n        var exif = item.getMetadata('exif') || {};\n        var orientation = exif.orientation || -1;\n\n        // get width and height from action, and swap if orientation is incorrect\n        var width = imageData.width,\n          height = imageData.height;\n\n        // if no width or height, just return early.\n        if (!width || !height) return;\n\n        if (orientation >= 5 && orientation <= 8) {\n          var _ref7 = [height, width];\n          width = _ref7[0];\n          height = _ref7[1];\n        }\n\n        // scale canvas based on pixel density\n        // we multiply by .75 as that creates smaller but still clear images on screens with high res displays\n        var pixelDensityFactor = Math.max(1, window.devicePixelRatio * 0.75);\n\n        // we want as much pixels to work with as possible,\n        // this multiplies the minimum image resolution,\n        // so when zooming in it doesn't get too blurry\n        var zoomFactor = root.query('GET_IMAGE_PREVIEW_ZOOM_FACTOR');\n\n        // imaeg scale factor\n        var scaleFactor = zoomFactor * pixelDensityFactor;\n\n        // calculate scaled preview image size\n        var previewImageRatio = height / width;\n\n        // calculate image preview height and width\n        var previewContainerWidth = root.rect.element.width;\n        var previewContainerHeight = root.rect.element.height;\n\n        var imageWidth = previewContainerWidth;\n        var imageHeight = imageWidth * previewImageRatio;\n\n        if (previewImageRatio > 1) {\n          imageWidth = Math.min(width, previewContainerWidth * scaleFactor);\n          imageHeight = imageWidth * previewImageRatio;\n        } else {\n          imageHeight = Math.min(height, previewContainerHeight * scaleFactor);\n          imageWidth = imageHeight / previewImageRatio;\n        }\n\n        // transfer to image tag so no canvas memory wasted on iOS\n        var previewImage = createPreviewImage(\n          imageData,\n          imageWidth,\n          imageHeight,\n          orientation\n        );\n\n        // done\n        var done = function done() {\n          // calculate average image color, disabled for now\n          var averageColor = root.query(\n            'GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR'\n          )\n            ? calculateAverageColor(data)\n            : null;\n          item.setMetadata('color', averageColor, true);\n\n          // data has been transferred to canvas ( if was ImageBitmap )\n          if ('close' in imageData) {\n            imageData.close();\n          }\n\n          // show the overlay\n          root.ref.overlayShadow.opacity = 1;\n\n          // create the first image\n          pushImage({ root: root, props: props, image: previewImage });\n        };\n\n        // apply filter\n        var filter = item.getMetadata('filter');\n        if (filter) {\n          applyFilter(root, filter, previewImage).then(done);\n        } else {\n          done();\n        }\n      };\n\n      // if we support scaling using createImageBitmap we use a worker\n      if (canCreateImageBitmap(item.file)) {\n        // let's scale the image in a worker\n        var worker = createWorker(BitmapWorker);\n\n        worker.post(\n          {\n            file: item.file\n          },\n\n          function(imageBitmap) {\n            // destroy worker\n            worker.terminate();\n\n            // no bitmap returned, must be something wrong,\n            // try the oldschool way\n            if (!imageBitmap) {\n              loadPreviewFallback();\n              return;\n            }\n\n            // yay we got our bitmap, let's continue showing the preview\n            previewImageLoaded(imageBitmap);\n          }\n        );\n      } else {\n        // create fallback preview\n        loadPreviewFallback();\n      }\n    };\n\n    /**\n     * Write handler for when the preview image is ready to be animated\n     */\n    var didDrawPreview = function didDrawPreview(_ref8) {\n      var root = _ref8.root;\n      // get last added image\n      var image = root.ref.images[root.ref.images.length - 1];\n      image.translateY = 0;\n      image.scaleX = 1.0;\n      image.scaleY = 1.0;\n      image.opacity = 1;\n    };\n\n    /**\n     * Write handler for when the preview has been loaded\n     */\n    var restoreOverlay = function restoreOverlay(_ref9) {\n      var root = _ref9.root;\n      root.ref.overlayShadow.opacity = 1;\n      root.ref.overlayError.opacity = 0;\n      root.ref.overlaySuccess.opacity = 0;\n    };\n\n    var didThrowError = function didThrowError(_ref10) {\n      var root = _ref10.root;\n      root.ref.overlayShadow.opacity = 0.25;\n      root.ref.overlayError.opacity = 1;\n    };\n\n    var didCompleteProcessing = function didCompleteProcessing(_ref11) {\n      var root = _ref11.root;\n      root.ref.overlayShadow.opacity = 0.25;\n      root.ref.overlaySuccess.opacity = 1;\n    };\n\n    /**\n     * Constructor\n     */\n    var create = function create(_ref12) {\n      var root = _ref12.root;\n      // image view\n      root.ref.images = [];\n\n      // the preview image data (we need this to filter the image)\n      root.ref.imageData = null;\n\n      // image bin\n      root.ref.imageViewBin = [];\n\n      // image overlays\n      root.ref.overlayShadow = root.appendChildView(\n        root.createChildView(OverlayView, {\n          opacity: 0,\n          status: 'idle'\n        })\n      );\n\n      root.ref.overlaySuccess = root.appendChildView(\n        root.createChildView(OverlayView, {\n          opacity: 0,\n          status: 'success'\n        })\n      );\n\n      root.ref.overlayError = root.appendChildView(\n        root.createChildView(OverlayView, {\n          opacity: 0,\n          status: 'failure'\n        })\n      );\n    };\n\n    return _.utils.createView({\n      name: 'image-preview-wrapper',\n      create: create,\n      styles: ['height'],\n      apis: ['height'],\n      destroy: function destroy(_ref13) {\n        var root = _ref13.root;\n        // we resize the image so memory on iOS 12 is released more quickly (it seems)\n        root.ref.images.forEach(function(imageView) {\n          imageView.image.width = 1;\n          imageView.image.height = 1;\n        });\n      },\n      didWriteView: function didWriteView(_ref14) {\n        var root = _ref14.root;\n        root.ref.images.forEach(function(imageView) {\n          imageView.dirty = false;\n        });\n      },\n      write: _.utils.createRoute(\n        {\n          // image preview stated\n          DID_IMAGE_PREVIEW_DRAW: didDrawPreview,\n          DID_IMAGE_PREVIEW_CONTAINER_CREATE: didCreatePreviewContainer,\n          DID_FINISH_CALCULATE_PREVIEWSIZE: drawPreview,\n          DID_UPDATE_ITEM_METADATA: didUpdateItemMetadata,\n\n          // file states\n          DID_THROW_ITEM_LOAD_ERROR: didThrowError,\n          DID_THROW_ITEM_PROCESSING_ERROR: didThrowError,\n          DID_THROW_ITEM_INVALID: didThrowError,\n          DID_COMPLETE_ITEM_PROCESSING: didCompleteProcessing,\n          DID_START_ITEM_PROCESSING: restoreOverlay,\n          DID_REVERT_ITEM_PROCESSING: restoreOverlay\n        },\n\n        function(_ref15) {\n          var root = _ref15.root;\n          // views on death row\n          var viewsToRemove = root.ref.imageViewBin.filter(function(imageView) {\n            return imageView.opacity === 0;\n          });\n\n          // views to retain\n          root.ref.imageViewBin = root.ref.imageViewBin.filter(function(\n            imageView\n          ) {\n            return imageView.opacity > 0;\n          });\n\n          // remove these views\n          viewsToRemove.forEach(function(imageView) {\n            return removeImageView(root, imageView);\n          });\n          viewsToRemove.length = 0;\n        }\n      )\n    });\n  };\n\n  /**\n   * Image Preview Plugin\n   */\n  var plugin = function plugin(fpAPI) {\n    var addFilter = fpAPI.addFilter,\n      utils = fpAPI.utils;\n    var Type = utils.Type,\n      createRoute = utils.createRoute,\n      isFile = utils.isFile;\n\n    // imagePreviewView\n    var imagePreviewView = createImageWrapperView(fpAPI);\n\n    // called for each view that is created right after the 'create' method\n    addFilter('CREATE_VIEW', function(viewAPI) {\n      // get reference to created view\n      var is = viewAPI.is,\n        view = viewAPI.view,\n        query = viewAPI.query;\n\n      // only hook up to item view and only if is enabled for this cropper\n      if (!is('file') || !query('GET_ALLOW_IMAGE_PREVIEW')) return;\n\n      // create the image preview plugin, but only do so if the item is an image\n      var didLoadItem = function didLoadItem(_ref) {\n        var root = _ref.root,\n          props = _ref.props;\n        var id = props.id;\n        var item = query('GET_ITEM', id);\n\n        // item could theoretically have been removed in the mean time\n        if (!item || !isFile(item.file) || item.archived) return;\n\n        // get the file object\n        var file = item.file;\n\n        // exit if this is not an image\n        if (!isPreviewableImage(file)) return;\n\n        // test if is filtered\n        if (!query('GET_IMAGE_PREVIEW_FILTER_ITEM')(item)) return;\n\n        // exit if image size is too high and no createImageBitmap support\n        // this would simply bring the browser to its knees and that is not what we want\n        var supportsCreateImageBitmap = 'createImageBitmap' in (window || {});\n        var maxPreviewFileSize = query('GET_IMAGE_PREVIEW_MAX_FILE_SIZE');\n        if (\n          !supportsCreateImageBitmap &&\n          maxPreviewFileSize &&\n          file.size > maxPreviewFileSize\n        )\n          return;\n\n        // set preview view\n        root.ref.imagePreview = view.appendChildView(\n          view.createChildView(imagePreviewView, { id: id })\n        );\n\n        // update height if is fixed\n        var fixedPreviewHeight = root.query('GET_IMAGE_PREVIEW_HEIGHT');\n        if (fixedPreviewHeight) {\n          root.dispatch('DID_UPDATE_PANEL_HEIGHT', {\n            id: item.id,\n            height: fixedPreviewHeight\n          });\n        }\n\n        // now ready\n        var queue =\n          !supportsCreateImageBitmap &&\n          file.size > query('GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE');\n        root.dispatch('DID_IMAGE_PREVIEW_CONTAINER_CREATE', { id: id }, queue);\n      };\n\n      var rescaleItem = function rescaleItem(root, props) {\n        if (!root.ref.imagePreview) return;\n        var id = props.id;\n\n        // get item\n        var item = root.query('GET_ITEM', { id: id });\n        if (!item) return;\n\n        // if is fixed height or panel has aspect ratio, exit here, height has already been defined\n        var panelAspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n        var itemPanelAspectRatio = root.query('GET_ITEM_PANEL_ASPECT_RATIO');\n        var fixedHeight = root.query('GET_IMAGE_PREVIEW_HEIGHT');\n        if (panelAspectRatio || itemPanelAspectRatio || fixedHeight) return;\n\n        // no data!\n        var _root$ref = root.ref,\n          imageWidth = _root$ref.imageWidth,\n          imageHeight = _root$ref.imageHeight;\n        if (!imageWidth || !imageHeight) return;\n\n        // get height min and max\n        var minPreviewHeight = root.query('GET_IMAGE_PREVIEW_MIN_HEIGHT');\n        var maxPreviewHeight = root.query('GET_IMAGE_PREVIEW_MAX_HEIGHT');\n\n        // orientation info\n        var exif = item.getMetadata('exif') || {};\n        var orientation = exif.orientation || -1;\n\n        // get width and height from action, and swap of orientation is incorrect\n        if (orientation >= 5 && orientation <= 8) {\n          var _ref2 = [imageHeight, imageWidth];\n          imageWidth = _ref2[0];\n          imageHeight = _ref2[1];\n        }\n\n        // scale up width and height when we're dealing with an SVG\n        if (!isBitmap(item.file) || root.query('GET_IMAGE_PREVIEW_UPSCALE')) {\n          var scalar = 2048 / imageWidth;\n          imageWidth *= scalar;\n          imageHeight *= scalar;\n        }\n\n        // image aspect ratio\n        var imageAspectRatio = imageHeight / imageWidth;\n\n        // we need the item to get to the crop size\n        var previewAspectRatio =\n          (item.getMetadata('crop') || {}).aspectRatio || imageAspectRatio;\n\n        // preview height range\n        var previewHeightMax = Math.max(\n          minPreviewHeight,\n          Math.min(imageHeight, maxPreviewHeight)\n        );\n\n        var itemWidth = root.rect.element.width;\n        var previewHeight = Math.min(\n          itemWidth * previewAspectRatio,\n          previewHeightMax\n        );\n\n        // request update to panel height\n        root.dispatch('DID_UPDATE_PANEL_HEIGHT', {\n          id: item.id,\n          height: previewHeight\n        });\n      };\n\n      var didResizeView = function didResizeView(_ref3) {\n        var root = _ref3.root;\n        // actions in next write operation\n        root.ref.shouldRescale = true;\n      };\n\n      var didUpdateItemMetadata = function didUpdateItemMetadata(_ref4) {\n        var root = _ref4.root,\n          action = _ref4.action;\n        if (action.change.key !== 'crop') return;\n\n        // actions in next write operation\n        root.ref.shouldRescale = true;\n      };\n\n      var didCalculatePreviewSize = function didCalculatePreviewSize(_ref5) {\n        var root = _ref5.root,\n          action = _ref5.action;\n        // remember dimensions\n        root.ref.imageWidth = action.width;\n        root.ref.imageHeight = action.height;\n\n        // actions in next write operation\n        root.ref.shouldRescale = true;\n        root.ref.shouldDrawPreview = true;\n\n        // as image load could take a while and fire when draw loop is resting we need to give it a kick\n        root.dispatch('KICK');\n      };\n\n      // start writing\n      view.registerWriter(\n        createRoute(\n          {\n            DID_RESIZE_ROOT: didResizeView,\n            DID_STOP_RESIZE: didResizeView,\n            DID_LOAD_ITEM: didLoadItem,\n            DID_IMAGE_PREVIEW_CALCULATE_SIZE: didCalculatePreviewSize,\n            DID_UPDATE_ITEM_METADATA: didUpdateItemMetadata\n          },\n\n          function(_ref6) {\n            var root = _ref6.root,\n              props = _ref6.props;\n            // no preview view attached\n            if (!root.ref.imagePreview) return;\n\n            // don't do anything while hidden\n            if (root.rect.element.hidden) return;\n\n            // resize the item panel\n            if (root.ref.shouldRescale) {\n              rescaleItem(root, props);\n              root.ref.shouldRescale = false;\n            }\n\n            if (root.ref.shouldDrawPreview) {\n              // queue till next frame so we're sure the height has been applied this forces the draw image call inside the wrapper view to use the correct height\n              requestAnimationFrame(function() {\n                // this requestAnimationFrame nesting is horrible but it fixes an issue with 100hz displays on Chrome\n                // https://github.com/pqina/filepond-plugin-image-preview/issues/57\n                requestAnimationFrame(function() {\n                  root.dispatch('DID_FINISH_CALCULATE_PREVIEWSIZE', {\n                    id: props.id\n                  });\n                });\n              });\n\n              root.ref.shouldDrawPreview = false;\n            }\n          }\n        )\n      );\n    });\n\n    // expose plugin\n    return {\n      options: {\n        // Enable or disable image preview\n        allowImagePreview: [true, Type.BOOLEAN],\n\n        // filters file items to determine which are shown as preview\n        imagePreviewFilterItem: [\n          function() {\n            return true;\n          },\n          Type.FUNCTION\n        ],\n\n        // Fixed preview height\n        imagePreviewHeight: [null, Type.INT],\n\n        // Min image height\n        imagePreviewMinHeight: [44, Type.INT],\n\n        // Max image height\n        imagePreviewMaxHeight: [256, Type.INT],\n\n        // Max size of preview file for when createImageBitmap is not supported\n        imagePreviewMaxFileSize: [null, Type.INT],\n\n        // The amount of extra pixels added to the image preview to allow comfortable zooming\n        imagePreviewZoomFactor: [2, Type.INT],\n\n        // Should we upscale small images to fit the max bounding box of the preview area\n        imagePreviewUpscale: [false, Type.BOOLEAN],\n\n        // Max size of preview file that we allow to try to instant preview if createImageBitmap is not supported, else image is queued for loading\n        imagePreviewMaxInstantPreviewFileSize: [1000000, Type.INT],\n\n        // Style of the transparancy indicator used behind images\n        imagePreviewTransparencyIndicator: [null, Type.STRING],\n\n        // Enables or disables reading average image color\n        imagePreviewCalculateAverageImageColor: [false, Type.BOOLEAN],\n\n        // Enables or disables the previewing of markup\n        imagePreviewMarkupShow: [true, Type.BOOLEAN],\n\n        // Allows filtering of markup to only show certain shapes\n        imagePreviewMarkupFilter: [\n          function() {\n            return true;\n          },\n          Type.FUNCTION\n        ]\n      }\n    };\n  };\n\n  // fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\n  var isBrowser =\n    typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  if (isBrowser) {\n    document.dispatchEvent(\n      new CustomEvent('FilePond:pluginloaded', { detail: plugin })\n    );\n  }\n\n  return plugin;\n});\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.VueFormWizard=e():t.VueFormWizard=e()}(\"undefined\"!=typeof self?self:this,function(){return function(t){function e(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var a={};return e.m=t,e.c=a,e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,\"a\",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=7)}([function(t,e){t.exports=function(t,e,a,n,i,r){var s,o=t=t||{},c=typeof t.default;\"object\"!==c&&\"function\"!==c||(s=t,o=t.default);var u=\"function\"==typeof o?o.options:o;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),a&&(u.functional=!0),i&&(u._scopeId=i);var l;if(r?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=l):n&&(l=n),l){var d=u.functional,b=d?u.render:u.beforeCreate;d?(u._injectStyles=l,u.render=function(t,e){return l.call(e),b(t,e)}):u.beforeCreate=b?[].concat(b,l):[l]}return{esModule:s,exports:o,options:u}}},function(t,e,a){\"use strict\";var n=a(2),i=a(4),r=a(14);e.a={name:\"form-wizard\",components:{WizardButton:n.a,WizardStep:i.a},props:{title:{type:String,default:\"Awesome Wizard\"},subtitle:{type:String,default:\"Split a complicated flow in multiple steps\"},nextButtonText:{type:String,default:\"Next\"},backButtonText:{type:String,default:\"Back\"},finishButtonText:{type:String,default:\"Finish\"},hideButtons:{type:Boolean,default:!1},validateOnBack:Boolean,color:{type:String,default:\"#e74c3c\"},errorColor:{type:String,default:\"#8b0000\"},shape:{type:String,default:\"circle\"},layout:{type:String,default:\"horizontal\"},stepsClasses:{type:[String,Array],default:\"\"},stepSize:{type:String,default:\"md\",validator:function(t){return-1!==[\"xs\",\"sm\",\"md\",\"lg\"].indexOf(t)}},transition:{type:String,default:\"\"},startIndex:{type:Number,default:0,validator:function(t){return t>=0}}},provide:function(){return{addTab:this.addTab,removeTab:this.removeTab}},data:function(){return{activeTabIndex:0,currentPercentage:0,maxStep:0,loading:!1,tabs:[]}},computed:{slotProps:function(){return{nextTab:this.nextTab,prevTab:this.prevTab,activeTabIndex:this.activeTabIndex,isLastStep:this.isLastStep,fillButtonStyle:this.fillButtonStyle}},tabCount:function(){return this.tabs.length},isLastStep:function(){return this.activeTabIndex===this.tabCount-1},isVertical:function(){return\"vertical\"===this.layout},displayPrevButton:function(){return 0!==this.activeTabIndex},stepPercentage:function(){return 1/(2*this.tabCount)*100},progressBarStyle:function(){return{backgroundColor:this.color,width:this.progress+\"%\",color:this.color}},fillButtonStyle:function(){return{backgroundColor:this.color,borderColor:this.color,color:\"white\"}},progress:function(){return this.activeTabIndex>0?this.stepPercentage*(2*this.activeTabIndex+1):this.stepPercentage}},methods:{emitTabChange:function(t,e){this.$emit(\"on-change\",t,e),this.$emit(\"update:startIndex\",e)},addTab:function(t){var e=this.$slots.default.indexOf(t.$vnode);t.tabId=\"\"+t.title.replace(/ /g,\"\")+e,this.tabs.splice(e,0,t),e<this.activeTabIndex+1&&(this.maxStep=e,this.changeTab(this.activeTabIndex+1,e))},removeTab:function(t){var e=this.tabs,a=e.indexOf(t);a>-1&&(a===this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.changeTab(this.activeTabIndex,this.activeTabIndex-1)),a<this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.activeTabIndex=this.activeTabIndex-1,this.emitTabChange(this.activeTabIndex+1,this.activeTabIndex)),e.splice(a,1))},reset:function(){this.maxStep=0,this.tabs.forEach(function(t){t.checked=!1}),this.navigateToTab(0)},activateAll:function(){this.maxStep=this.tabs.length-1,this.tabs.forEach(function(t){t.checked=!0})},navigateToTab:function(t){var e=this,a=t>this.activeTabIndex;if(t<=this.maxStep){var n=function n(){a&&t-e.activeTabIndex>1?(e.changeTab(e.activeTabIndex,e.activeTabIndex+1),e.beforeTabChange(e.activeTabIndex,n)):(e.changeTab(e.activeTabIndex,t),e.afterTabChange(e.activeTabIndex))};a?this.beforeTabChange(this.activeTabIndex,n):(this.setValidationError(null),n())}return t<=this.maxStep},nextTab:function(){var t=this,e=function(){t.activeTabIndex<t.tabCount-1?(t.changeTab(t.activeTabIndex,t.activeTabIndex+1),t.afterTabChange(t.activeTabIndex)):t.$emit(\"on-complete\")};this.beforeTabChange(this.activeTabIndex,e)},prevTab:function(){var t=this,e=function(){t.activeTabIndex>0&&(t.setValidationError(null),t.changeTab(t.activeTabIndex,t.activeTabIndex-1))};this.validateOnBack?this.beforeTabChange(this.activeTabIndex,e):e()},focusNextTab:function(){var t=Object(r.b)(this.tabs);if(-1!==t&&t<this.tabs.length-1){var e=this.tabs[t+1];e.checked&&Object(r.a)(e.tabId)}},focusPrevTab:function(){var t=Object(r.b)(this.tabs);if(-1!==t&&t>0){var e=this.tabs[t-1].tabId;Object(r.a)(e)}},setLoading:function(t){this.loading=t,this.$emit(\"on-loading\",t)},setValidationError:function(t){this.tabs[this.activeTabIndex].validationError=t,this.$emit(\"on-error\",t)},validateBeforeChange:function(t,e){var a=this;if(this.setValidationError(null),Object(r.c)(t))this.setLoading(!0),t.then(function(t){a.setLoading(!1);var n=!0===t;a.executeBeforeChange(n,e)}).catch(function(t){a.setLoading(!1),a.setValidationError(t)});else{var n=!0===t;this.executeBeforeChange(n,e)}},executeBeforeChange:function(t,e){this.$emit(\"on-validate\",t,this.activeTabIndex),t?e():this.tabs[this.activeTabIndex].validationError=\"error\"},beforeTabChange:function(t,e){if(!this.loading){var a=this.tabs[t];if(a&&void 0!==a.beforeChange){var n=a.beforeChange();this.validateBeforeChange(n,e)}else e()}},afterTabChange:function(t){if(!this.loading){var e=this.tabs[t];e&&void 0!==e.afterChange&&e.afterChange()}},changeTab:function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.tabs[t],i=this.tabs[e];return n&&(n.active=!1),i&&(i.active=!0),a&&this.activeTabIndex!==e&&this.emitTabChange(t,e),this.activeTabIndex=e,this.activateTabAndCheckStep(this.activeTabIndex),!0},tryChangeRoute:function(t){this.$router&&t.route&&this.$router.push(t.route)},checkRouteChange:function(t){var e=-1,a=this.tabs.find(function(a,n){var i=a.route===t;return i&&(e=n),i});if(a&&!a.active){var n=e>this.activeTabIndex;this.navigateToTab(e,n)}},deactivateTabs:function(){this.tabs.forEach(function(t){t.active=!1})},activateTab:function(t){this.deactivateTabs();var e=this.tabs[t];e&&(e.active=!0,e.checked=!0,this.tryChangeRoute(e))},activateTabAndCheckStep:function(t){this.activateTab(t),t>this.maxStep&&(this.maxStep=t),this.activeTabIndex=t},initializeTabs:function(){this.tabs.length>0&&0===this.startIndex&&this.activateTab(this.activeTabIndex),this.startIndex<this.tabs.length?this.activateTabAndCheckStep(this.startIndex):window.console.warn(\"Prop startIndex set to \"+this.startIndex+\" is greater than the number of tabs - \"+this.tabs.length+\". Make sure that the starting index is less than the number of tabs registered\")}},mounted:function(){this.initializeTabs()},watch:{\"$route.path\":function(t){this.checkRouteChange(t)}}}},function(t,e,a){\"use strict\";function n(t){a(10)}var i=a(3),r=a(11),s=a(0),o=n,c=s(i.a,r.a,!1,o,null,null);e.a=c.exports},function(t,e,a){\"use strict\";e.a={}},function(t,e,a){\"use strict\";function n(t){a(12)}var i=a(5),r=a(13),s=a(0),o=n,c=s(i.a,r.a,!1,o,null,null);e.a=c.exports},function(t,e,a){\"use strict\";e.a={name:\"wizard-step\",props:{tab:{type:Object,default:function(){}},transition:{type:String,default:\"\"},index:{type:Number,default:0}},computed:{iconActiveStyle:function(){return{backgroundColor:this.tab.color}},stepCheckedStyle:function(){return{borderColor:this.tab.color}},errorStyle:function(){return{borderColor:this.tab.errorColor,backgroundColor:this.tab.errorColor}},stepTitleStyle:function(){return{color:this.tab.validationError?this.tab.errorColor:this.tab.color}},isStepSquare:function(){return\"square\"===this.tab.shape},isTabShape:function(){return\"tab\"===this.tab.shape}}}},function(t,e,a){\"use strict\";e.a={name:\"tab-content\",props:{title:{type:String,default:\"\"},icon:{type:String,default:\"\"},beforeChange:{type:Function},afterChange:{type:Function},route:{type:[String,Object]},additionalInfo:{type:Object,default:function(){}}},inject:[\"addTab\",\"removeTab\"],data:function(){return{active:!1,validationError:null,checked:!1,tabId:\"\"}},computed:{shape:function(){return this.$parent.shape},color:function(){return this.$parent.color},errorColor:function(){return this.$parent.errorColor}},mounted:function(){this.addTab(this)},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeTab(this)}}},function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=a(8),i=a(16),r=a(2),s=a(4);a.d(e,\"FormWizard\",function(){return n.a}),a.d(e,\"TabContent\",function(){return i.a}),a.d(e,\"WizardButton\",function(){return r.a}),a.d(e,\"WizardStep\",function(){return s.a});var o={install:function(t){t.component(\"form-wizard\",n.a),t.component(\"tab-content\",i.a),t.component(\"wizard-button\",r.a),t.component(\"wizard-step\",s.a)}};\"undefined\"!=typeof window&&window.Vue&&window.Vue.use(o),e.default=o},function(t,e,a){\"use strict\";function n(t){a(9)}var i=a(1),r=a(15),s=a(0),o=n,c=s(i.a,r.a,!1,o,null,null);e.a=c.exports},function(t,e){},function(t,e){},function(t,e,a){\"use strict\";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)(\"button\",{staticClass:\"wizard-btn\",attrs:{tabindex:\"-1\",type:\"button\"}},[t._t(\"default\")],2)},i=[],r={render:n,staticRenderFns:i};e.a=r},function(t,e){},function(t,e,a){\"use strict\";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"li\",{class:{active:t.tab.active}},[a(\"a\",{class:{disabled:!t.tab.checked},attrs:{href:\"javascript:void(0)\"}},[a(\"div\",{staticClass:\"wizard-icon-circle md\",class:{checked:t.tab.checked,square_shape:t.isStepSquare,tab_shape:t.isTabShape},style:[t.tab.checked?t.stepCheckedStyle:{},t.tab.validationError?t.errorStyle:{}],attrs:{role:\"tab\",tabindex:t.tab.checked?0:\"\",id:\"step-\"+t.tab.tabId,\"aria-controls\":t.tab.tabId,\"aria-disabled\":t.tab.active,\"aria-selected\":t.tab.active}},[a(\"transition\",{attrs:{name:t.transition,mode:\"out-in\"}},[t.tab.active?a(\"div\",{staticClass:\"wizard-icon-container\",class:{square_shape:t.isStepSquare,tab_shape:t.isTabShape},style:[t.tab.active?t.iconActiveStyle:{},t.tab.validationError?t.errorStyle:{}]},[t._t(\"active-step\",[t.tab.icon?a(\"i\",{staticClass:\"wizard-icon\",class:t.tab.icon}):a(\"i\",{staticClass:\"wizard-icon\"},[t._v(t._s(t.index+1))])])],2):t._e(),t._v(\" \"),t.tab.active?t._e():t._t(\"default\",[!t.tab.active&&t.tab.icon?a(\"i\",{staticClass:\"wizard-icon\",class:t.tab.icon}):t._e(),t._v(\" \"),t.tab.active||t.tab.icon?t._e():a(\"i\",{staticClass:\"wizard-icon\"},[t._v(t._s(t.index+1))])])],2)],1),t._v(\" \"),t._t(\"title\",[a(\"span\",{staticClass:\"stepTitle\",class:{active:t.tab.active,has_error:t.tab.validationError},style:t.tab.active?t.stepTitleStyle:{}},[t._v(\"\\n            \"+t._s(t.tab.title)+\"\\n      \")])])],2)])},i=[],r={render:n,staticRenderFns:i};e.a=r},function(t,e,a){\"use strict\";function n(){return document.activeElement.id}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=n();return t.findIndex(function(t){return t.tabId===e})}function r(t){document.getElementById(t).focus()}function s(t){return t.then&&\"function\"==typeof t.then}e.b=i,e.a=r,e.c=s},function(t,e,a){\"use strict\";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"vue-form-wizard\",class:[t.stepSize,{vertical:t.isVertical}],on:{keyup:[function(e){return\"button\"in e||!t._k(e.keyCode,\"right\",39,e.key)?\"button\"in e&&2!==e.button?null:void t.focusNextTab(e):null},function(e){return\"button\"in e||!t._k(e.keyCode,\"left\",37,e.key)?\"button\"in e&&0!==e.button?null:void t.focusPrevTab(e):null}]}},[a(\"div\",{staticClass:\"wizard-header\"},[t._t(\"title\",[a(\"h4\",{staticClass:\"wizard-title\"},[t._v(t._s(t.title))]),t._v(\" \"),a(\"p\",{staticClass:\"category\"},[t._v(t._s(t.subtitle))])])],2),t._v(\" \"),a(\"div\",{staticClass:\"wizard-navigation\"},[t.isVertical?t._e():a(\"div\",{staticClass:\"wizard-progress-with-circle\"},[a(\"div\",{staticClass:\"wizard-progress-bar\",style:t.progressBarStyle})]),t._v(\" \"),a(\"ul\",{staticClass:\"wizard-nav wizard-nav-pills\",class:t.stepsClasses,attrs:{role:\"tablist\"}},[t._l(t.tabs,function(e,n){return t._t(\"step\",[a(\"wizard-step\",{attrs:{tab:e,\"step-size\":t.stepSize,transition:t.transition,index:n},nativeOn:{click:function(e){t.navigateToTab(n)},keyup:function(e){if(!(\"button\"in e)&&t._k(e.keyCode,\"enter\",13,e.key))return null;t.navigateToTab(n)}}})],{tab:e,index:n,navigateToTab:t.navigateToTab,stepSize:t.stepSize,transition:t.transition})})],2),t._v(\" \"),a(\"div\",{staticClass:\"wizard-tab-content\"},[t._t(\"default\",null,null,t.slotProps)],2)]),t._v(\" \"),t.hideButtons?t._e():a(\"div\",{staticClass:\"wizard-card-footer clearfix\"},[t._t(\"footer\",[a(\"div\",{staticClass:\"wizard-footer-left\"},[t.displayPrevButton?a(\"span\",{attrs:{role:\"button\",tabindex:\"0\"},on:{click:t.prevTab,keyup:function(e){if(!(\"button\"in e)&&t._k(e.keyCode,\"enter\",13,e.key))return null;t.prevTab(e)}}},[t._t(\"prev\",[a(\"wizard-button\",{style:t.fillButtonStyle,attrs:{disabled:t.loading}},[t._v(\"\\n              \"+t._s(t.backButtonText)+\"\\n            \")])],null,t.slotProps)],2):t._e(),t._v(\" \"),t._t(\"custom-buttons-left\",null,null,t.slotProps)],2),t._v(\" \"),a(\"div\",{staticClass:\"wizard-footer-right\"},[t._t(\"custom-buttons-right\",null,null,t.slotProps),t._v(\" \"),t.isLastStep?a(\"span\",{attrs:{role:\"button\",tabindex:\"0\"},on:{click:t.nextTab,keyup:function(e){if(!(\"button\"in e)&&t._k(e.keyCode,\"enter\",13,e.key))return null;t.nextTab(e)}}},[t._t(\"finish\",[a(\"wizard-button\",{style:t.fillButtonStyle},[t._v(\"\\n              \"+t._s(t.finishButtonText)+\"\\n            \")])],null,t.slotProps)],2):a(\"span\",{attrs:{role:\"button\",tabindex:\"0\"},on:{click:t.nextTab,keyup:function(e){if(!(\"button\"in e)&&t._k(e.keyCode,\"enter\",13,e.key))return null;t.nextTab(e)}}},[t._t(\"next\",[a(\"wizard-button\",{style:t.fillButtonStyle,attrs:{disabled:t.loading}},[t._v(\"\\n            \"+t._s(t.nextButtonText)+\"\\n           \")])],null,t.slotProps)],2)],2)],null,t.slotProps)],2)])},i=[],r={render:n,staticRenderFns:i};e.a=r},function(t,e,a){\"use strict\";var n=a(6),i=a(17),r=a(0),s=r(n.a,i.a,!1,null,null,null);e.a=s.exports},function(t,e,a){\"use strict\";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.active,expression:\"active\"}],staticClass:\"wizard-tab-container\",attrs:{role:\"tabpanel\",id:t.tabId,\"aria-hidden\":!t.active,\"aria-labelledby\":\"step-\"+t.tabId}},[t._t(\"default\",null,{active:t.active})],2)},i=[],r={render:n,staticRenderFns:i};e.a=r}])});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',[_c('b-col',{staticClass:\"mb-2\",attrs:{\"cols\":\"12\"}},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm.$t('forms.contract.title'))+\" \")]),_c('small',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(_vm.$t('forms.contract.discretion'))+\" \")])]),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.firstName'),\"label-for\":\"firstName\"}},[_c('validation-provider',{attrs:{\"name\":\"firstName\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"firstName\",\"value\":_vm.firstName,\"state\":errors.length > 0 ? false : null,\"placeholder\":_vm.$t('forms.contract.firstName')},on:{\"keyup\":function($event){return _vm.$emit('update:firstName', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:firstName', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.middleName'),\"label-for\":\"middleName\"}},[_c('validation-provider',{attrs:{\"name\":\"middleName\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"middleName\",\"value\":_vm.middleName,\"state\":errors.length > 0 ? false : null,\"placeholder\":_vm.$t('forms.contract.middleName')},on:{\"keyup\":function($event){return _vm.$emit('update:middleName', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:middleName', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.lastName'),\"label-for\":\"lastName\"}},[_c('validation-provider',{attrs:{\"name\":\"lastName\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"lastName\",\"value\":_vm.lastName,\"state\":errors.length > 0 ? false : null,\"placeholder\":_vm.$t('forms.contract.lastName')},on:{\"keyup\":function($event){return _vm.$emit('update:lastName', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:lastName', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.email'),\"label-for\":\"email\"}},[_c('validation-provider',{attrs:{\"name\":\"email\",\"rules\":\"email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"email\",\"value\":_vm.emailAddress,\"type\":\"email\",\"state\":errors.length > 0 ? false : null,\"placeholder\":_vm.$t('forms.contract.email')},on:{\"keyup\":function($event){return _vm.$emit('update:emailAddress', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:emailAddress', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.birthdate'),\"label-for\":\"birthdate\"}},[_c('validation-provider',{attrs:{\"name\":\"birthdate\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"birthdate\",\"value\":_vm.birthdate,\"type\":\"date\",\"state\":errors.length > 0 ? false : null},on:{\"blur\":function($event){return _vm.$emit('update:birthdate', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.birthplace'),\"label-for\":\"birthplace\"}},[_c('validation-provider',{attrs:{\"name\":\"birthplace\",\"vid\":\"birthplace\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"value\":_vm.birthplace,\"state\":errors.length > 0 ? false : null},on:{\"keyup\":function($event){return _vm.$emit('update:birthplace', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:birthplace', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),(false)?_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.marital'),\"label-for\":\"marital\"}},[_c('validation-provider',{attrs:{\"name\":\"marital\",\"rules\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-select',{attrs:{\"id\":\"marital\",\"value\":_vm.marital,\"placeholder\":\"اختار حالة الزواج\",\"value-field\":\"id\",\"text-field\":\"name\",\"options\":_vm.maritalOption,\"state\":errors.length > 0 ? false : null},on:{\"change\":function($event){return _vm.$emit('update:marital', $event)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}],null,false,2784816639)})],1)],1):_vm._e(),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.nationality'),\"label-for\":\"nationality\"}},[_c('validation-provider',{attrs:{\"name\":\"nationality\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"nationality\",\"value\":_vm.nationality,\"state\":errors.length > 0 ? false : null},on:{\"keyup\":function($event){return _vm.$emit('update:nationality', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:nationality', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.profession'),\"label-for\":\"profession\"}},[_c('validation-provider',{attrs:{\"name\":\"profession\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"profession\",\"value\":_vm.profession,\"state\":errors.length > 0 ? false : null,\"placeholder\":\"\"},on:{\"keyup\":function($event){return _vm.$emit('update:profession', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:profession', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.address'),\"label-for\":\"address\"}},[_c('validation-provider',{attrs:{\"name\":\"address\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"address\",\"value\":_vm.address,\"state\":errors.length > 0 ? false : null,\"placeholder\":\"\"},on:{\"keyup\":function($event){return _vm.$emit('update:address', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:address', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.phone'),\"label-for\":\"phone\"}},[_c('validation-provider',{attrs:{\"name\":\"phone\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"phone\",\"value\":_vm.phone,\"state\":errors.length > 0 ? false : null},on:{\"keyup\":function($event){return _vm.$emit('update:phone', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:phone', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.kinshipDegree'),\"label-for\":\"kinshipDegree\"}},[_c('validation-provider',{attrs:{\"name\":\"kinshipDegree\",\"rules\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-select',{attrs:{\"id\":\"kinshipDegree\",\"value\":_vm.kinshipDegree,\"placeholder\":\"\",\"value-field\":\"id\",\"text-field\":\"name\",\"options\":_vm.kinshipDegreeOption,\"state\":errors.length > 0 ? false : null},on:{\"change\":function($event){return _vm.$emit('update:kinshipDegree', $event)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-row>\r\n    <b-col\r\n      cols=\"12\"\r\n      class=\"mb-2\"\r\n    >\r\n      <h5 class=\"mb-0\">\r\n        {{ $t('forms.contract.title') }}\r\n      </h5>\r\n      <small class=\"text-muted\">\r\n        {{ $t('forms.contract.discretion') }}\r\n      </small>\r\n    </b-col>\r\n    <b-col md=\"4\">\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.firstName')\"\r\n        label-for=\"firstName\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"firstName\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"firstName\"\r\n            :value=\"firstName\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            :placeholder=\"$t('forms.contract.firstName')\"\r\n            @keyup=\"$emit('update:firstName', $event.target.value)\"\r\n            @blur=\"$emit('update:firstName', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col md=\"4\">\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.middleName')\"\r\n        label-for=\"middleName\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"middleName\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"middleName\"\r\n            :value=\"middleName\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            :placeholder=\"$t('forms.contract.middleName')\"\r\n            @keyup=\"$emit('update:middleName', $event.target.value)\"\r\n            @blur=\"$emit('update:middleName', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col md=\"4\">\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.lastName')\"\r\n        label-for=\"lastName\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"lastName\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"lastName\"\r\n            :value=\"lastName\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            :placeholder=\"$t('forms.contract.lastName')\"\r\n            @keyup=\"$emit('update:lastName', $event.target.value)\"\r\n            @blur=\"$emit('update:lastName', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col md=\"4\">\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.email')\"\r\n        label-for=\"email\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"email\"\r\n          rules=\"email\"\r\n        >\r\n          <b-form-input\r\n            id=\"email\"\r\n            :value=\"emailAddress\"\r\n            type=\"email\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            :placeholder=\"$t('forms.contract.email')\"\r\n            @keyup=\"$emit('update:emailAddress', $event.target.value)\"\r\n            @blur=\"$emit('update:emailAddress', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col md=\"4\">\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.birthdate')\"\r\n        label-for=\"birthdate\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"birthdate\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"birthdate\"\r\n            :value=\"birthdate\"\r\n            type=\"date\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            @blur=\"$emit('update:birthdate', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.birthplace')\"\r\n        label-for=\"birthplace\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"birthplace\"\r\n          vid=\"birthplace\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            :value=\"birthplace\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            @keyup=\"$emit('update:birthplace', $event.target.value)\"\r\n            @blur=\"$emit('update:birthplace', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      v-if=\"false\"\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.marital')\"\r\n        label-for=\"marital\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"marital\"\r\n          rules=\"\"\r\n        >\r\n          <b-form-select\r\n            id=\"marital\"\r\n            :value=\"marital\"\r\n            placeholder=\"اختار حالة الزواج\"\r\n            value-field=\"id\"\r\n            text-field=\"name\"\r\n            :options=\"maritalOption\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            @change=\"$emit('update:marital', $event)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.nationality')\"\r\n        label-for=\"nationality\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"nationality\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"nationality\"\r\n            :value=\"nationality\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            @keyup=\"$emit('update:nationality', $event.target.value)\"\r\n            @blur=\"$emit('update:nationality', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.profession')\"\r\n        label-for=\"profession\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"profession\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"profession\"\r\n            :value=\"profession\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            placeholder=\"\"\r\n            @keyup=\"$emit('update:profession', $event.target.value)\"\r\n            @blur=\"$emit('update:profession', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.address')\"\r\n        label-for=\"address\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"address\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"address\"\r\n            :value=\"address\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            placeholder=\"\"\r\n            @keyup=\"$emit('update:address', $event.target.value)\"\r\n            @blur=\"$emit('update:address', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.phone')\"\r\n        label-for=\"phone\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"phone\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"phone\"\r\n            :value=\"phone\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            @keyup=\"$emit('update:phone', $event.target.value)\"\r\n            @blur=\"$emit('update:phone', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.kinshipDegree')\"\r\n        label-for=\"kinshipDegree\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"kinshipDegree\"\r\n          rules=\"\"\r\n        >\r\n          <b-form-select\r\n            id=\"kinshipDegree\"\r\n            :value=\"kinshipDegree\"\r\n            placeholder=\"\"\r\n            value-field=\"id\"\r\n            text-field=\"name\"\r\n            :options=\"kinshipDegreeOption\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            @change=\"$emit('update:kinshipDegree', $event)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\nimport { ValidationProvider, localize } from 'vee-validate'\r\nimport ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\r\nimport 'vue-form-wizard/dist/vue-form-wizard.min.css'\r\nimport '@core/scss/vue/libs/vue-wizard.scss'\r\nimport {\r\n  BRow,\r\n  BCol,\r\n  BFormGroup,\r\n  BFormInput,\r\n  BFormSelect,\r\n  // BCard,\r\n} from 'bootstrap-vue'\r\nimport { required, email } from '@validations'\r\n// import ar from 'vee-validate/dist/locale/ar.json'\r\n\r\n// Install English and Arabic locales.\r\n// localize({\r\n//   dic,\r\n// })\r\nconst dic = {\r\n  ar: {\r\n    names: {\r\n      email: 'البريد الاليكتروني',\r\n      phone: 'رقم الهاتف',\r\n      Password: 'كلمة السر',\r\n      website: 'الموقع الالكتروني',\r\n      country: 'المحافظة',\r\n      landline_number: 'الرقم المباشر',\r\n      direct_employee_name: 'اسم الموظف المباشر',\r\n      direct_employee_phone: 'رقم هاتف الموظف المباشر',\r\n      factory_register: 'سجل المصنع',\r\n      factory_register_image: 'صورة سجل المصنع',\r\n      letter_image: 'صورة الخطاب',\r\n      address: 'العنوان',\r\n    },\r\n  },\r\n}\r\nlocalize('ar', dic.ar)\r\nexport default {\r\n  name: 'Husband',\r\n  components: {\r\n    ValidationProvider,\r\n    // ValidationObserver,\r\n    BRow,\r\n    BCol,\r\n    BFormGroup,\r\n    BFormInput,\r\n    BFormSelect,\r\n    // eslint-disable-next-line vue/no-unused-components\r\n    ToastificationContent,\r\n  },\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    firstName: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    middleName: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    lastName: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    emailAddress: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    birthdate: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    birthplace: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    marital: {\r\n      type: String,\r\n      required: false,\r\n      default: '',\r\n    },\r\n    maritalOption: {\r\n      type: Array,\r\n      required: false,\r\n      default: () => [],\r\n    },\r\n    nationality: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    profession: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    address: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    phone: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    kinshipDegree: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    kinshipDegreeOption: {\r\n      type: Array,\r\n      required: false,\r\n      default: () => [],\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      locale: 'ar',\r\n      required,\r\n      email,\r\n    }\r\n  },\r\n  created() {},\r\n  methods: {\r\n    test() {\r\n      console.log(this.marital)\r\n    },\r\n  },\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\">\r\n//@import '@core/scss/vue/libs/vue-select.scss';\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Agent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Agent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Agent.vue?vue&type=template&id=2ce9ff0b&\"\nimport script from \"./Agent.vue?vue&type=script&lang=js&\"\nexport * from \"./Agent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Agent.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../vue';\nimport { EVENT_NAME_BLUR, EVENT_NAME_CHANGE, EVENT_NAME_INPUT, EVENT_NAME_UPDATE, HOOK_EVENT_NAME_BEFORE_DESTROY } from '../constants/events';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_FUNCTION, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../constants/props';\nimport { attemptBlur, attemptFocus } from '../utils/dom';\nimport { stopEvent } from '../utils/events';\nimport { mathMax } from '../utils/math';\nimport { makeModelMixin } from '../utils/model';\nimport { toInteger, toFloat } from '../utils/number';\nimport { sortKeys } from '../utils/object';\nimport { hasPropFunction, makeProp, makePropsConfigurable } from '../utils/props';\nimport { toString } from '../utils/string'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('value', {\n  type: PROP_TYPE_NUMBER_STRING,\n  defaultValue: '',\n  event: EVENT_NAME_UPDATE\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nexport { MODEL_PROP_NAME, MODEL_EVENT_NAME }; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, modelProps), {}, {\n  ariaInvalid: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  autocomplete: makeProp(PROP_TYPE_STRING),\n  // Debounce timeout (in ms). Not applicable with `lazy` prop\n  debounce: makeProp(PROP_TYPE_NUMBER_STRING, 0),\n  formatter: makeProp(PROP_TYPE_FUNCTION),\n  // Only update the `v-model` on blur/change events\n  lazy: makeProp(PROP_TYPE_BOOLEAN, false),\n  lazyFormatter: makeProp(PROP_TYPE_BOOLEAN, false),\n  number: makeProp(PROP_TYPE_BOOLEAN, false),\n  placeholder: makeProp(PROP_TYPE_STRING),\n  plaintext: makeProp(PROP_TYPE_BOOLEAN, false),\n  readonly: makeProp(PROP_TYPE_BOOLEAN, false),\n  trim: makeProp(PROP_TYPE_BOOLEAN, false)\n})), 'formTextControls'); // --- Mixin ---\n// @vue/component\n\nexport var formTextMixin = Vue.extend({\n  mixins: [modelMixin],\n  props: props,\n  data: function data() {\n    var value = this[MODEL_PROP_NAME];\n    return {\n      localValue: toString(value),\n      vModelValue: this.modifyValue(value)\n    };\n  },\n  computed: {\n    computedClass: function computedClass() {\n      var plaintext = this.plaintext,\n          type = this.type;\n      var isRange = type === 'range';\n      var isColor = type === 'color';\n      return [{\n        // Range input needs class `custom-range`\n        'custom-range': isRange,\n        // `plaintext` not supported by `type=\"range\"` or `type=\"color\"`\n        'form-control-plaintext': plaintext && !isRange && !isColor,\n        // `form-control` not used by `type=\"range\"` or `plaintext`\n        // Always used by `type=\"color\"`\n        'form-control': isColor || !plaintext && !isRange\n      }, this.sizeFormClass, this.stateClass];\n    },\n    computedDebounce: function computedDebounce() {\n      // Ensure we have a positive number equal to or greater than 0\n      return mathMax(toInteger(this.debounce, 0), 0);\n    },\n    hasFormatter: function hasFormatter() {\n      return hasPropFunction(this.formatter);\n    }\n  },\n  watch: _defineProperty({}, MODEL_PROP_NAME, function (newValue) {\n    var stringifyValue = toString(newValue);\n    var modifiedValue = this.modifyValue(newValue);\n\n    if (stringifyValue !== this.localValue || modifiedValue !== this.vModelValue) {\n      // Clear any pending debounce timeout, as we are overwriting the user input\n      this.clearDebounce(); // Update the local values\n\n      this.localValue = stringifyValue;\n      this.vModelValue = modifiedValue;\n    }\n  }),\n  created: function created() {\n    // Create private non-reactive props\n    this.$_inputDebounceTimer = null;\n  },\n  mounted: function mounted() {\n    // Set up destroy handler\n    this.$on(HOOK_EVENT_NAME_BEFORE_DESTROY, this.clearDebounce);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.clearDebounce();\n  },\n  methods: {\n    clearDebounce: function clearDebounce() {\n      clearTimeout(this.$_inputDebounceTimer);\n      this.$_inputDebounceTimer = null;\n    },\n    formatValue: function formatValue(value, event) {\n      var force = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      value = toString(value);\n\n      if (this.hasFormatter && (!this.lazyFormatter || force)) {\n        value = this.formatter(value, event);\n      }\n\n      return value;\n    },\n    modifyValue: function modifyValue(value) {\n      value = toString(value); // Emulate `.trim` modifier behaviour\n\n      if (this.trim) {\n        value = value.trim();\n      } // Emulate `.number` modifier behaviour\n\n\n      if (this.number) {\n        value = toFloat(value, value);\n      }\n\n      return value;\n    },\n    updateValue: function updateValue(value) {\n      var _this = this;\n\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var lazy = this.lazy;\n\n      if (lazy && !force) {\n        return;\n      } // Make sure to always clear the debounce when `updateValue()`\n      // is called, even when the v-model hasn't changed\n\n\n      this.clearDebounce(); // Define the shared update logic in a method to be able to use\n      // it for immediate and debounced value changes\n\n      var doUpdate = function doUpdate() {\n        value = _this.modifyValue(value);\n\n        if (value !== _this.vModelValue) {\n          _this.vModelValue = value;\n\n          _this.$emit(MODEL_EVENT_NAME, value);\n        } else if (_this.hasFormatter) {\n          // When the `vModelValue` hasn't changed but the actual input value\n          // is out of sync, make sure to change it to the given one\n          // Usually caused by browser autocomplete and how it triggers the\n          // change or input event, or depending on the formatter function\n          // https://github.com/bootstrap-vue/bootstrap-vue/issues/2657\n          // https://github.com/bootstrap-vue/bootstrap-vue/issues/3498\n\n          /* istanbul ignore next: hard to test */\n          var $input = _this.$refs.input;\n          /* istanbul ignore if: hard to test out of sync value */\n\n          if ($input && value !== $input.value) {\n            $input.value = value;\n          }\n        }\n      }; // Only debounce the value update when a value greater than `0`\n      // is set and we are not in lazy mode or this is a forced update\n\n\n      var debounce = this.computedDebounce;\n\n      if (debounce > 0 && !lazy && !force) {\n        this.$_inputDebounceTimer = setTimeout(doUpdate, debounce);\n      } else {\n        // Immediately update the v-model\n        doUpdate();\n      }\n    },\n    onInput: function onInput(event) {\n      // `event.target.composing` is set by Vue\n      // https://github.com/vuejs/vue/blob/dev/src/platforms/web/runtime/directives/model.js\n      // TODO: Is this needed now with the latest Vue?\n\n      /* istanbul ignore if: hard to test composition events */\n      if (event.target.composing) {\n        return;\n      }\n\n      var value = event.target.value;\n      var formattedValue = this.formatValue(value, event); // Exit when the `formatter` function strictly returned `false`\n      // or prevented the input event\n\n      /* istanbul ignore next */\n\n      if (formattedValue === false || event.defaultPrevented) {\n        stopEvent(event, {\n          propagation: false\n        });\n        return;\n      }\n\n      this.localValue = formattedValue;\n      this.updateValue(formattedValue);\n      this.$emit(EVENT_NAME_INPUT, formattedValue);\n    },\n    onChange: function onChange(event) {\n      var value = event.target.value;\n      var formattedValue = this.formatValue(value, event); // Exit when the `formatter` function strictly returned `false`\n      // or prevented the input event\n\n      /* istanbul ignore next */\n\n      if (formattedValue === false || event.defaultPrevented) {\n        stopEvent(event, {\n          propagation: false\n        });\n        return;\n      }\n\n      this.localValue = formattedValue;\n      this.updateValue(formattedValue, true);\n      this.$emit(EVENT_NAME_CHANGE, formattedValue);\n    },\n    onBlur: function onBlur(event) {\n      // Apply the `localValue` on blur to prevent cursor jumps\n      // on mobile browsers (e.g. caused by autocomplete)\n      var value = event.target.value;\n      var formattedValue = this.formatValue(value, event, true);\n\n      if (formattedValue !== false) {\n        // We need to use the modified value here to apply the\n        // `.trim` and `.number` modifiers properly\n        this.localValue = toString(this.modifyValue(formattedValue)); // We pass the formatted value here since the `updateValue` method\n        // handles the modifiers itself\n\n        this.updateValue(formattedValue, true);\n      } // Emit native blur event\n\n\n      this.$emit(EVENT_NAME_BLUR, event);\n    },\n    focus: function focus() {\n      // For external handler that may want a focus method\n      if (!this.disabled) {\n        attemptFocus(this.$el);\n      }\n    },\n    blur: function blur() {\n      // For external handler that may want a blur method\n      if (!this.disabled) {\n        attemptBlur(this.$el);\n      }\n    }\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_INPUT } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { arrayIncludes } from '../../utils/array';\nimport { attemptBlur } from '../../utils/dom';\nimport { eventOn, eventOff, eventOnOff, stopEvent } from '../../utils/events';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { formSelectionMixin } from '../../mixins/form-selection';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { formTextMixin, props as formTextProps } from '../../mixins/form-text';\nimport { formValidityMixin } from '../../mixins/form-validity';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenersMixin } from '../../mixins/listeners'; // --- Constants ---\n// Valid supported input types\n\nvar TYPES = ['text', 'password', 'email', 'number', 'url', 'tel', 'search', 'range', 'color', 'date', 'time', 'datetime', 'datetime-local', 'month', 'week']; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), formControlProps), formSizeProps), formStateProps), formTextProps), {}, {\n  list: makeProp(PROP_TYPE_STRING),\n  max: makeProp(PROP_TYPE_NUMBER_STRING),\n  min: makeProp(PROP_TYPE_NUMBER_STRING),\n  // Disable mousewheel to prevent wheel from changing values (i.e. number/date)\n  noWheel: makeProp(PROP_TYPE_BOOLEAN, false),\n  step: makeProp(PROP_TYPE_NUMBER_STRING),\n  type: makeProp(PROP_TYPE_STRING, 'text', function (type) {\n    return arrayIncludes(TYPES, type);\n  })\n})), NAME_FORM_INPUT); // --- Main component ---\n// @vue/component\n\nexport var BFormInput = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_INPUT,\n  // Mixin order is important!\n  mixins: [listenersMixin, idMixin, formControlMixin, formSizeMixin, formStateMixin, formTextMixin, formSelectionMixin, formValidityMixin],\n  props: props,\n  computed: {\n    localType: function localType() {\n      // We only allow certain types\n      var type = this.type;\n      return arrayIncludes(TYPES, type) ? type : 'text';\n    },\n    computedAttrs: function computedAttrs() {\n      var type = this.localType,\n          name = this.name,\n          form = this.form,\n          disabled = this.disabled,\n          placeholder = this.placeholder,\n          required = this.required,\n          min = this.min,\n          max = this.max,\n          step = this.step;\n      return {\n        id: this.safeId(),\n        name: name,\n        form: form,\n        type: type,\n        disabled: disabled,\n        placeholder: placeholder,\n        required: required,\n        autocomplete: this.autocomplete || null,\n        readonly: this.readonly || this.plaintext,\n        min: min,\n        max: max,\n        step: step,\n        list: type !== 'password' ? this.list : null,\n        'aria-required': required ? 'true' : null,\n        'aria-invalid': this.computedAriaInvalid\n      };\n    },\n    computedListeners: function computedListeners() {\n      return _objectSpread(_objectSpread({}, this.bvListeners), {}, {\n        input: this.onInput,\n        change: this.onChange,\n        blur: this.onBlur\n      });\n    }\n  },\n  watch: {\n    noWheel: function noWheel(newValue) {\n      this.setWheelStopper(newValue);\n    }\n  },\n  mounted: function mounted() {\n    this.setWheelStopper(this.noWheel);\n  },\n\n  /* istanbul ignore next */\n  deactivated: function deactivated() {\n    // Turn off listeners when keep-alive component deactivated\n\n    /* istanbul ignore next */\n    this.setWheelStopper(false);\n  },\n\n  /* istanbul ignore next */\n  activated: function activated() {\n    // Turn on listeners (if no-wheel) when keep-alive component activated\n\n    /* istanbul ignore next */\n    this.setWheelStopper(this.noWheel);\n  },\n  beforeDestroy: function beforeDestroy() {\n    /* istanbul ignore next */\n    this.setWheelStopper(false);\n  },\n  methods: {\n    setWheelStopper: function setWheelStopper(on) {\n      var input = this.$el; // We use native events, so that we don't interfere with propagation\n\n      eventOnOff(on, input, 'focus', this.onWheelFocus);\n      eventOnOff(on, input, 'blur', this.onWheelBlur);\n\n      if (!on) {\n        eventOff(document, 'wheel', this.stopWheel);\n      }\n    },\n    onWheelFocus: function onWheelFocus() {\n      eventOn(document, 'wheel', this.stopWheel);\n    },\n    onWheelBlur: function onWheelBlur() {\n      eventOff(document, 'wheel', this.stopWheel);\n    },\n    stopWheel: function stopWheel(event) {\n      stopEvent(event, {\n        propagation: false\n      });\n      attemptBlur(this.$el);\n    }\n  },\n  render: function render(h) {\n    return h('input', {\n      class: this.computedClass,\n      attrs: this.computedAttrs,\n      domProps: {\n        value: this.localValue\n      },\n      on: this.computedListeners,\n      ref: 'input'\n    });\n  }\n});","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wife.vue?vue&type=style&index=0&lang=scss&\"","import { makeModelMixin } from '../utils/model';\n\nvar _makeModelMixin = makeModelMixin('value'),\n    mixin = _makeModelMixin.mixin,\n    props = _makeModelMixin.props,\n    prop = _makeModelMixin.prop,\n    event = _makeModelMixin.event;\n\nexport { mixin as modelMixin, props, prop as MODEL_PROP_NAME, event as MODEL_EVENT_NAME };","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../../vue';\nimport { PROP_TYPE_STRING } from '../../../constants/props';\nimport { get } from '../../../utils/get';\nimport { isNull, isPlainObject, isUndefined } from '../../../utils/inspect';\nimport { sortKeys } from '../../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../../utils/props';\nimport { formOptionsMixin, props as formOptionsProps } from '../../../mixins/form-options'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, formOptionsProps), {}, {\n  labelField: makeProp(PROP_TYPE_STRING, 'label'),\n  optionsField: makeProp(PROP_TYPE_STRING, 'options')\n})), 'formOptions'); // --- Mixin ---\n// @vue/component\n\nexport var optionsMixin = Vue.extend({\n  mixins: [formOptionsMixin],\n  props: props,\n  methods: {\n    normalizeOption: function normalizeOption(option) {\n      var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      // When the option is an object, normalize it\n      if (isPlainObject(option)) {\n        var value = get(option, this.valueField);\n        var text = get(option, this.textField);\n        var options = get(option, this.optionsField, null); // When it has options, create an `<optgroup>` object\n\n        if (!isNull(options)) {\n          return {\n            label: String(get(option, this.labelField) || text),\n            options: this.normalizeOptions(options)\n          };\n        } // Otherwise create an `<option>` object\n\n\n        return {\n          value: isUndefined(value) ? key || text : value,\n          text: String(isUndefined(text) ? key : text),\n          html: get(option, this.htmlField),\n          disabled: Boolean(get(option, this.disabledField))\n        };\n      } // Otherwise create an `<option>` object from the given value\n\n\n      return {\n        value: key || option,\n        text: String(option),\n        disabled: false\n      };\n    }\n  }\n});","import { Vue, mergeData } from '../../vue';\nimport { NAME_FORM_SELECT_OPTION } from '../../constants/components';\nimport { PROP_TYPE_ANY, PROP_TYPE_BOOLEAN } from '../../constants/props';\nimport { makeProp, makePropsConfigurable } from '../../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  disabled: makeProp(PROP_TYPE_BOOLEAN, false),\n  value: makeProp(PROP_TYPE_ANY, undefined, true) // Required\n\n}, NAME_FORM_SELECT_OPTION); // --- Main component ---\n// @vue/component\n\nexport var BFormSelectOption = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_SELECT_OPTION,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    var value = props.value,\n        disabled = props.disabled;\n    return h('option', mergeData(data, {\n      attrs: {\n        disabled: disabled\n      },\n      domProps: {\n        value: value\n      }\n    }), children);\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_SELECT_OPTION_GROUP } from '../../constants/components';\nimport { PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_FIRST } from '../../constants/slots';\nimport { htmlOrText } from '../../utils/html';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { formOptionsMixin, props as formOptionsProps } from '../../mixins/form-options';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { BFormSelectOption } from './form-select-option'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, formOptionsProps), {}, {\n  label: makeProp(PROP_TYPE_STRING, undefined, true) // Required\n\n})), NAME_FORM_SELECT_OPTION_GROUP); // --- Main component ---\n// @vue/component\n\nexport var BFormSelectOptionGroup = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_SELECT_OPTION_GROUP,\n  mixins: [normalizeSlotMixin, formOptionsMixin],\n  props: props,\n  render: function render(h) {\n    var label = this.label;\n    var $options = this.formOptions.map(function (option, index) {\n      var value = option.value,\n          text = option.text,\n          html = option.html,\n          disabled = option.disabled;\n      return h(BFormSelectOption, {\n        attrs: {\n          value: value,\n          disabled: disabled\n        },\n        domProps: htmlOrText(html, text),\n        key: \"option_\".concat(index)\n      });\n    });\n    return h('optgroup', {\n      attrs: {\n        label: label\n      }\n    }, [this.normalizeSlot(SLOT_NAME_FIRST), $options, this.normalizeSlot()]);\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_SELECT } from '../../constants/components';\nimport { EVENT_NAME_CHANGE } from '../../constants/events';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_NUMBER } from '../../constants/props';\nimport { SLOT_NAME_FIRST } from '../../constants/slots';\nimport { from as arrayFrom } from '../../utils/array';\nimport { attemptBlur, attemptFocus } from '../../utils/dom';\nimport { htmlOrText } from '../../utils/html';\nimport { isArray } from '../../utils/inspect';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { formCustomMixin, props as formCustomProps } from '../../mixins/form-custom';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { MODEL_EVENT_NAME, MODEL_PROP_NAME, modelMixin, props as modelProps } from '../../mixins/model';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { optionsMixin } from './helpers/mixin-options';\nimport { BFormSelectOption } from './form-select-option';\nimport { BFormSelectOptionGroup } from './form-select-option-group'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), formControlProps), formCustomProps), formSizeProps), formStateProps), {}, {\n  ariaInvalid: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  multiple: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Browsers default size to `0`, which shows 4 rows in most browsers in multiple mode\n  // Size of `1` can bork out Firefox\n  selectSize: makeProp(PROP_TYPE_NUMBER, 0)\n})), NAME_FORM_SELECT); // --- Main component ---\n// @vue/component\n\nexport var BFormSelect = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_SELECT,\n  mixins: [idMixin, modelMixin, formControlMixin, formSizeMixin, formStateMixin, formCustomMixin, optionsMixin, normalizeSlotMixin],\n  props: props,\n  data: function data() {\n    return {\n      localValue: this[MODEL_PROP_NAME]\n    };\n  },\n  computed: {\n    computedSelectSize: function computedSelectSize() {\n      // Custom selects with a size of zero causes the arrows to be hidden,\n      // so dont render the size attribute in this case\n      return !this.plain && this.selectSize === 0 ? null : this.selectSize;\n    },\n    inputClass: function inputClass() {\n      return [this.plain ? 'form-control' : 'custom-select', this.size && this.plain ? \"form-control-\".concat(this.size) : null, this.size && !this.plain ? \"custom-select-\".concat(this.size) : null, this.stateClass];\n    }\n  },\n  watch: {\n    value: function value(newValue) {\n      this.localValue = newValue;\n    },\n    localValue: function localValue() {\n      this.$emit(MODEL_EVENT_NAME, this.localValue);\n    }\n  },\n  methods: {\n    focus: function focus() {\n      attemptFocus(this.$refs.input);\n    },\n    blur: function blur() {\n      attemptBlur(this.$refs.input);\n    },\n    onChange: function onChange(event) {\n      var _this = this;\n\n      var target = event.target;\n      var selectedValue = arrayFrom(target.options).filter(function (o) {\n        return o.selected;\n      }).map(function (o) {\n        return '_value' in o ? o._value : o.value;\n      });\n      this.localValue = target.multiple ? selectedValue : selectedValue[0];\n      this.$nextTick(function () {\n        _this.$emit(EVENT_NAME_CHANGE, _this.localValue);\n      });\n    }\n  },\n  render: function render(h) {\n    var name = this.name,\n        disabled = this.disabled,\n        required = this.required,\n        size = this.computedSelectSize,\n        value = this.localValue;\n    var $options = this.formOptions.map(function (option, index) {\n      var value = option.value,\n          label = option.label,\n          options = option.options,\n          disabled = option.disabled;\n      var key = \"option_\".concat(index);\n      return isArray(options) ? h(BFormSelectOptionGroup, {\n        props: {\n          label: label,\n          options: options\n        },\n        key: key\n      }) : h(BFormSelectOption, {\n        props: {\n          value: value,\n          disabled: disabled\n        },\n        domProps: htmlOrText(option.html, option.text),\n        key: key\n      });\n    });\n    return h('select', {\n      class: this.inputClass,\n      attrs: {\n        id: this.safeId(),\n        name: name,\n        form: this.form || null,\n        multiple: this.multiple || null,\n        size: size,\n        disabled: disabled,\n        required: required,\n        'aria-required': required ? 'true' : null,\n        'aria-invalid': this.computedAriaInvalid\n      },\n      on: {\n        change: this.onChange\n      },\n      directives: [{\n        name: 'model',\n        value: value\n      }],\n      ref: 'input'\n    }, [this.normalizeSlot(SLOT_NAME_FIRST), $options, this.normalizeSlot()]);\n  }\n});","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// v-b-visible\n// Private visibility check directive\n// Based on IntersectionObserver\n//\n// Usage:\n//  v-b-visibility.<margin>.<once>=\"<callback>\"\n//\n//  Value:\n//  <callback>: method to be called when visibility state changes, receives one arg:\n//     true:  element is visible\n//     false: element is not visible\n//     null:  IntersectionObserver not supported\n//\n//  Modifiers:\n//    <margin>: a positive decimal value of pixels away from viewport edge\n//              before being considered \"visible\". default is 0\n//    <once>:   keyword 'once', meaning when the element becomes visible and\n//              callback is called observation/notification will stop.\n//\n// When used in a render function:\n// export default {\n//   directives: { 'b-visible': VBVisible },\n//   render(h) {\n//     h(\n//       'div',\n//       {\n//         directives: [\n//           { name: 'b-visible', value=this.callback, modifiers: { '123':true, 'once':true } }\n//         ]\n//       }\n//     )\n//   }\nimport { RX_DIGITS } from '../../constants/regex';\nimport { requestAF } from '../../utils/dom';\nimport { isFunction } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { clone, keys } from '../../utils/object';\nvar OBSERVER_PROP_NAME = '__bv__visibility_observer';\n\nvar VisibilityObserver = /*#__PURE__*/function () {\n  function VisibilityObserver(el, options, vnode) {\n    _classCallCheck(this, VisibilityObserver);\n\n    this.el = el;\n    this.callback = options.callback;\n    this.margin = options.margin || 0;\n    this.once = options.once || false;\n    this.observer = null;\n    this.visible = undefined;\n    this.doneOnce = false; // Create the observer instance (if possible)\n\n    this.createObserver(vnode);\n  }\n\n  _createClass(VisibilityObserver, [{\n    key: \"createObserver\",\n    value: function createObserver(vnode) {\n      var _this = this;\n\n      // Remove any previous observer\n      if (this.observer) {\n        /* istanbul ignore next */\n        this.stop();\n      } // Should only be called once and `callback` prop should be a function\n\n\n      if (this.doneOnce || !isFunction(this.callback)) {\n        /* istanbul ignore next */\n        return;\n      } // Create the observer instance\n\n\n      try {\n        // Future: Possibly add in other modifiers for left/right/top/bottom\n        // offsets, root element reference, and thresholds\n        this.observer = new IntersectionObserver(this.handler.bind(this), {\n          // `null` = 'viewport'\n          root: null,\n          // Pixels away from view port to consider \"visible\"\n          rootMargin: this.margin,\n          // Intersection ratio of el and root (as a value from 0 to 1)\n          threshold: 0\n        });\n      } catch (_unused) {\n        // No IntersectionObserver support, so just stop trying to observe\n        this.doneOnce = true;\n        this.observer = undefined;\n        this.callback(null);\n        return;\n      } // Start observing in a `$nextTick()` (to allow DOM to complete rendering)\n\n      /* istanbul ignore next: IntersectionObserver not supported in JSDOM */\n\n\n      vnode.context.$nextTick(function () {\n        requestAF(function () {\n          // Placed in an `if` just in case we were destroyed before\n          // this `requestAnimationFrame` runs\n          if (_this.observer) {\n            _this.observer.observe(_this.el);\n          }\n        });\n      });\n    }\n    /* istanbul ignore next */\n\n  }, {\n    key: \"handler\",\n    value: function handler(entries) {\n      var entry = entries ? entries[0] : {};\n      var isIntersecting = Boolean(entry.isIntersecting || entry.intersectionRatio > 0.0);\n\n      if (isIntersecting !== this.visible) {\n        this.visible = isIntersecting;\n        this.callback(isIntersecting);\n\n        if (this.once && this.visible) {\n          this.doneOnce = true;\n          this.stop();\n        }\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      /* istanbul ignore next */\n      this.observer && this.observer.disconnect();\n      this.observer = null;\n    }\n  }]);\n\n  return VisibilityObserver;\n}();\n\nvar destroy = function destroy(el) {\n  var observer = el[OBSERVER_PROP_NAME];\n\n  if (observer && observer.stop) {\n    observer.stop();\n  }\n\n  delete el[OBSERVER_PROP_NAME];\n};\n\nvar bind = function bind(el, _ref, vnode) {\n  var value = _ref.value,\n      modifiers = _ref.modifiers;\n  // `value` is the callback function\n  var options = {\n    margin: '0px',\n    once: false,\n    callback: value\n  }; // Parse modifiers\n\n  keys(modifiers).forEach(function (mod) {\n    /* istanbul ignore else: Until <b-img-lazy> is switched to use this directive */\n    if (RX_DIGITS.test(mod)) {\n      options.margin = \"\".concat(mod, \"px\");\n    } else if (mod.toLowerCase() === 'once') {\n      options.once = true;\n    }\n  }); // Destroy any previous observer\n\n  destroy(el); // Create new observer\n\n  el[OBSERVER_PROP_NAME] = new VisibilityObserver(el, options, vnode); // Store the current modifiers on the object (cloned)\n\n  el[OBSERVER_PROP_NAME]._prevModifiers = clone(modifiers);\n}; // When the directive options may have been updated (or element)\n\n\nvar componentUpdated = function componentUpdated(el, _ref2, vnode) {\n  var value = _ref2.value,\n      oldValue = _ref2.oldValue,\n      modifiers = _ref2.modifiers;\n  // Compare value/oldValue and modifiers to see if anything has changed\n  // and if so, destroy old observer and create new observer\n\n  /* istanbul ignore next */\n  modifiers = clone(modifiers);\n  /* istanbul ignore next */\n\n  if (el && (value !== oldValue || !el[OBSERVER_PROP_NAME] || !looseEqual(modifiers, el[OBSERVER_PROP_NAME]._prevModifiers))) {\n    // Re-bind on element\n    bind(el, {\n      value: value,\n      modifiers: modifiers\n    }, vnode);\n  }\n}; // When directive un-binds from element\n\n\nvar unbind = function unbind(el) {\n  // Remove the observer\n  destroy(el);\n}; // Export the directive\n\n\nexport var VBVisible = {\n  bind: bind,\n  componentUpdated: componentUpdated,\n  unbind: unbind\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_TEXTAREA } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { getCS, getStyle, isVisible, requestAF, setStyle } from '../../utils/dom';\nimport { isNull } from '../../utils/inspect';\nimport { mathCeil, mathMax, mathMin } from '../../utils/math';\nimport { toInteger, toFloat } from '../../utils/number';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { formSelectionMixin } from '../../mixins/form-selection';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { formTextMixin, props as formTextProps } from '../../mixins/form-text';\nimport { formValidityMixin } from '../../mixins/form-validity';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { listenersMixin } from '../../mixins/listeners';\nimport { VBVisible } from '../../directives/visible/visible'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), formControlProps), formSizeProps), formStateProps), formTextProps), {}, {\n  maxRows: makeProp(PROP_TYPE_NUMBER_STRING),\n  // When in auto resize mode, disable shrinking to content height\n  noAutoShrink: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Disable the resize handle of textarea\n  noResize: makeProp(PROP_TYPE_BOOLEAN, false),\n  rows: makeProp(PROP_TYPE_NUMBER_STRING, 2),\n  // 'soft', 'hard' or 'off'\n  // Browser default is 'soft'\n  wrap: makeProp(PROP_TYPE_STRING, 'soft')\n})), NAME_FORM_TEXTAREA); // --- Main component ---\n// @vue/component\n\nexport var BFormTextarea = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_TEXTAREA,\n  directives: {\n    'b-visible': VBVisible\n  },\n  // Mixin order is important!\n  mixins: [listenersMixin, idMixin, listenOnRootMixin, formControlMixin, formSizeMixin, formStateMixin, formTextMixin, formSelectionMixin, formValidityMixin],\n  props: props,\n  data: function data() {\n    return {\n      heightInPx: null\n    };\n  },\n  computed: {\n    computedStyle: function computedStyle() {\n      var styles = {\n        // Setting `noResize` to true will disable the ability for the user to\n        // manually resize the textarea. We also disable when in auto height mode\n        resize: !this.computedRows || this.noResize ? 'none' : null\n      };\n\n      if (!this.computedRows) {\n        // Conditionally set the computed CSS height when auto rows/height is enabled\n        // We avoid setting the style to `null`, which can override user manual resize handle\n        styles.height = this.heightInPx; // We always add a vertical scrollbar to the textarea when auto-height is\n        // enabled so that the computed height calculation returns a stable value\n\n        styles.overflowY = 'scroll';\n      }\n\n      return styles;\n    },\n    computedMinRows: function computedMinRows() {\n      // Ensure rows is at least 2 and positive (2 is the native textarea value)\n      // A value of 1 can cause issues in some browsers, and most browsers\n      // only support 2 as the smallest value\n      return mathMax(toInteger(this.rows, 2), 2);\n    },\n    computedMaxRows: function computedMaxRows() {\n      return mathMax(this.computedMinRows, toInteger(this.maxRows, 0));\n    },\n    computedRows: function computedRows() {\n      // This is used to set the attribute 'rows' on the textarea\n      // If auto-height is enabled, then we return `null` as we use CSS to control height\n      return this.computedMinRows === this.computedMaxRows ? this.computedMinRows : null;\n    },\n    computedAttrs: function computedAttrs() {\n      var disabled = this.disabled,\n          required = this.required;\n      return {\n        id: this.safeId(),\n        name: this.name || null,\n        form: this.form || null,\n        disabled: disabled,\n        placeholder: this.placeholder || null,\n        required: required,\n        autocomplete: this.autocomplete || null,\n        readonly: this.readonly || this.plaintext,\n        rows: this.computedRows,\n        wrap: this.wrap || null,\n        'aria-required': this.required ? 'true' : null,\n        'aria-invalid': this.computedAriaInvalid\n      };\n    },\n    computedListeners: function computedListeners() {\n      return _objectSpread(_objectSpread({}, this.bvListeners), {}, {\n        input: this.onInput,\n        change: this.onChange,\n        blur: this.onBlur\n      });\n    }\n  },\n  watch: {\n    localValue: function localValue() {\n      this.setHeight();\n    }\n  },\n  mounted: function mounted() {\n    this.setHeight();\n  },\n  methods: {\n    // Called by intersection observer directive\n\n    /* istanbul ignore next */\n    visibleCallback: function visibleCallback(visible) {\n      if (visible) {\n        // We use a `$nextTick()` here just to make sure any\n        // transitions or portalling have completed\n        this.$nextTick(this.setHeight);\n      }\n    },\n    setHeight: function setHeight() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        requestAF(function () {\n          _this.heightInPx = _this.computeHeight();\n        });\n      });\n    },\n\n    /* istanbul ignore next: can't test getComputedStyle in JSDOM */\n    computeHeight: function computeHeight() {\n      if (this.$isServer || !isNull(this.computedRows)) {\n        return null;\n      }\n\n      var el = this.$el; // Element must be visible (not hidden) and in document\n      // Must be checked after above checks\n\n      if (!isVisible(el)) {\n        return null;\n      } // Get current computed styles\n\n\n      var computedStyle = getCS(el); // Height of one line of text in px\n\n      var lineHeight = toFloat(computedStyle.lineHeight, 1); // Calculate height of border and padding\n\n      var border = toFloat(computedStyle.borderTopWidth, 0) + toFloat(computedStyle.borderBottomWidth, 0);\n      var padding = toFloat(computedStyle.paddingTop, 0) + toFloat(computedStyle.paddingBottom, 0); // Calculate offset\n\n      var offset = border + padding; // Minimum height for min rows (which must be 2 rows or greater for cross-browser support)\n\n      var minHeight = lineHeight * this.computedMinRows + offset; // Get the current style height (with `px` units)\n\n      var oldHeight = getStyle(el, 'height') || computedStyle.height; // Probe scrollHeight by temporarily changing the height to `auto`\n\n      setStyle(el, 'height', 'auto');\n      var scrollHeight = el.scrollHeight; // Place the original old height back on the element, just in case `computedProp`\n      // returns the same value as before\n\n      setStyle(el, 'height', oldHeight); // Calculate content height in 'rows' (scrollHeight includes padding but not border)\n\n      var contentRows = mathMax((scrollHeight - padding) / lineHeight, 2); // Calculate number of rows to display (limited within min/max rows)\n\n      var rows = mathMin(mathMax(contentRows, this.computedMinRows), this.computedMaxRows); // Calculate the required height of the textarea including border and padding (in pixels)\n\n      var height = mathMax(mathCeil(rows * lineHeight + offset), minHeight); // Computed height remains the larger of `oldHeight` and new `height`,\n      // when height is in `sticky` mode (prop `no-auto-shrink` is true)\n\n      if (this.noAutoShrink && toFloat(oldHeight, 0) > height) {\n        return oldHeight;\n      } // Return the new computed CSS height in px units\n\n\n      return \"\".concat(height, \"px\");\n    }\n  },\n  render: function render(h) {\n    return h('textarea', {\n      class: this.computedClass,\n      style: this.computedStyle,\n      directives: [{\n        name: 'b-visible',\n        value: this.visibleCallback,\n        // If textarea is within 640px of viewport, consider it visible\n        modifiers: {\n          '640': true\n        }\n      }],\n      attrs: this.computedAttrs,\n      domProps: {\n        value: this.localValue\n      },\n      on: this.computedListeners,\n      ref: 'input'\n    });\n  }\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',[_c('b-col',{staticClass:\"mb-2\",attrs:{\"cols\":\"12\"}},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm.$t('forms.contract.title'))+\" \")]),_c('small',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(_vm.$t('forms.contract.discretion'))+\" \")])]),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.firstName'),\"label-for\":\"firstName\"}},[_c('validation-provider',{attrs:{\"name\":\"firstName\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"firstName\",\"value\":_vm.firstName,\"state\":errors.length > 0 ? false : null,\"placeholder\":_vm.$t('forms.contract.firstName')},on:{\"keyup\":function($event){return _vm.$emit('update:firstName', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:firstName', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.middleName'),\"label-for\":\"middleName\"}},[_c('validation-provider',{attrs:{\"name\":\"middleName\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"middleName\",\"value\":_vm.middleName,\"state\":errors.length > 0 ? false : null,\"placeholder\":_vm.$t('forms.contract.middleName')},on:{\"keyup\":function($event){return _vm.$emit('update:middleName', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:middleName', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.lastName'),\"label-for\":\"lastName\"}},[_c('validation-provider',{attrs:{\"name\":\"lastName\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"lastName\",\"value\":_vm.lastName,\"state\":errors.length > 0 ? false : null,\"placeholder\":_vm.$t('forms.contract.lastName')},on:{\"keyup\":function($event){return _vm.$emit('update:lastName', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:lastName', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.email'),\"label-for\":\"email\"}},[_c('validation-provider',{attrs:{\"name\":\"email\",\"rules\":\"email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"email\",\"value\":_vm.emailAddress,\"type\":\"email\",\"state\":errors.length > 0 ? false : null,\"placeholder\":_vm.$t('forms.contract.email')},on:{\"keyup\":function($event){return _vm.$emit('update:emailAddress', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:emailAddress', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.birthdate'),\"label-for\":\"birthdate\"}},[_c('validation-provider',{attrs:{\"name\":\"birthdate\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"birthdate\",\"value\":_vm.birthdate,\"type\":\"date\",\"state\":errors.length > 0 ? false : null},on:{\"blur\":function($event){return _vm.$emit('update:birthdate', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.birthplace'),\"label-for\":\"birthplace\"}},[_c('validation-provider',{attrs:{\"name\":\"birthplace\",\"vid\":\"birthplace\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"value\":_vm.birthplace,\"state\":errors.length > 0 ? false : null},on:{\"keyup\":function($event){return _vm.$emit('update:birthplace', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:birthplace', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),(_vm.marital)?_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.marital'),\"label-for\":\"marital\"}},[_c('validation-provider',{attrs:{\"name\":\"marital\",\"rules\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-select',{attrs:{\"id\":\"marital\",\"value\":_vm.marital,\"placeholder\":\"اختار حالة الزواج\",\"value-field\":\"id\",\"text-field\":\"name\",\"options\":_vm.maritalOption,\"state\":errors.length > 0 ? false : null},on:{\"change\":function($event){return _vm.$emit('update:marital', $event)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}],null,false,2784816639)})],1)],1):_vm._e(),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.nationality'),\"label-for\":\"nationality\"}},[_c('validation-provider',{attrs:{\"name\":\"nationality\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"nationality\",\"value\":_vm.nationality,\"state\":errors.length > 0 ? false : null},on:{\"keyup\":function($event){return _vm.$emit('update:nationality', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:nationality', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.profession'),\"label-for\":\"profession\"}},[_c('validation-provider',{attrs:{\"name\":\"profession\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"profession\",\"value\":_vm.profession,\"state\":errors.length > 0 ? false : null,\"placeholder\":\"\"},on:{\"keyup\":function($event){return _vm.$emit('update:profession', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:profession', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.address'),\"label-for\":\"address\"}},[_c('validation-provider',{attrs:{\"name\":\"address\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"address\",\"value\":_vm.address,\"state\":errors.length > 0 ? false : null,\"placeholder\":\"\"},on:{\"keyup\":function($event){return _vm.$emit('update:address', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:address', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.phone'),\"label-for\":\"phone\"}},[_c('validation-provider',{attrs:{\"name\":\"phone\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"phone\",\"value\":_vm.phone,\"state\":errors.length > 0 ? false : null},on:{\"keyup\":function($event){return _vm.$emit('update:phone', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:phone', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-row>\r\n    <b-col\r\n      cols=\"12\"\r\n      class=\"mb-2\"\r\n    >\r\n      <h5 class=\"mb-0\">\r\n        {{ $t('forms.contract.title') }}\r\n      </h5>\r\n      <small class=\"text-muted\">\r\n        {{ $t('forms.contract.discretion') }}\r\n      </small>\r\n    </b-col>\r\n    <b-col md=\"4\">\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.firstName')\"\r\n        label-for=\"firstName\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"firstName\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"firstName\"\r\n            :value=\"firstName\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            :placeholder=\"$t('forms.contract.firstName')\"\r\n            @keyup=\"$emit('update:firstName', $event.target.value)\"\r\n            @blur=\"$emit('update:firstName', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col md=\"4\">\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.middleName')\"\r\n        label-for=\"middleName\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"middleName\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"middleName\"\r\n            :value=\"middleName\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            :placeholder=\"$t('forms.contract.middleName')\"\r\n            @keyup=\"$emit('update:middleName', $event.target.value)\"\r\n            @blur=\"$emit('update:middleName', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col md=\"4\">\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.lastName')\"\r\n        label-for=\"lastName\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"lastName\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"lastName\"\r\n            :value=\"lastName\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            :placeholder=\"$t('forms.contract.lastName')\"\r\n            @keyup=\"$emit('update:lastName', $event.target.value)\"\r\n            @blur=\"$emit('update:lastName', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col md=\"4\">\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.email')\"\r\n        label-for=\"email\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"email\"\r\n          rules=\"email\"\r\n        >\r\n          <b-form-input\r\n            id=\"email\"\r\n            :value=\"emailAddress\"\r\n            type=\"email\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            :placeholder=\"$t('forms.contract.email')\"\r\n            @keyup=\"$emit('update:emailAddress', $event.target.value)\"\r\n            @blur=\"$emit('update:emailAddress', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col md=\"4\">\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.birthdate')\"\r\n        label-for=\"birthdate\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"birthdate\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"birthdate\"\r\n            :value=\"birthdate\"\r\n            type=\"date\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            @blur=\"$emit('update:birthdate', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.birthplace')\"\r\n        label-for=\"birthplace\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"birthplace\"\r\n          vid=\"birthplace\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            :value=\"birthplace\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            @keyup=\"$emit('update:birthplace', $event.target.value)\"\r\n            @blur=\"$emit('update:birthplace', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      v-if=\"marital\"\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.marital')\"\r\n        label-for=\"marital\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"marital\"\r\n          rules=\"\"\r\n        >\r\n          <b-form-select\r\n            id=\"marital\"\r\n            :value=\"marital\"\r\n            placeholder=\"اختار حالة الزواج\"\r\n            value-field=\"id\"\r\n            text-field=\"name\"\r\n            :options=\"maritalOption\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            @change=\"$emit('update:marital', $event)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.nationality')\"\r\n        label-for=\"nationality\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"nationality\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"nationality\"\r\n            :value=\"nationality\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            @keyup=\"$emit('update:nationality', $event.target.value)\"\r\n            @blur=\"$emit('update:nationality', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.profession')\"\r\n        label-for=\"profession\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"profession\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"profession\"\r\n            :value=\"profession\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            placeholder=\"\"\r\n            @keyup=\"$emit('update:profession', $event.target.value)\"\r\n            @blur=\"$emit('update:profession', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.address')\"\r\n        label-for=\"address\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"address\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"address\"\r\n            :value=\"address\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            placeholder=\"\"\r\n            @keyup=\"$emit('update:address', $event.target.value)\"\r\n            @blur=\"$emit('update:address', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.phone')\"\r\n        label-for=\"phone\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"phone\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"phone\"\r\n            :value=\"phone\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            @keyup=\"$emit('update:phone', $event.target.value)\"\r\n            @blur=\"$emit('update:phone', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\nimport { ValidationProvider, localize } from 'vee-validate'\r\nimport ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\r\nimport 'vue-form-wizard/dist/vue-form-wizard.min.css'\r\nimport '@core/scss/vue/libs/vue-wizard.scss'\r\nimport {\r\n  BRow,\r\n  BCol,\r\n  BFormGroup,\r\n  BFormInput,\r\n  BFormSelect,\r\n  // BCard,\r\n} from 'bootstrap-vue'\r\nimport { required, email } from '@validations'\r\n// import ar from 'vee-validate/dist/locale/ar.json'\r\n\r\n// Install English and Arabic locales.\r\n// localize({\r\n//   dic,\r\n// })\r\nconst dic = {\r\n  ar: {\r\n    names: {\r\n      email: 'البريد الاليكتروني',\r\n      phone: 'رقم الهاتف',\r\n      Password: 'كلمة السر',\r\n      website: 'الموقع الالكتروني',\r\n      country: 'المحافظة',\r\n      landline_number: 'الرقم المباشر',\r\n      direct_employee_name: 'اسم الموظف المباشر',\r\n      direct_employee_phone: 'رقم هاتف الموظف المباشر',\r\n      factory_register: 'سجل المصنع',\r\n      factory_register_image: 'صورة سجل المصنع',\r\n      letter_image: 'صورة الخطاب',\r\n      address: 'العنوان',\r\n    },\r\n  },\r\n}\r\nlocalize('ar', dic.ar)\r\nexport default {\r\n  name: 'Husband',\r\n  components: {\r\n    ValidationProvider,\r\n    // ValidationObserver,\r\n    BRow,\r\n    BCol,\r\n    BFormGroup,\r\n    BFormInput,\r\n    BFormSelect,\r\n    // eslint-disable-next-line vue/no-unused-components\r\n    ToastificationContent,\r\n  },\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    firstName: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    middleName: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    lastName: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    emailAddress: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    birthdate: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    birthplace: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    marital: {\r\n      type: String,\r\n      required: false,\r\n      default: '',\r\n    },\r\n    maritalOption: {\r\n      type: Array,\r\n      required: false,\r\n      default: () => [],\r\n    },\r\n    nationality: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    profession: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    address: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    phone: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      locale: 'ar',\r\n      required,\r\n      email,\r\n    }\r\n  },\r\n  created() {},\r\n  methods: {\r\n    test() {\r\n      // console.log(this.marital)\r\n    },\r\n  },\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\">\r\n//@import '@core/scss/vue/libs/vue-select.scss';\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wife.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wife.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Wife.vue?vue&type=template&id=80ebf5a6&\"\nimport script from \"./Wife.vue?vue&type=script&lang=js&\"\nexport * from \"./Wife.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Wife.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*!\n * FilePond 4.30.4\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\n(function(global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? factory(exports)\n        : typeof define === 'function' && define.amd\n        ? define(['exports'], factory)\n        : ((global = global || self), factory((global.FilePond = {})));\n})(this, function(exports) {\n    'use strict';\n\n    var isNode = function isNode(value) {\n        return value instanceof HTMLElement;\n    };\n\n    var createStore = function createStore(initialState) {\n        var queries = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n        var actions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n        // internal state\n        var state = Object.assign({}, initialState);\n\n        // contains all actions for next frame, is clear when actions are requested\n        var actionQueue = [];\n        var dispatchQueue = [];\n\n        // returns a duplicate of the current state\n        var getState = function getState() {\n            return Object.assign({}, state);\n        };\n\n        // returns a duplicate of the actions array and clears the actions array\n        var processActionQueue = function processActionQueue() {\n            // create copy of actions queue\n            var queue = [].concat(actionQueue);\n\n            // clear actions queue (we don't want no double actions)\n            actionQueue.length = 0;\n\n            return queue;\n        };\n\n        // processes actions that might block the main UI thread\n        var processDispatchQueue = function processDispatchQueue() {\n            // create copy of actions queue\n            var queue = [].concat(dispatchQueue);\n\n            // clear actions queue (we don't want no double actions)\n            dispatchQueue.length = 0;\n\n            // now dispatch these actions\n            queue.forEach(function(_ref) {\n                var type = _ref.type,\n                    data = _ref.data;\n                dispatch(type, data);\n            });\n        };\n\n        // adds a new action, calls its handler and\n        var dispatch = function dispatch(type, data, isBlocking) {\n            // is blocking action (should never block if document is hidden)\n            if (isBlocking && !document.hidden) {\n                dispatchQueue.push({ type: type, data: data });\n                return;\n            }\n\n            // if this action has a handler, handle the action\n            if (actionHandlers[type]) {\n                actionHandlers[type](data);\n            }\n\n            // now add action\n            actionQueue.push({\n                type: type,\n                data: data,\n            });\n        };\n\n        var query = function query(str) {\n            var _queryHandles;\n            for (\n                var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1;\n                _key < _len;\n                _key++\n            ) {\n                args[_key - 1] = arguments[_key];\n            }\n            return queryHandles[str]\n                ? (_queryHandles = queryHandles)[str].apply(_queryHandles, args)\n                : null;\n        };\n\n        var api = {\n            getState: getState,\n            processActionQueue: processActionQueue,\n            processDispatchQueue: processDispatchQueue,\n            dispatch: dispatch,\n            query: query,\n        };\n\n        var queryHandles = {};\n        queries.forEach(function(query) {\n            queryHandles = Object.assign({}, query(state), {}, queryHandles);\n        });\n\n        var actionHandlers = {};\n        actions.forEach(function(action) {\n            actionHandlers = Object.assign({}, action(dispatch, query, state), {}, actionHandlers);\n        });\n\n        return api;\n    };\n\n    var defineProperty = function defineProperty(obj, property, definition) {\n        if (typeof definition === 'function') {\n            obj[property] = definition;\n            return;\n        }\n        Object.defineProperty(obj, property, Object.assign({}, definition));\n    };\n\n    var forin = function forin(obj, cb) {\n        for (var key in obj) {\n            if (!obj.hasOwnProperty(key)) {\n                continue;\n            }\n\n            cb(key, obj[key]);\n        }\n    };\n\n    var createObject = function createObject(definition) {\n        var obj = {};\n        forin(definition, function(property) {\n            defineProperty(obj, property, definition[property]);\n        });\n        return obj;\n    };\n\n    var attr = function attr(node, name) {\n        var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        if (value === null) {\n            return node.getAttribute(name) || node.hasAttribute(name);\n        }\n        node.setAttribute(name, value);\n    };\n\n    var ns = 'http://www.w3.org/2000/svg';\n    var svgElements = ['svg', 'path']; // only svg elements used\n\n    var isSVGElement = function isSVGElement(tag) {\n        return svgElements.includes(tag);\n    };\n\n    var createElement = function createElement(tag, className) {\n        var attributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        if (typeof className === 'object') {\n            attributes = className;\n            className = null;\n        }\n        var element = isSVGElement(tag)\n            ? document.createElementNS(ns, tag)\n            : document.createElement(tag);\n        if (className) {\n            if (isSVGElement(tag)) {\n                attr(element, 'class', className);\n            } else {\n                element.className = className;\n            }\n        }\n        forin(attributes, function(name, value) {\n            attr(element, name, value);\n        });\n        return element;\n    };\n\n    var appendChild = function appendChild(parent) {\n        return function(child, index) {\n            if (typeof index !== 'undefined' && parent.children[index]) {\n                parent.insertBefore(child, parent.children[index]);\n            } else {\n                parent.appendChild(child);\n            }\n        };\n    };\n\n    var appendChildView = function appendChildView(parent, childViews) {\n        return function(view, index) {\n            if (typeof index !== 'undefined') {\n                childViews.splice(index, 0, view);\n            } else {\n                childViews.push(view);\n            }\n\n            return view;\n        };\n    };\n\n    var removeChildView = function removeChildView(parent, childViews) {\n        return function(view) {\n            // remove from child views\n            childViews.splice(childViews.indexOf(view), 1);\n\n            // remove the element\n            if (view.element.parentNode) {\n                parent.removeChild(view.element);\n            }\n\n            return view;\n        };\n    };\n\n    var IS_BROWSER = (function() {\n        return typeof window !== 'undefined' && typeof window.document !== 'undefined';\n    })();\n    var isBrowser = function isBrowser() {\n        return IS_BROWSER;\n    };\n\n    var testElement = isBrowser() ? createElement('svg') : {};\n    var getChildCount =\n        'children' in testElement\n            ? function(el) {\n                  return el.children.length;\n              }\n            : function(el) {\n                  return el.childNodes.length;\n              };\n\n    var getViewRect = function getViewRect(elementRect, childViews, offset, scale) {\n        var left = offset[0] || elementRect.left;\n        var top = offset[1] || elementRect.top;\n        var right = left + elementRect.width;\n        var bottom = top + elementRect.height * (scale[1] || 1);\n\n        var rect = {\n            // the rectangle of the element itself\n            element: Object.assign({}, elementRect),\n\n            // the rectangle of the element expanded to contain its children, does not include any margins\n            inner: {\n                left: elementRect.left,\n                top: elementRect.top,\n                right: elementRect.right,\n                bottom: elementRect.bottom,\n            },\n\n            // the rectangle of the element expanded to contain its children including own margin and child margins\n            // margins will be added after we've recalculated the size\n            outer: {\n                left: left,\n                top: top,\n                right: right,\n                bottom: bottom,\n            },\n        };\n\n        // expand rect to fit all child rectangles\n        childViews\n            .filter(function(childView) {\n                return !childView.isRectIgnored();\n            })\n            .map(function(childView) {\n                return childView.rect;\n            })\n            .forEach(function(childViewRect) {\n                expandRect(rect.inner, Object.assign({}, childViewRect.inner));\n                expandRect(rect.outer, Object.assign({}, childViewRect.outer));\n            });\n\n        // calculate inner width and height\n        calculateRectSize(rect.inner);\n\n        // append additional margin (top and left margins are included in top and left automatically)\n        rect.outer.bottom += rect.element.marginBottom;\n        rect.outer.right += rect.element.marginRight;\n\n        // calculate outer width and height\n        calculateRectSize(rect.outer);\n\n        return rect;\n    };\n\n    var expandRect = function expandRect(parent, child) {\n        // adjust for parent offset\n        child.top += parent.top;\n        child.right += parent.left;\n        child.bottom += parent.top;\n        child.left += parent.left;\n\n        if (child.bottom > parent.bottom) {\n            parent.bottom = child.bottom;\n        }\n\n        if (child.right > parent.right) {\n            parent.right = child.right;\n        }\n    };\n\n    var calculateRectSize = function calculateRectSize(rect) {\n        rect.width = rect.right - rect.left;\n        rect.height = rect.bottom - rect.top;\n    };\n\n    var isNumber = function isNumber(value) {\n        return typeof value === 'number';\n    };\n\n    /**\n     * Determines if position is at destination\n     * @param position\n     * @param destination\n     * @param velocity\n     * @param errorMargin\n     * @returns {boolean}\n     */\n    var thereYet = function thereYet(position, destination, velocity) {\n        var errorMargin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.001;\n        return Math.abs(position - destination) < errorMargin && Math.abs(velocity) < errorMargin;\n    };\n\n    /**\n     * Spring animation\n     */\n    var spring =\n        // default options\n        function spring() // method definition\n        {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref$stiffness = _ref.stiffness,\n                stiffness = _ref$stiffness === void 0 ? 0.5 : _ref$stiffness,\n                _ref$damping = _ref.damping,\n                damping = _ref$damping === void 0 ? 0.75 : _ref$damping,\n                _ref$mass = _ref.mass,\n                mass = _ref$mass === void 0 ? 10 : _ref$mass;\n            var target = null;\n            var position = null;\n            var velocity = 0;\n            var resting = false;\n\n            // updates spring state\n            var interpolate = function interpolate(ts, skipToEndState) {\n                // in rest, don't animate\n                if (resting) return;\n\n                // need at least a target or position to do springy things\n                if (!(isNumber(target) && isNumber(position))) {\n                    resting = true;\n                    velocity = 0;\n                    return;\n                }\n\n                // calculate spring force\n                var f = -(position - target) * stiffness;\n\n                // update velocity by adding force based on mass\n                velocity += f / mass;\n\n                // update position by adding velocity\n                position += velocity;\n\n                // slow down based on amount of damping\n                velocity *= damping;\n\n                // we've arrived if we're near target and our velocity is near zero\n                if (thereYet(position, target, velocity) || skipToEndState) {\n                    position = target;\n                    velocity = 0;\n                    resting = true;\n\n                    // we done\n                    api.onupdate(position);\n                    api.oncomplete(position);\n                } else {\n                    // progress update\n                    api.onupdate(position);\n                }\n            };\n\n            /**\n             * Set new target value\n             * @param value\n             */\n            var setTarget = function setTarget(value) {\n                // if currently has no position, set target and position to this value\n                if (isNumber(value) && !isNumber(position)) {\n                    position = value;\n                }\n\n                // next target value will not be animated to\n                if (target === null) {\n                    target = value;\n                    position = value;\n                }\n\n                // let start moving to target\n                target = value;\n\n                // already at target\n                if (position === target || typeof target === 'undefined') {\n                    // now resting as target is current position, stop moving\n                    resting = true;\n                    velocity = 0;\n\n                    // done!\n                    api.onupdate(position);\n                    api.oncomplete(position);\n\n                    return;\n                }\n\n                resting = false;\n            };\n\n            // need 'api' to call onupdate callback\n            var api = createObject({\n                interpolate: interpolate,\n                target: {\n                    set: setTarget,\n                    get: function get() {\n                        return target;\n                    },\n                },\n\n                resting: {\n                    get: function get() {\n                        return resting;\n                    },\n                },\n\n                onupdate: function onupdate(value) {},\n                oncomplete: function oncomplete(value) {},\n            });\n\n            return api;\n        };\n\n    var easeLinear = function easeLinear(t) {\n        return t;\n    };\n    var easeInOutQuad = function easeInOutQuad(t) {\n        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n    };\n\n    var tween =\n        // default values\n        function tween() // method definition\n        {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref$duration = _ref.duration,\n                duration = _ref$duration === void 0 ? 500 : _ref$duration,\n                _ref$easing = _ref.easing,\n                easing = _ref$easing === void 0 ? easeInOutQuad : _ref$easing,\n                _ref$delay = _ref.delay,\n                delay = _ref$delay === void 0 ? 0 : _ref$delay;\n            var start = null;\n            var t;\n            var p;\n            var resting = true;\n            var reverse = false;\n            var target = null;\n\n            var interpolate = function interpolate(ts, skipToEndState) {\n                if (resting || target === null) return;\n\n                if (start === null) {\n                    start = ts;\n                }\n\n                if (ts - start < delay) return;\n\n                t = ts - start - delay;\n\n                if (t >= duration || skipToEndState) {\n                    t = 1;\n                    p = reverse ? 0 : 1;\n                    api.onupdate(p * target);\n                    api.oncomplete(p * target);\n                    resting = true;\n                } else {\n                    p = t / duration;\n                    api.onupdate((t >= 0 ? easing(reverse ? 1 - p : p) : 0) * target);\n                }\n            };\n\n            // need 'api' to call onupdate callback\n            var api = createObject({\n                interpolate: interpolate,\n                target: {\n                    get: function get() {\n                        return reverse ? 0 : target;\n                    },\n                    set: function set(value) {\n                        // is initial value\n                        if (target === null) {\n                            target = value;\n                            api.onupdate(value);\n                            api.oncomplete(value);\n                            return;\n                        }\n\n                        // want to tween to a smaller value and have a current value\n                        if (value < target) {\n                            target = 1;\n                            reverse = true;\n                        } else {\n                            // not tweening to a smaller value\n                            reverse = false;\n                            target = value;\n                        }\n\n                        // let's go!\n                        resting = false;\n                        start = null;\n                    },\n                },\n\n                resting: {\n                    get: function get() {\n                        return resting;\n                    },\n                },\n\n                onupdate: function onupdate(value) {},\n                oncomplete: function oncomplete(value) {},\n            });\n\n            return api;\n        };\n\n    var animator = {\n        spring: spring,\n        tween: tween,\n    };\n\n    /*\n                       { type: 'spring', stiffness: .5, damping: .75, mass: 10 };\n                       { translation: { type: 'spring', ... }, ... }\n                       { translation: { x: { type: 'spring', ... } } }\n                      */\n    var createAnimator = function createAnimator(definition, category, property) {\n        // default is single definition\n        // we check if transform is set, if so, we check if property is set\n        var def =\n            definition[category] && typeof definition[category][property] === 'object'\n                ? definition[category][property]\n                : definition[category] || definition;\n\n        var type = typeof def === 'string' ? def : def.type;\n        var props = typeof def === 'object' ? Object.assign({}, def) : {};\n\n        return animator[type] ? animator[type](props) : null;\n    };\n\n    var addGetSet = function addGetSet(keys, obj, props) {\n        var overwrite = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        obj = Array.isArray(obj) ? obj : [obj];\n        obj.forEach(function(o) {\n            keys.forEach(function(key) {\n                var name = key;\n                var getter = function getter() {\n                    return props[key];\n                };\n                var setter = function setter(value) {\n                    return (props[key] = value);\n                };\n\n                if (typeof key === 'object') {\n                    name = key.key;\n                    getter = key.getter || getter;\n                    setter = key.setter || setter;\n                }\n\n                if (o[name] && !overwrite) {\n                    return;\n                }\n\n                o[name] = {\n                    get: getter,\n                    set: setter,\n                };\n            });\n        });\n    };\n\n    // add to state,\n    // add getters and setters to internal and external api (if not set)\n    // setup animators\n\n    var animations = function animations(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewInternalAPI = _ref.viewInternalAPI,\n            viewExternalAPI = _ref.viewExternalAPI;\n        // initial properties\n        var initialProps = Object.assign({}, viewProps);\n\n        // list of all active animations\n        var animations = [];\n\n        // setup animators\n        forin(mixinConfig, function(property, animation) {\n            var animator = createAnimator(animation);\n            if (!animator) {\n                return;\n            }\n\n            // when the animator updates, update the view state value\n            animator.onupdate = function(value) {\n                viewProps[property] = value;\n            };\n\n            // set animator target\n            animator.target = initialProps[property];\n\n            // when value is set, set the animator target value\n            var prop = {\n                key: property,\n                setter: function setter(value) {\n                    // if already at target, we done!\n                    if (animator.target === value) {\n                        return;\n                    }\n\n                    animator.target = value;\n                },\n                getter: function getter() {\n                    return viewProps[property];\n                },\n            };\n\n            // add getters and setters\n            addGetSet([prop], [viewInternalAPI, viewExternalAPI], viewProps, true);\n\n            // add it to the list for easy updating from the _write method\n            animations.push(animator);\n        });\n\n        // expose internal write api\n        return {\n            write: function write(ts) {\n                var skipToEndState = document.hidden;\n                var resting = true;\n                animations.forEach(function(animation) {\n                    if (!animation.resting) resting = false;\n                    animation.interpolate(ts, skipToEndState);\n                });\n                return resting;\n            },\n            destroy: function destroy() {},\n        };\n    };\n\n    var addEvent = function addEvent(element) {\n        return function(type, fn) {\n            element.addEventListener(type, fn);\n        };\n    };\n\n    var removeEvent = function removeEvent(element) {\n        return function(type, fn) {\n            element.removeEventListener(type, fn);\n        };\n    };\n\n    // mixin\n    var listeners = function listeners(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewInternalAPI = _ref.viewInternalAPI,\n            viewExternalAPI = _ref.viewExternalAPI,\n            viewState = _ref.viewState,\n            view = _ref.view;\n        var events = [];\n\n        var add = addEvent(view.element);\n        var remove = removeEvent(view.element);\n\n        viewExternalAPI.on = function(type, fn) {\n            events.push({\n                type: type,\n                fn: fn,\n            });\n\n            add(type, fn);\n        };\n\n        viewExternalAPI.off = function(type, fn) {\n            events.splice(\n                events.findIndex(function(event) {\n                    return event.type === type && event.fn === fn;\n                }),\n                1\n            );\n\n            remove(type, fn);\n        };\n\n        return {\n            write: function write() {\n                // not busy\n                return true;\n            },\n            destroy: function destroy() {\n                events.forEach(function(event) {\n                    remove(event.type, event.fn);\n                });\n            },\n        };\n    };\n\n    // add to external api and link to props\n\n    var apis = function apis(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewExternalAPI = _ref.viewExternalAPI;\n        addGetSet(mixinConfig, viewExternalAPI, viewProps);\n    };\n\n    var isDefined = function isDefined(value) {\n        return value != null;\n    };\n\n    // add to state,\n    // add getters and setters to internal and external api (if not set)\n    // set initial state based on props in viewProps\n    // apply as transforms each frame\n\n    var defaults = {\n        opacity: 1,\n        scaleX: 1,\n        scaleY: 1,\n        translateX: 0,\n        translateY: 0,\n        rotateX: 0,\n        rotateY: 0,\n        rotateZ: 0,\n        originX: 0,\n        originY: 0,\n    };\n\n    var styles = function styles(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewInternalAPI = _ref.viewInternalAPI,\n            viewExternalAPI = _ref.viewExternalAPI,\n            view = _ref.view;\n        // initial props\n        var initialProps = Object.assign({}, viewProps);\n\n        // current props\n        var currentProps = {};\n\n        // we will add those properties to the external API and link them to the viewState\n        addGetSet(mixinConfig, [viewInternalAPI, viewExternalAPI], viewProps);\n\n        // override rect on internal and external rect getter so it takes in account transforms\n        var getOffset = function getOffset() {\n            return [viewProps['translateX'] || 0, viewProps['translateY'] || 0];\n        };\n\n        var getScale = function getScale() {\n            return [viewProps['scaleX'] || 0, viewProps['scaleY'] || 0];\n        };\n        var getRect = function getRect() {\n            return view.rect\n                ? getViewRect(view.rect, view.childViews, getOffset(), getScale())\n                : null;\n        };\n        viewInternalAPI.rect = { get: getRect };\n        viewExternalAPI.rect = { get: getRect };\n\n        // apply view props\n        mixinConfig.forEach(function(key) {\n            viewProps[key] =\n                typeof initialProps[key] === 'undefined' ? defaults[key] : initialProps[key];\n        });\n\n        // expose api\n        return {\n            write: function write() {\n                // see if props have changed\n                if (!propsHaveChanged(currentProps, viewProps)) {\n                    return;\n                }\n\n                // moves element to correct position on screen\n                applyStyles(view.element, viewProps);\n\n                // store new transforms\n                Object.assign(currentProps, Object.assign({}, viewProps));\n\n                // no longer busy\n                return true;\n            },\n            destroy: function destroy() {},\n        };\n    };\n\n    var propsHaveChanged = function propsHaveChanged(currentProps, newProps) {\n        // different amount of keys\n        if (Object.keys(currentProps).length !== Object.keys(newProps).length) {\n            return true;\n        }\n\n        // lets analyze the individual props\n        for (var prop in newProps) {\n            if (newProps[prop] !== currentProps[prop]) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n\n    var applyStyles = function applyStyles(element, _ref2) {\n        var opacity = _ref2.opacity,\n            perspective = _ref2.perspective,\n            translateX = _ref2.translateX,\n            translateY = _ref2.translateY,\n            scaleX = _ref2.scaleX,\n            scaleY = _ref2.scaleY,\n            rotateX = _ref2.rotateX,\n            rotateY = _ref2.rotateY,\n            rotateZ = _ref2.rotateZ,\n            originX = _ref2.originX,\n            originY = _ref2.originY,\n            width = _ref2.width,\n            height = _ref2.height;\n\n        var transforms = '';\n        var styles = '';\n\n        // handle transform origin\n        if (isDefined(originX) || isDefined(originY)) {\n            styles += 'transform-origin: ' + (originX || 0) + 'px ' + (originY || 0) + 'px;';\n        }\n\n        // transform order is relevant\n        // 0. perspective\n        if (isDefined(perspective)) {\n            transforms += 'perspective(' + perspective + 'px) ';\n        }\n\n        // 1. translate\n        if (isDefined(translateX) || isDefined(translateY)) {\n            transforms +=\n                'translate3d(' + (translateX || 0) + 'px, ' + (translateY || 0) + 'px, 0) ';\n        }\n\n        // 2. scale\n        if (isDefined(scaleX) || isDefined(scaleY)) {\n            transforms +=\n                'scale3d(' +\n                (isDefined(scaleX) ? scaleX : 1) +\n                ', ' +\n                (isDefined(scaleY) ? scaleY : 1) +\n                ', 1) ';\n        }\n\n        // 3. rotate\n        if (isDefined(rotateZ)) {\n            transforms += 'rotateZ(' + rotateZ + 'rad) ';\n        }\n\n        if (isDefined(rotateX)) {\n            transforms += 'rotateX(' + rotateX + 'rad) ';\n        }\n\n        if (isDefined(rotateY)) {\n            transforms += 'rotateY(' + rotateY + 'rad) ';\n        }\n\n        // add transforms\n        if (transforms.length) {\n            styles += 'transform:' + transforms + ';';\n        }\n\n        // add opacity\n        if (isDefined(opacity)) {\n            styles += 'opacity:' + opacity + ';';\n\n            // if we reach zero, we make the element inaccessible\n            if (opacity === 0) {\n                styles += 'visibility:hidden;';\n            }\n\n            // if we're below 100% opacity this element can't be clicked\n            if (opacity < 1) {\n                styles += 'pointer-events:none;';\n            }\n        }\n\n        // add height\n        if (isDefined(height)) {\n            styles += 'height:' + height + 'px;';\n        }\n\n        // add width\n        if (isDefined(width)) {\n            styles += 'width:' + width + 'px;';\n        }\n\n        // apply styles\n        var elementCurrentStyle = element.elementCurrentStyle || '';\n\n        // if new styles does not match current styles, lets update!\n        if (styles.length !== elementCurrentStyle.length || styles !== elementCurrentStyle) {\n            element.style.cssText = styles;\n            // store current styles so we can compare them to new styles later on\n            // _not_ getting the style value is faster\n            element.elementCurrentStyle = styles;\n        }\n    };\n\n    var Mixins = {\n        styles: styles,\n        listeners: listeners,\n        animations: animations,\n        apis: apis,\n    };\n\n    var updateRect = function updateRect() {\n        var rect = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var element = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var style = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        if (!element.layoutCalculated) {\n            rect.paddingTop = parseInt(style.paddingTop, 10) || 0;\n            rect.marginTop = parseInt(style.marginTop, 10) || 0;\n            rect.marginRight = parseInt(style.marginRight, 10) || 0;\n            rect.marginBottom = parseInt(style.marginBottom, 10) || 0;\n            rect.marginLeft = parseInt(style.marginLeft, 10) || 0;\n            element.layoutCalculated = true;\n        }\n\n        rect.left = element.offsetLeft || 0;\n        rect.top = element.offsetTop || 0;\n        rect.width = element.offsetWidth || 0;\n        rect.height = element.offsetHeight || 0;\n\n        rect.right = rect.left + rect.width;\n        rect.bottom = rect.top + rect.height;\n\n        rect.scrollTop = element.scrollTop;\n\n        rect.hidden = element.offsetParent === null;\n\n        return rect;\n    };\n\n    var createView =\n        // default view definition\n        function createView() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref$tag = _ref.tag,\n                tag = _ref$tag === void 0 ? 'div' : _ref$tag,\n                _ref$name = _ref.name,\n                name = _ref$name === void 0 ? null : _ref$name,\n                _ref$attributes = _ref.attributes,\n                attributes = _ref$attributes === void 0 ? {} : _ref$attributes,\n                _ref$read = _ref.read,\n                read = _ref$read === void 0 ? function() {} : _ref$read,\n                _ref$write = _ref.write,\n                write = _ref$write === void 0 ? function() {} : _ref$write,\n                _ref$create = _ref.create,\n                create = _ref$create === void 0 ? function() {} : _ref$create,\n                _ref$destroy = _ref.destroy,\n                destroy = _ref$destroy === void 0 ? function() {} : _ref$destroy,\n                _ref$filterFrameActio = _ref.filterFrameActionsForChild,\n                filterFrameActionsForChild =\n                    _ref$filterFrameActio === void 0\n                        ? function(child, actions) {\n                              return actions;\n                          }\n                        : _ref$filterFrameActio,\n                _ref$didCreateView = _ref.didCreateView,\n                didCreateView = _ref$didCreateView === void 0 ? function() {} : _ref$didCreateView,\n                _ref$didWriteView = _ref.didWriteView,\n                didWriteView = _ref$didWriteView === void 0 ? function() {} : _ref$didWriteView,\n                _ref$ignoreRect = _ref.ignoreRect,\n                ignoreRect = _ref$ignoreRect === void 0 ? false : _ref$ignoreRect,\n                _ref$ignoreRectUpdate = _ref.ignoreRectUpdate,\n                ignoreRectUpdate = _ref$ignoreRectUpdate === void 0 ? false : _ref$ignoreRectUpdate,\n                _ref$mixins = _ref.mixins,\n                mixins = _ref$mixins === void 0 ? [] : _ref$mixins;\n            return function(\n                // each view requires reference to store\n                store\n            ) {\n                var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                // root element should not be changed\n                var element = createElement(tag, 'filepond--' + name, attributes);\n\n                // style reference should also not be changed\n                var style = window.getComputedStyle(element, null);\n\n                // element rectangle\n                var rect = updateRect();\n                var frameRect = null;\n\n                // rest state\n                var isResting = false;\n\n                // pretty self explanatory\n                var childViews = [];\n\n                // loaded mixins\n                var activeMixins = [];\n\n                // references to created children\n                var ref = {};\n\n                // state used for each instance\n                var state = {};\n\n                // list of writers that will be called to update this view\n                var writers = [\n                    write, // default writer\n                ];\n\n                var readers = [\n                    read, // default reader\n                ];\n\n                var destroyers = [\n                    destroy, // default destroy\n                ];\n\n                // core view methods\n                var getElement = function getElement() {\n                    return element;\n                };\n                var getChildViews = function getChildViews() {\n                    return childViews.concat();\n                };\n                var getReference = function getReference() {\n                    return ref;\n                };\n                var createChildView = function createChildView(store) {\n                    return function(view, props) {\n                        return view(store, props);\n                    };\n                };\n                var getRect = function getRect() {\n                    if (frameRect) {\n                        return frameRect;\n                    }\n                    frameRect = getViewRect(rect, childViews, [0, 0], [1, 1]);\n                    return frameRect;\n                };\n                var getStyle = function getStyle() {\n                    return style;\n                };\n\n                /**\n                 * Read data from DOM\n                 * @private\n                 */\n                var _read = function _read() {\n                    frameRect = null;\n\n                    // read child views\n                    childViews.forEach(function(child) {\n                        return child._read();\n                    });\n\n                    var shouldUpdate = !(ignoreRectUpdate && rect.width && rect.height);\n                    if (shouldUpdate) {\n                        updateRect(rect, element, style);\n                    }\n\n                    // readers\n                    var api = { root: internalAPI, props: props, rect: rect };\n                    readers.forEach(function(reader) {\n                        return reader(api);\n                    });\n                };\n\n                /**\n                 * Write data to DOM\n                 * @private\n                 */\n                var _write = function _write(ts, frameActions, shouldOptimize) {\n                    // if no actions, we assume that the view is resting\n                    var resting = frameActions.length === 0;\n\n                    // writers\n                    writers.forEach(function(writer) {\n                        var writerResting = writer({\n                            props: props,\n                            root: internalAPI,\n                            actions: frameActions,\n                            timestamp: ts,\n                            shouldOptimize: shouldOptimize,\n                        });\n\n                        if (writerResting === false) {\n                            resting = false;\n                        }\n                    });\n\n                    // run mixins\n                    activeMixins.forEach(function(mixin) {\n                        // if one of the mixins is still busy after write operation, we are not resting\n                        var mixinResting = mixin.write(ts);\n                        if (mixinResting === false) {\n                            resting = false;\n                        }\n                    });\n\n                    // updates child views that are currently attached to the DOM\n                    childViews\n                        .filter(function(child) {\n                            return !!child.element.parentNode;\n                        })\n                        .forEach(function(child) {\n                            // if a child view is not resting, we are not resting\n                            var childResting = child._write(\n                                ts,\n                                filterFrameActionsForChild(child, frameActions),\n                                shouldOptimize\n                            );\n\n                            if (!childResting) {\n                                resting = false;\n                            }\n                        });\n\n                    // append new elements to DOM and update those\n                    childViews\n                        //.filter(child => !child.element.parentNode)\n                        .forEach(function(child, index) {\n                            // skip\n                            if (child.element.parentNode) {\n                                return;\n                            }\n\n                            // append to DOM\n                            internalAPI.appendChild(child.element, index);\n\n                            // call read (need to know the size of these elements)\n                            child._read();\n\n                            // re-call write\n                            child._write(\n                                ts,\n                                filterFrameActionsForChild(child, frameActions),\n                                shouldOptimize\n                            );\n\n                            // we just added somthing to the dom, no rest\n                            resting = false;\n                        });\n\n                    // update resting state\n                    isResting = resting;\n\n                    didWriteView({\n                        props: props,\n                        root: internalAPI,\n                        actions: frameActions,\n                        timestamp: ts,\n                    });\n\n                    // let parent know if we are resting\n                    return resting;\n                };\n\n                var _destroy = function _destroy() {\n                    activeMixins.forEach(function(mixin) {\n                        return mixin.destroy();\n                    });\n                    destroyers.forEach(function(destroyer) {\n                        destroyer({ root: internalAPI, props: props });\n                    });\n                    childViews.forEach(function(child) {\n                        return child._destroy();\n                    });\n                };\n\n                // sharedAPI\n                var sharedAPIDefinition = {\n                    element: {\n                        get: getElement,\n                    },\n\n                    style: {\n                        get: getStyle,\n                    },\n\n                    childViews: {\n                        get: getChildViews,\n                    },\n                };\n\n                // private API definition\n                var internalAPIDefinition = Object.assign({}, sharedAPIDefinition, {\n                    rect: {\n                        get: getRect,\n                    },\n\n                    // access to custom children references\n                    ref: {\n                        get: getReference,\n                    },\n\n                    // dom modifiers\n                    is: function is(needle) {\n                        return name === needle;\n                    },\n                    appendChild: appendChild(element),\n                    createChildView: createChildView(store),\n                    linkView: function linkView(view) {\n                        childViews.push(view);\n                        return view;\n                    },\n                    unlinkView: function unlinkView(view) {\n                        childViews.splice(childViews.indexOf(view), 1);\n                    },\n                    appendChildView: appendChildView(element, childViews),\n                    removeChildView: removeChildView(element, childViews),\n                    registerWriter: function registerWriter(writer) {\n                        return writers.push(writer);\n                    },\n                    registerReader: function registerReader(reader) {\n                        return readers.push(reader);\n                    },\n                    registerDestroyer: function registerDestroyer(destroyer) {\n                        return destroyers.push(destroyer);\n                    },\n                    invalidateLayout: function invalidateLayout() {\n                        return (element.layoutCalculated = false);\n                    },\n\n                    // access to data store\n                    dispatch: store.dispatch,\n                    query: store.query,\n                });\n\n                // public view API methods\n                var externalAPIDefinition = {\n                    element: {\n                        get: getElement,\n                    },\n\n                    childViews: {\n                        get: getChildViews,\n                    },\n\n                    rect: {\n                        get: getRect,\n                    },\n\n                    resting: {\n                        get: function get() {\n                            return isResting;\n                        },\n                    },\n\n                    isRectIgnored: function isRectIgnored() {\n                        return ignoreRect;\n                    },\n                    _read: _read,\n                    _write: _write,\n                    _destroy: _destroy,\n                };\n\n                // mixin API methods\n                var mixinAPIDefinition = Object.assign({}, sharedAPIDefinition, {\n                    rect: {\n                        get: function get() {\n                            return rect;\n                        },\n                    },\n                });\n\n                // add mixin functionality\n                Object.keys(mixins)\n                    .sort(function(a, b) {\n                        // move styles to the back of the mixin list (so adjustments of other mixins are applied to the props correctly)\n                        if (a === 'styles') {\n                            return 1;\n                        } else if (b === 'styles') {\n                            return -1;\n                        }\n                        return 0;\n                    })\n                    .forEach(function(key) {\n                        var mixinAPI = Mixins[key]({\n                            mixinConfig: mixins[key],\n                            viewProps: props,\n                            viewState: state,\n                            viewInternalAPI: internalAPIDefinition,\n                            viewExternalAPI: externalAPIDefinition,\n                            view: createObject(mixinAPIDefinition),\n                        });\n\n                        if (mixinAPI) {\n                            activeMixins.push(mixinAPI);\n                        }\n                    });\n\n                // construct private api\n                var internalAPI = createObject(internalAPIDefinition);\n\n                // create the view\n                create({\n                    root: internalAPI,\n                    props: props,\n                });\n\n                // append created child views to root node\n                var childCount = getChildCount(element); // need to know the current child count so appending happens in correct order\n                childViews.forEach(function(child, index) {\n                    internalAPI.appendChild(child.element, childCount + index);\n                });\n\n                // call did create\n                didCreateView(internalAPI);\n\n                // expose public api\n                return createObject(externalAPIDefinition);\n            };\n        };\n\n    var createPainter = function createPainter(read, write) {\n        var fps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 60;\n\n        var name = '__framePainter';\n\n        // set global painter\n        if (window[name]) {\n            window[name].readers.push(read);\n            window[name].writers.push(write);\n            return;\n        }\n\n        window[name] = {\n            readers: [read],\n            writers: [write],\n        };\n\n        var painter = window[name];\n\n        var interval = 1000 / fps;\n        var last = null;\n        var id = null;\n        var requestTick = null;\n        var cancelTick = null;\n\n        var setTimerType = function setTimerType() {\n            if (document.hidden) {\n                requestTick = function requestTick() {\n                    return window.setTimeout(function() {\n                        return tick(performance.now());\n                    }, interval);\n                };\n                cancelTick = function cancelTick() {\n                    return window.clearTimeout(id);\n                };\n            } else {\n                requestTick = function requestTick() {\n                    return window.requestAnimationFrame(tick);\n                };\n                cancelTick = function cancelTick() {\n                    return window.cancelAnimationFrame(id);\n                };\n            }\n        };\n\n        document.addEventListener('visibilitychange', function() {\n            if (cancelTick) cancelTick();\n            setTimerType();\n            tick(performance.now());\n        });\n\n        var tick = function tick(ts) {\n            // queue next tick\n            id = requestTick(tick);\n\n            // limit fps\n            if (!last) {\n                last = ts;\n            }\n\n            var delta = ts - last;\n\n            if (delta <= interval) {\n                // skip frame\n                return;\n            }\n\n            // align next frame\n            last = ts - (delta % interval);\n\n            // update view\n            painter.readers.forEach(function(read) {\n                return read();\n            });\n            painter.writers.forEach(function(write) {\n                return write(ts);\n            });\n        };\n\n        setTimerType();\n        tick(performance.now());\n\n        return {\n            pause: function pause() {\n                cancelTick(id);\n            },\n        };\n    };\n\n    var createRoute = function createRoute(routes, fn) {\n        return function(_ref) {\n            var root = _ref.root,\n                props = _ref.props,\n                _ref$actions = _ref.actions,\n                actions = _ref$actions === void 0 ? [] : _ref$actions,\n                timestamp = _ref.timestamp,\n                shouldOptimize = _ref.shouldOptimize;\n            actions\n                .filter(function(action) {\n                    return routes[action.type];\n                })\n                .forEach(function(action) {\n                    return routes[action.type]({\n                        root: root,\n                        props: props,\n                        action: action.data,\n                        timestamp: timestamp,\n                        shouldOptimize: shouldOptimize,\n                    });\n                });\n\n            if (fn) {\n                fn({\n                    root: root,\n                    props: props,\n                    actions: actions,\n                    timestamp: timestamp,\n                    shouldOptimize: shouldOptimize,\n                });\n            }\n        };\n    };\n\n    var insertBefore = function insertBefore(newNode, referenceNode) {\n        return referenceNode.parentNode.insertBefore(newNode, referenceNode);\n    };\n\n    var insertAfter = function insertAfter(newNode, referenceNode) {\n        return referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n    };\n\n    var isArray = function isArray(value) {\n        return Array.isArray(value);\n    };\n\n    var isEmpty = function isEmpty(value) {\n        return value == null;\n    };\n\n    var trim = function trim(str) {\n        return str.trim();\n    };\n\n    var toString = function toString(value) {\n        return '' + value;\n    };\n\n    var toArray = function toArray(value) {\n        var splitter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ',';\n        if (isEmpty(value)) {\n            return [];\n        }\n        if (isArray(value)) {\n            return value;\n        }\n        return toString(value)\n            .split(splitter)\n            .map(trim)\n            .filter(function(str) {\n                return str.length;\n            });\n    };\n\n    var isBoolean = function isBoolean(value) {\n        return typeof value === 'boolean';\n    };\n\n    var toBoolean = function toBoolean(value) {\n        return isBoolean(value) ? value : value === 'true';\n    };\n\n    var isString = function isString(value) {\n        return typeof value === 'string';\n    };\n\n    var toNumber = function toNumber(value) {\n        return isNumber(value)\n            ? value\n            : isString(value)\n            ? toString(value).replace(/[a-z]+/gi, '')\n            : 0;\n    };\n\n    var toInt = function toInt(value) {\n        return parseInt(toNumber(value), 10);\n    };\n\n    var toFloat = function toFloat(value) {\n        return parseFloat(toNumber(value));\n    };\n\n    var isInt = function isInt(value) {\n        return isNumber(value) && isFinite(value) && Math.floor(value) === value;\n    };\n\n    var toBytes = function toBytes(value) {\n        var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n        // is in bytes\n        if (isInt(value)) {\n            return value;\n        }\n\n        // is natural file size\n        var naturalFileSize = toString(value).trim();\n\n        // if is value in megabytes\n        if (/MB$/i.test(naturalFileSize)) {\n            naturalFileSize = naturalFileSize.replace(/MB$i/, '').trim();\n            return toInt(naturalFileSize) * base * base;\n        }\n\n        // if is value in kilobytes\n        if (/KB/i.test(naturalFileSize)) {\n            naturalFileSize = naturalFileSize.replace(/KB$i/, '').trim();\n            return toInt(naturalFileSize) * base;\n        }\n\n        return toInt(naturalFileSize);\n    };\n\n    var isFunction = function isFunction(value) {\n        return typeof value === 'function';\n    };\n\n    var toFunctionReference = function toFunctionReference(string) {\n        var ref = self;\n        var levels = string.split('.');\n        var level = null;\n        while ((level = levels.shift())) {\n            ref = ref[level];\n            if (!ref) {\n                return null;\n            }\n        }\n        return ref;\n    };\n\n    var methods = {\n        process: 'POST',\n        patch: 'PATCH',\n        revert: 'DELETE',\n        fetch: 'GET',\n        restore: 'GET',\n        load: 'GET',\n    };\n\n    var createServerAPI = function createServerAPI(outline) {\n        var api = {};\n\n        api.url = isString(outline) ? outline : outline.url || '';\n        api.timeout = outline.timeout ? parseInt(outline.timeout, 10) : 0;\n        api.headers = outline.headers ? outline.headers : {};\n\n        forin(methods, function(key) {\n            api[key] = createAction(key, outline[key], methods[key], api.timeout, api.headers);\n        });\n\n        // remove process if no url or process on outline\n        api.process = outline.process || isString(outline) || outline.url ? api.process : null;\n\n        // special treatment for remove\n        api.remove = outline.remove || null;\n\n        // remove generic headers from api object\n        delete api.headers;\n\n        return api;\n    };\n\n    var createAction = function createAction(name, outline, method, timeout, headers) {\n        // is explicitely set to null so disable\n        if (outline === null) {\n            return null;\n        }\n\n        // if is custom function, done! Dev handles everything.\n        if (typeof outline === 'function') {\n            return outline;\n        }\n\n        // build action object\n        var action = {\n            url: method === 'GET' || method === 'PATCH' ? '?' + name + '=' : '',\n            method: method,\n            headers: headers,\n            withCredentials: false,\n            timeout: timeout,\n            onload: null,\n            ondata: null,\n            onerror: null,\n        };\n\n        // is a single url\n        if (isString(outline)) {\n            action.url = outline;\n            return action;\n        }\n\n        // overwrite\n        Object.assign(action, outline);\n\n        // see if should reformat headers;\n        if (isString(action.headers)) {\n            var parts = action.headers.split(/:(.+)/);\n            action.headers = {\n                header: parts[0],\n                value: parts[1],\n            };\n        }\n\n        // if is bool withCredentials\n        action.withCredentials = toBoolean(action.withCredentials);\n\n        return action;\n    };\n\n    var toServerAPI = function toServerAPI(value) {\n        return createServerAPI(value);\n    };\n\n    var isNull = function isNull(value) {\n        return value === null;\n    };\n\n    var isObject = function isObject(value) {\n        return typeof value === 'object' && value !== null;\n    };\n\n    var isAPI = function isAPI(value) {\n        return (\n            isObject(value) &&\n            isString(value.url) &&\n            isObject(value.process) &&\n            isObject(value.revert) &&\n            isObject(value.restore) &&\n            isObject(value.fetch)\n        );\n    };\n\n    var getType = function getType(value) {\n        if (isArray(value)) {\n            return 'array';\n        }\n\n        if (isNull(value)) {\n            return 'null';\n        }\n\n        if (isInt(value)) {\n            return 'int';\n        }\n\n        if (/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(value)) {\n            return 'bytes';\n        }\n\n        if (isAPI(value)) {\n            return 'api';\n        }\n\n        return typeof value;\n    };\n\n    var replaceSingleQuotes = function replaceSingleQuotes(str) {\n        return str\n            .replace(/{\\s*'/g, '{\"')\n            .replace(/'\\s*}/g, '\"}')\n            .replace(/'\\s*:/g, '\":')\n            .replace(/:\\s*'/g, ':\"')\n            .replace(/,\\s*'/g, ',\"')\n            .replace(/'\\s*,/g, '\",');\n    };\n\n    var conversionTable = {\n        array: toArray,\n        boolean: toBoolean,\n        int: function int(value) {\n            return getType(value) === 'bytes' ? toBytes(value) : toInt(value);\n        },\n        number: toFloat,\n        float: toFloat,\n        bytes: toBytes,\n        string: function string(value) {\n            return isFunction(value) ? value : toString(value);\n        },\n        function: function _function(value) {\n            return toFunctionReference(value);\n        },\n        serverapi: toServerAPI,\n        object: function object(value) {\n            try {\n                return JSON.parse(replaceSingleQuotes(value));\n            } catch (e) {\n                return null;\n            }\n        },\n    };\n\n    var convertTo = function convertTo(value, type) {\n        return conversionTable[type](value);\n    };\n\n    var getValueByType = function getValueByType(newValue, defaultValue, valueType) {\n        // can always assign default value\n        if (newValue === defaultValue) {\n            return newValue;\n        }\n\n        // get the type of the new value\n        var newValueType = getType(newValue);\n\n        // is valid type?\n        if (newValueType !== valueType) {\n            // is string input, let's attempt to convert\n            var convertedValue = convertTo(newValue, valueType);\n\n            // what is the type now\n            newValueType = getType(convertedValue);\n\n            // no valid conversions found\n            if (convertedValue === null) {\n                throw 'Trying to assign value with incorrect type to \"' +\n                    option +\n                    '\", allowed type: \"' +\n                    valueType +\n                    '\"';\n            } else {\n                newValue = convertedValue;\n            }\n        }\n\n        // assign new value\n        return newValue;\n    };\n\n    var createOption = function createOption(defaultValue, valueType) {\n        var currentValue = defaultValue;\n        return {\n            enumerable: true,\n            get: function get() {\n                return currentValue;\n            },\n            set: function set(newValue) {\n                currentValue = getValueByType(newValue, defaultValue, valueType);\n            },\n        };\n    };\n\n    var createOptions = function createOptions(options) {\n        var obj = {};\n        forin(options, function(prop) {\n            var optionDefinition = options[prop];\n            obj[prop] = createOption(optionDefinition[0], optionDefinition[1]);\n        });\n        return createObject(obj);\n    };\n\n    var createInitialState = function createInitialState(options) {\n        return {\n            // model\n            items: [],\n\n            // timeout used for calling update items\n            listUpdateTimeout: null,\n\n            // timeout used for stacking metadata updates\n            itemUpdateTimeout: null,\n\n            // queue of items waiting to be processed\n            processingQueue: [],\n\n            // options\n            options: createOptions(options),\n        };\n    };\n\n    var fromCamels = function fromCamels(string) {\n        var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '-';\n        return string\n            .split(/(?=[A-Z])/)\n            .map(function(part) {\n                return part.toLowerCase();\n            })\n            .join(separator);\n    };\n\n    var createOptionAPI = function createOptionAPI(store, options) {\n        var obj = {};\n        forin(options, function(key) {\n            obj[key] = {\n                get: function get() {\n                    return store.getState().options[key];\n                },\n                set: function set(value) {\n                    store.dispatch('SET_' + fromCamels(key, '_').toUpperCase(), {\n                        value: value,\n                    });\n                },\n            };\n        });\n        return obj;\n    };\n\n    var createOptionActions = function createOptionActions(options) {\n        return function(dispatch, query, state) {\n            var obj = {};\n            forin(options, function(key) {\n                var name = fromCamels(key, '_').toUpperCase();\n\n                obj['SET_' + name] = function(action) {\n                    try {\n                        state.options[key] = action.value;\n                    } catch (e) {} // nope, failed\n\n                    // we successfully set the value of this option\n                    dispatch('DID_SET_' + name, { value: state.options[key] });\n                };\n            });\n            return obj;\n        };\n    };\n\n    var createOptionQueries = function createOptionQueries(options) {\n        return function(state) {\n            var obj = {};\n            forin(options, function(key) {\n                obj['GET_' + fromCamels(key, '_').toUpperCase()] = function(action) {\n                    return state.options[key];\n                };\n            });\n            return obj;\n        };\n    };\n\n    var InteractionMethod = {\n        API: 1,\n        DROP: 2,\n        BROWSE: 3,\n        PASTE: 4,\n        NONE: 5,\n    };\n\n    var getUniqueId = function getUniqueId() {\n        return Math.random()\n            .toString(36)\n            .substring(2, 11);\n    };\n\n    function _typeof(obj) {\n        if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n            _typeof = function(obj) {\n                return typeof obj;\n            };\n        } else {\n            _typeof = function(obj) {\n                return obj &&\n                    typeof Symbol === 'function' &&\n                    obj.constructor === Symbol &&\n                    obj !== Symbol.prototype\n                    ? 'symbol'\n                    : typeof obj;\n            };\n        }\n\n        return _typeof(obj);\n    }\n\n    var REACT_ELEMENT_TYPE;\n\n    function _jsx(type, props, key, children) {\n        if (!REACT_ELEMENT_TYPE) {\n            REACT_ELEMENT_TYPE =\n                (typeof Symbol === 'function' && Symbol['for'] && Symbol['for']('react.element')) ||\n                0xeac7;\n        }\n\n        var defaultProps = type && type.defaultProps;\n        var childrenLength = arguments.length - 3;\n\n        if (!props && childrenLength !== 0) {\n            props = {\n                children: void 0,\n            };\n        }\n\n        if (props && defaultProps) {\n            for (var propName in defaultProps) {\n                if (props[propName] === void 0) {\n                    props[propName] = defaultProps[propName];\n                }\n            }\n        } else if (!props) {\n            props = defaultProps || {};\n        }\n\n        if (childrenLength === 1) {\n            props.children = children;\n        } else if (childrenLength > 1) {\n            var childArray = new Array(childrenLength);\n\n            for (var i = 0; i < childrenLength; i++) {\n                childArray[i] = arguments[i + 3];\n            }\n\n            props.children = childArray;\n        }\n\n        return {\n            $$typeof: REACT_ELEMENT_TYPE,\n            type: type,\n            key: key === undefined ? null : '' + key,\n            ref: null,\n            props: props,\n            _owner: null,\n        };\n    }\n\n    function _asyncIterator(iterable) {\n        var method;\n\n        if (typeof Symbol !== 'undefined') {\n            if (Symbol.asyncIterator) {\n                method = iterable[Symbol.asyncIterator];\n                if (method != null) return method.call(iterable);\n            }\n\n            if (Symbol.iterator) {\n                method = iterable[Symbol.iterator];\n                if (method != null) return method.call(iterable);\n            }\n        }\n\n        throw new TypeError('Object is not async iterable');\n    }\n\n    function _AwaitValue(value) {\n        this.wrapped = value;\n    }\n\n    function _AsyncGenerator(gen) {\n        var front, back;\n\n        function send(key, arg) {\n            return new Promise(function(resolve, reject) {\n                var request = {\n                    key: key,\n                    arg: arg,\n                    resolve: resolve,\n                    reject: reject,\n                    next: null,\n                };\n\n                if (back) {\n                    back = back.next = request;\n                } else {\n                    front = back = request;\n                    resume(key, arg);\n                }\n            });\n        }\n\n        function resume(key, arg) {\n            try {\n                var result = gen[key](arg);\n                var value = result.value;\n                var wrappedAwait = value instanceof _AwaitValue;\n                Promise.resolve(wrappedAwait ? value.wrapped : value).then(\n                    function(arg) {\n                        if (wrappedAwait) {\n                            resume('next', arg);\n                            return;\n                        }\n\n                        settle(result.done ? 'return' : 'normal', arg);\n                    },\n                    function(err) {\n                        resume('throw', err);\n                    }\n                );\n            } catch (err) {\n                settle('throw', err);\n            }\n        }\n\n        function settle(type, value) {\n            switch (type) {\n                case 'return':\n                    front.resolve({\n                        value: value,\n                        done: true,\n                    });\n                    break;\n\n                case 'throw':\n                    front.reject(value);\n                    break;\n\n                default:\n                    front.resolve({\n                        value: value,\n                        done: false,\n                    });\n                    break;\n            }\n\n            front = front.next;\n\n            if (front) {\n                resume(front.key, front.arg);\n            } else {\n                back = null;\n            }\n        }\n\n        this._invoke = send;\n\n        if (typeof gen.return !== 'function') {\n            this.return = undefined;\n        }\n    }\n\n    if (typeof Symbol === 'function' && Symbol.asyncIterator) {\n        _AsyncGenerator.prototype[Symbol.asyncIterator] = function() {\n            return this;\n        };\n    }\n\n    _AsyncGenerator.prototype.next = function(arg) {\n        return this._invoke('next', arg);\n    };\n\n    _AsyncGenerator.prototype.throw = function(arg) {\n        return this._invoke('throw', arg);\n    };\n\n    _AsyncGenerator.prototype.return = function(arg) {\n        return this._invoke('return', arg);\n    };\n\n    function _wrapAsyncGenerator(fn) {\n        return function() {\n            return new _AsyncGenerator(fn.apply(this, arguments));\n        };\n    }\n\n    function _awaitAsyncGenerator(value) {\n        return new _AwaitValue(value);\n    }\n\n    function _asyncGeneratorDelegate(inner, awaitWrap) {\n        var iter = {},\n            waiting = false;\n\n        function pump(key, value) {\n            waiting = true;\n            value = new Promise(function(resolve) {\n                resolve(inner[key](value));\n            });\n            return {\n                done: false,\n                value: awaitWrap(value),\n            };\n        }\n\n        if (typeof Symbol === 'function' && Symbol.iterator) {\n            iter[Symbol.iterator] = function() {\n                return this;\n            };\n        }\n\n        iter.next = function(value) {\n            if (waiting) {\n                waiting = false;\n                return value;\n            }\n\n            return pump('next', value);\n        };\n\n        if (typeof inner.throw === 'function') {\n            iter.throw = function(value) {\n                if (waiting) {\n                    waiting = false;\n                    throw value;\n                }\n\n                return pump('throw', value);\n            };\n        }\n\n        if (typeof inner.return === 'function') {\n            iter.return = function(value) {\n                return pump('return', value);\n            };\n        }\n\n        return iter;\n    }\n\n    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n        try {\n            var info = gen[key](arg);\n            var value = info.value;\n        } catch (error) {\n            reject(error);\n            return;\n        }\n\n        if (info.done) {\n            resolve(value);\n        } else {\n            Promise.resolve(value).then(_next, _throw);\n        }\n    }\n\n    function _asyncToGenerator(fn) {\n        return function() {\n            var self = this,\n                args = arguments;\n            return new Promise(function(resolve, reject) {\n                var gen = fn.apply(self, args);\n\n                function _next(value) {\n                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);\n                }\n\n                function _throw(err) {\n                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n                }\n\n                _next(undefined);\n            });\n        };\n    }\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError('Cannot call a class as a function');\n        }\n    }\n\n    function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if ('value' in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n\n    function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n    }\n\n    function _defineEnumerableProperties(obj, descs) {\n        for (var key in descs) {\n            var desc = descs[key];\n            desc.configurable = desc.enumerable = true;\n            if ('value' in desc) desc.writable = true;\n            Object.defineProperty(obj, key, desc);\n        }\n\n        if (Object.getOwnPropertySymbols) {\n            var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n            for (var i = 0; i < objectSymbols.length; i++) {\n                var sym = objectSymbols[i];\n                var desc = descs[sym];\n                desc.configurable = desc.enumerable = true;\n                if ('value' in desc) desc.writable = true;\n                Object.defineProperty(obj, sym, desc);\n            }\n        }\n\n        return obj;\n    }\n\n    function _defaults(obj, defaults) {\n        var keys = Object.getOwnPropertyNames(defaults);\n\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n            if (value && value.configurable && obj[key] === undefined) {\n                Object.defineProperty(obj, key, value);\n            }\n        }\n\n        return obj;\n    }\n\n    function _defineProperty(obj, key, value) {\n        if (key in obj) {\n            Object.defineProperty(obj, key, {\n                value: value,\n                enumerable: true,\n                configurable: true,\n                writable: true,\n            });\n        } else {\n            obj[key] = value;\n        }\n\n        return obj;\n    }\n\n    function _extends() {\n        _extends =\n            Object.assign ||\n            function(target) {\n                for (var i = 1; i < arguments.length; i++) {\n                    var source = arguments[i];\n\n                    for (var key in source) {\n                        if (Object.prototype.hasOwnProperty.call(source, key)) {\n                            target[key] = source[key];\n                        }\n                    }\n                }\n\n                return target;\n            };\n\n        return _extends.apply(this, arguments);\n    }\n\n    function _objectSpread(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i] != null ? arguments[i] : {};\n            var ownKeys = Object.keys(source);\n\n            if (typeof Object.getOwnPropertySymbols === 'function') {\n                ownKeys = ownKeys.concat(\n                    Object.getOwnPropertySymbols(source).filter(function(sym) {\n                        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n                    })\n                );\n            }\n\n            ownKeys.forEach(function(key) {\n                _defineProperty(target, key, source[key]);\n            });\n        }\n\n        return target;\n    }\n\n    function ownKeys(object, enumerableOnly) {\n        var keys = Object.keys(object);\n\n        if (Object.getOwnPropertySymbols) {\n            var symbols = Object.getOwnPropertySymbols(object);\n            if (enumerableOnly)\n                symbols = symbols.filter(function(sym) {\n                    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n                });\n            keys.push.apply(keys, symbols);\n        }\n\n        return keys;\n    }\n\n    function _objectSpread2(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i] != null ? arguments[i] : {};\n\n            if (i % 2) {\n                ownKeys(source, true).forEach(function(key) {\n                    _defineProperty(target, key, source[key]);\n                });\n            } else if (Object.getOwnPropertyDescriptors) {\n                Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n            } else {\n                ownKeys(source).forEach(function(key) {\n                    Object.defineProperty(\n                        target,\n                        key,\n                        Object.getOwnPropertyDescriptor(source, key)\n                    );\n                });\n            }\n        }\n\n        return target;\n    }\n\n    function _inherits(subClass, superClass) {\n        if (typeof superClass !== 'function' && superClass !== null) {\n            throw new TypeError('Super expression must either be null or a function');\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n                value: subClass,\n                writable: true,\n                configurable: true,\n            },\n        });\n        if (superClass) _setPrototypeOf(subClass, superClass);\n    }\n\n    function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n    }\n\n    function _getPrototypeOf(o) {\n        _getPrototypeOf = Object.setPrototypeOf\n            ? Object.getPrototypeOf\n            : function _getPrototypeOf(o) {\n                  return o.__proto__ || Object.getPrototypeOf(o);\n              };\n        return _getPrototypeOf(o);\n    }\n\n    function _setPrototypeOf(o, p) {\n        _setPrototypeOf =\n            Object.setPrototypeOf ||\n            function _setPrototypeOf(o, p) {\n                o.__proto__ = p;\n                return o;\n            };\n\n        return _setPrototypeOf(o, p);\n    }\n\n    function isNativeReflectConstruct() {\n        if (typeof Reflect === 'undefined' || !Reflect.construct) return false;\n        if (Reflect.construct.sham) return false;\n        if (typeof Proxy === 'function') return true;\n\n        try {\n            Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function _construct(Parent, args, Class) {\n        if (isNativeReflectConstruct()) {\n            _construct = Reflect.construct;\n        } else {\n            _construct = function _construct(Parent, args, Class) {\n                var a = [null];\n                a.push.apply(a, args);\n                var Constructor = Function.bind.apply(Parent, a);\n                var instance = new Constructor();\n                if (Class) _setPrototypeOf(instance, Class.prototype);\n                return instance;\n            };\n        }\n\n        return _construct.apply(null, arguments);\n    }\n\n    function _isNativeFunction(fn) {\n        return Function.toString.call(fn).indexOf('[native code]') !== -1;\n    }\n\n    function _wrapNativeSuper(Class) {\n        var _cache = typeof Map === 'function' ? new Map() : undefined;\n\n        _wrapNativeSuper = function _wrapNativeSuper(Class) {\n            if (Class === null || !_isNativeFunction(Class)) return Class;\n\n            if (typeof Class !== 'function') {\n                throw new TypeError('Super expression must either be null or a function');\n            }\n\n            if (typeof _cache !== 'undefined') {\n                if (_cache.has(Class)) return _cache.get(Class);\n\n                _cache.set(Class, Wrapper);\n            }\n\n            function Wrapper() {\n                return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n            }\n\n            Wrapper.prototype = Object.create(Class.prototype, {\n                constructor: {\n                    value: Wrapper,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true,\n                },\n            });\n            return _setPrototypeOf(Wrapper, Class);\n        };\n\n        return _wrapNativeSuper(Class);\n    }\n\n    function _instanceof(left, right) {\n        if (right != null && typeof Symbol !== 'undefined' && right[Symbol.hasInstance]) {\n            return !!right[Symbol.hasInstance](left);\n        } else {\n            return left instanceof right;\n        }\n    }\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule\n            ? obj\n            : {\n                  default: obj,\n              };\n    }\n\n    function _interopRequireWildcard(obj) {\n        if (obj && obj.__esModule) {\n            return obj;\n        } else {\n            var newObj = {};\n\n            if (obj != null) {\n                for (var key in obj) {\n                    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                        var desc =\n                            Object.defineProperty && Object.getOwnPropertyDescriptor\n                                ? Object.getOwnPropertyDescriptor(obj, key)\n                                : {};\n\n                        if (desc.get || desc.set) {\n                            Object.defineProperty(newObj, key, desc);\n                        } else {\n                            newObj[key] = obj[key];\n                        }\n                    }\n                }\n            }\n\n            newObj.default = obj;\n            return newObj;\n        }\n    }\n\n    function _newArrowCheck(innerThis, boundThis) {\n        if (innerThis !== boundThis) {\n            throw new TypeError('Cannot instantiate an arrow function');\n        }\n    }\n\n    function _objectDestructuringEmpty(obj) {\n        if (obj == null) throw new TypeError('Cannot destructure undefined');\n    }\n\n    function _objectWithoutPropertiesLoose(source, excluded) {\n        if (source == null) return {};\n        var target = {};\n        var sourceKeys = Object.keys(source);\n        var key, i;\n\n        for (i = 0; i < sourceKeys.length; i++) {\n            key = sourceKeys[i];\n            if (excluded.indexOf(key) >= 0) continue;\n            target[key] = source[key];\n        }\n\n        return target;\n    }\n\n    function _objectWithoutProperties(source, excluded) {\n        if (source == null) return {};\n\n        var target = _objectWithoutPropertiesLoose(source, excluded);\n\n        var key, i;\n\n        if (Object.getOwnPropertySymbols) {\n            var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n            for (i = 0; i < sourceSymbolKeys.length; i++) {\n                key = sourceSymbolKeys[i];\n                if (excluded.indexOf(key) >= 0) continue;\n                if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n                target[key] = source[key];\n            }\n        }\n\n        return target;\n    }\n\n    function _assertThisInitialized(self) {\n        if (self === void 0) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return self;\n    }\n\n    function _possibleConstructorReturn(self, call) {\n        if (call && (typeof call === 'object' || typeof call === 'function')) {\n            return call;\n        }\n\n        return _assertThisInitialized(self);\n    }\n\n    function _superPropBase(object, property) {\n        while (!Object.prototype.hasOwnProperty.call(object, property)) {\n            object = _getPrototypeOf(object);\n            if (object === null) break;\n        }\n\n        return object;\n    }\n\n    function _get(target, property, receiver) {\n        if (typeof Reflect !== 'undefined' && Reflect.get) {\n            _get = Reflect.get;\n        } else {\n            _get = function _get(target, property, receiver) {\n                var base = _superPropBase(target, property);\n\n                if (!base) return;\n                var desc = Object.getOwnPropertyDescriptor(base, property);\n\n                if (desc.get) {\n                    return desc.get.call(receiver);\n                }\n\n                return desc.value;\n            };\n        }\n\n        return _get(target, property, receiver || target);\n    }\n\n    function set(target, property, value, receiver) {\n        if (typeof Reflect !== 'undefined' && Reflect.set) {\n            set = Reflect.set;\n        } else {\n            set = function set(target, property, value, receiver) {\n                var base = _superPropBase(target, property);\n\n                var desc;\n\n                if (base) {\n                    desc = Object.getOwnPropertyDescriptor(base, property);\n\n                    if (desc.set) {\n                        desc.set.call(receiver, value);\n                        return true;\n                    } else if (!desc.writable) {\n                        return false;\n                    }\n                }\n\n                desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n                if (desc) {\n                    if (!desc.writable) {\n                        return false;\n                    }\n\n                    desc.value = value;\n                    Object.defineProperty(receiver, property, desc);\n                } else {\n                    _defineProperty(receiver, property, value);\n                }\n\n                return true;\n            };\n        }\n\n        return set(target, property, value, receiver);\n    }\n\n    function _set(target, property, value, receiver, isStrict) {\n        var s = set(target, property, value, receiver || target);\n\n        if (!s && isStrict) {\n            throw new Error('failed to set property');\n        }\n\n        return value;\n    }\n\n    function _taggedTemplateLiteral(strings, raw) {\n        if (!raw) {\n            raw = strings.slice(0);\n        }\n\n        return Object.freeze(\n            Object.defineProperties(strings, {\n                raw: {\n                    value: Object.freeze(raw),\n                },\n            })\n        );\n    }\n\n    function _taggedTemplateLiteralLoose(strings, raw) {\n        if (!raw) {\n            raw = strings.slice(0);\n        }\n\n        strings.raw = raw;\n        return strings;\n    }\n\n    function _temporalRef(val, name) {\n        if (val === _temporalUndefined) {\n            throw new ReferenceError(name + ' is not defined - temporal dead zone');\n        } else {\n            return val;\n        }\n    }\n\n    function _readOnlyError(name) {\n        throw new Error('\"' + name + '\" is read-only');\n    }\n\n    function _classNameTDZError(name) {\n        throw new Error('Class \"' + name + '\" cannot be referenced in computed property keys.');\n    }\n\n    var _temporalUndefined = {};\n\n    function _slicedToArray(arr, i) {\n        return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n    }\n\n    function _slicedToArrayLoose(arr, i) {\n        return _arrayWithHoles(arr) || _iterableToArrayLimitLoose(arr, i) || _nonIterableRest();\n    }\n\n    function _toArray(arr) {\n        return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest();\n    }\n\n    function _toConsumableArray(arr) {\n        return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n    }\n\n    function _arrayWithoutHoles(arr) {\n        if (Array.isArray(arr)) {\n            for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n            return arr2;\n        }\n    }\n\n    function _arrayWithHoles(arr) {\n        if (Array.isArray(arr)) return arr;\n    }\n\n    function _iterableToArray(iter) {\n        if (\n            Symbol.iterator in Object(iter) ||\n            Object.prototype.toString.call(iter) === '[object Arguments]'\n        )\n            return Array.from(iter);\n    }\n\n    function _iterableToArrayLimit(arr, i) {\n        var _arr = [];\n        var _n = true;\n        var _d = false;\n        var _e = undefined;\n\n        try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                _arr.push(_s.value);\n\n                if (i && _arr.length === i) break;\n            }\n        } catch (err) {\n            _d = true;\n            _e = err;\n        } finally {\n            try {\n                if (!_n && _i['return'] != null) _i['return']();\n            } finally {\n                if (_d) throw _e;\n            }\n        }\n\n        return _arr;\n    }\n\n    function _iterableToArrayLimitLoose(arr, i) {\n        var _arr = [];\n\n        for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done; ) {\n            _arr.push(_step.value);\n\n            if (i && _arr.length === i) break;\n        }\n\n        return _arr;\n    }\n\n    function _nonIterableSpread() {\n        throw new TypeError('Invalid attempt to spread non-iterable instance');\n    }\n\n    function _nonIterableRest() {\n        throw new TypeError('Invalid attempt to destructure non-iterable instance');\n    }\n\n    function _skipFirstGeneratorNext(fn) {\n        return function() {\n            var it = fn.apply(this, arguments);\n            it.next();\n            return it;\n        };\n    }\n\n    function _toPrimitive(input, hint) {\n        if (typeof input !== 'object' || input === null) return input;\n        var prim = input[Symbol.toPrimitive];\n\n        if (prim !== undefined) {\n            var res = prim.call(input, hint || 'default');\n            if (typeof res !== 'object') return res;\n            throw new TypeError('@@toPrimitive must return a primitive value.');\n        }\n\n        return (hint === 'string' ? String : Number)(input);\n    }\n\n    function _toPropertyKey(arg) {\n        var key = _toPrimitive(arg, 'string');\n\n        return typeof key === 'symbol' ? key : String(key);\n    }\n\n    function _initializerWarningHelper(descriptor, context) {\n        throw new Error(\n            'Decorating class property failed. Please ensure that ' +\n                'proposal-class-properties is enabled and set to use loose mode. ' +\n                'To use proposal-class-properties in spec mode with decorators, wait for ' +\n                'the next major version of decorators in stage 2.'\n        );\n    }\n\n    function _initializerDefineProperty(target, property, descriptor, context) {\n        if (!descriptor) return;\n        Object.defineProperty(target, property, {\n            enumerable: descriptor.enumerable,\n            configurable: descriptor.configurable,\n            writable: descriptor.writable,\n            value: descriptor.initializer ? descriptor.initializer.call(context) : void 0,\n        });\n    }\n\n    function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n        var desc = {};\n        Object.keys(descriptor).forEach(function(key) {\n            desc[key] = descriptor[key];\n        });\n        desc.enumerable = !!desc.enumerable;\n        desc.configurable = !!desc.configurable;\n\n        if ('value' in desc || desc.initializer) {\n            desc.writable = true;\n        }\n\n        desc = decorators\n            .slice()\n            .reverse()\n            .reduce(function(desc, decorator) {\n                return decorator(target, property, desc) || desc;\n            }, desc);\n\n        if (context && desc.initializer !== void 0) {\n            desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n            desc.initializer = undefined;\n        }\n\n        if (desc.initializer === void 0) {\n            Object.defineProperty(target, property, desc);\n            desc = null;\n        }\n\n        return desc;\n    }\n\n    var id = 0;\n\n    function _classPrivateFieldLooseKey(name) {\n        return '__private_' + id++ + '_' + name;\n    }\n\n    function _classPrivateFieldLooseBase(receiver, privateKey) {\n        if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n            throw new TypeError('attempted to use private field on non-instance');\n        }\n\n        return receiver;\n    }\n\n    function _classPrivateFieldGet(receiver, privateMap) {\n        var descriptor = privateMap.get(receiver);\n\n        if (!descriptor) {\n            throw new TypeError('attempted to get private field on non-instance');\n        }\n\n        if (descriptor.get) {\n            return descriptor.get.call(receiver);\n        }\n\n        return descriptor.value;\n    }\n\n    function _classPrivateFieldSet(receiver, privateMap, value) {\n        var descriptor = privateMap.get(receiver);\n\n        if (!descriptor) {\n            throw new TypeError('attempted to set private field on non-instance');\n        }\n\n        if (descriptor.set) {\n            descriptor.set.call(receiver, value);\n        } else {\n            if (!descriptor.writable) {\n                throw new TypeError('attempted to set read only private field');\n            }\n\n            descriptor.value = value;\n        }\n\n        return value;\n    }\n\n    function _classPrivateFieldDestructureSet(receiver, privateMap) {\n        if (!privateMap.has(receiver)) {\n            throw new TypeError('attempted to set private field on non-instance');\n        }\n\n        var descriptor = privateMap.get(receiver);\n\n        if (descriptor.set) {\n            if (!('__destrObj' in descriptor)) {\n                descriptor.__destrObj = {\n                    set value(v) {\n                        descriptor.set.call(receiver, v);\n                    },\n                };\n            }\n\n            return descriptor.__destrObj;\n        } else {\n            if (!descriptor.writable) {\n                throw new TypeError('attempted to set read only private field');\n            }\n\n            return descriptor;\n        }\n    }\n\n    function _classStaticPrivateFieldSpecGet(receiver, classConstructor, descriptor) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n\n        return descriptor.value;\n    }\n\n    function _classStaticPrivateFieldSpecSet(receiver, classConstructor, descriptor, value) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n\n        if (!descriptor.writable) {\n            throw new TypeError('attempted to set read only private field');\n        }\n\n        descriptor.value = value;\n        return value;\n    }\n\n    function _classStaticPrivateMethodGet(receiver, classConstructor, method) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n\n        return method;\n    }\n\n    function _classStaticPrivateMethodSet() {\n        throw new TypeError('attempted to set read only static private field');\n    }\n\n    function _decorate(decorators, factory, superClass, mixins) {\n        var api = _getDecoratorsApi();\n\n        if (mixins) {\n            for (var i = 0; i < mixins.length; i++) {\n                api = mixins[i](api);\n            }\n        }\n\n        var r = factory(function initialize(O) {\n            api.initializeInstanceElements(O, decorated.elements);\n        }, superClass);\n        var decorated = api.decorateClass(\n            _coalesceClassElements(r.d.map(_createElementDescriptor)),\n            decorators\n        );\n        api.initializeClassElements(r.F, decorated.elements);\n        return api.runClassFinishers(r.F, decorated.finishers);\n    }\n\n    function _getDecoratorsApi() {\n        _getDecoratorsApi = function() {\n            return api;\n        };\n\n        var api = {\n            elementsDefinitionOrder: [['method'], ['field']],\n            initializeInstanceElements: function(O, elements) {\n                ['method', 'field'].forEach(function(kind) {\n                    elements.forEach(function(element) {\n                        if (element.kind === kind && element.placement === 'own') {\n                            this.defineClassElement(O, element);\n                        }\n                    }, this);\n                }, this);\n            },\n            initializeClassElements: function(F, elements) {\n                var proto = F.prototype;\n                ['method', 'field'].forEach(function(kind) {\n                    elements.forEach(function(element) {\n                        var placement = element.placement;\n\n                        if (\n                            element.kind === kind &&\n                            (placement === 'static' || placement === 'prototype')\n                        ) {\n                            var receiver = placement === 'static' ? F : proto;\n                            this.defineClassElement(receiver, element);\n                        }\n                    }, this);\n                }, this);\n            },\n            defineClassElement: function(receiver, element) {\n                var descriptor = element.descriptor;\n\n                if (element.kind === 'field') {\n                    var initializer = element.initializer;\n                    descriptor = {\n                        enumerable: descriptor.enumerable,\n                        writable: descriptor.writable,\n                        configurable: descriptor.configurable,\n                        value: initializer === void 0 ? void 0 : initializer.call(receiver),\n                    };\n                }\n\n                Object.defineProperty(receiver, element.key, descriptor);\n            },\n            decorateClass: function(elements, decorators) {\n                var newElements = [];\n                var finishers = [];\n                var placements = {\n                    static: [],\n                    prototype: [],\n                    own: [],\n                };\n                elements.forEach(function(element) {\n                    this.addElementPlacement(element, placements);\n                }, this);\n                elements.forEach(function(element) {\n                    if (!_hasDecorators(element)) return newElements.push(element);\n                    var elementFinishersExtras = this.decorateElement(element, placements);\n                    newElements.push(elementFinishersExtras.element);\n                    newElements.push.apply(newElements, elementFinishersExtras.extras);\n                    finishers.push.apply(finishers, elementFinishersExtras.finishers);\n                }, this);\n\n                if (!decorators) {\n                    return {\n                        elements: newElements,\n                        finishers: finishers,\n                    };\n                }\n\n                var result = this.decorateConstructor(newElements, decorators);\n                finishers.push.apply(finishers, result.finishers);\n                result.finishers = finishers;\n                return result;\n            },\n            addElementPlacement: function(element, placements, silent) {\n                var keys = placements[element.placement];\n\n                if (!silent && keys.indexOf(element.key) !== -1) {\n                    throw new TypeError('Duplicated element (' + element.key + ')');\n                }\n\n                keys.push(element.key);\n            },\n            decorateElement: function(element, placements) {\n                var extras = [];\n                var finishers = [];\n\n                for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) {\n                    var keys = placements[element.placement];\n                    keys.splice(keys.indexOf(element.key), 1);\n                    var elementObject = this.fromElementDescriptor(element);\n                    var elementFinisherExtras = this.toElementFinisherExtras(\n                        (0, decorators[i])(elementObject) || elementObject\n                    );\n                    element = elementFinisherExtras.element;\n                    this.addElementPlacement(element, placements);\n\n                    if (elementFinisherExtras.finisher) {\n                        finishers.push(elementFinisherExtras.finisher);\n                    }\n\n                    var newExtras = elementFinisherExtras.extras;\n\n                    if (newExtras) {\n                        for (var j = 0; j < newExtras.length; j++) {\n                            this.addElementPlacement(newExtras[j], placements);\n                        }\n\n                        extras.push.apply(extras, newExtras);\n                    }\n                }\n\n                return {\n                    element: element,\n                    finishers: finishers,\n                    extras: extras,\n                };\n            },\n            decorateConstructor: function(elements, decorators) {\n                var finishers = [];\n\n                for (var i = decorators.length - 1; i >= 0; i--) {\n                    var obj = this.fromClassDescriptor(elements);\n                    var elementsAndFinisher = this.toClassDescriptor(\n                        (0, decorators[i])(obj) || obj\n                    );\n\n                    if (elementsAndFinisher.finisher !== undefined) {\n                        finishers.push(elementsAndFinisher.finisher);\n                    }\n\n                    if (elementsAndFinisher.elements !== undefined) {\n                        elements = elementsAndFinisher.elements;\n\n                        for (var j = 0; j < elements.length - 1; j++) {\n                            for (var k = j + 1; k < elements.length; k++) {\n                                if (\n                                    elements[j].key === elements[k].key &&\n                                    elements[j].placement === elements[k].placement\n                                ) {\n                                    throw new TypeError(\n                                        'Duplicated element (' + elements[j].key + ')'\n                                    );\n                                }\n                            }\n                        }\n                    }\n                }\n\n                return {\n                    elements: elements,\n                    finishers: finishers,\n                };\n            },\n            fromElementDescriptor: function(element) {\n                var obj = {\n                    kind: element.kind,\n                    key: element.key,\n                    placement: element.placement,\n                    descriptor: element.descriptor,\n                };\n                var desc = {\n                    value: 'Descriptor',\n                    configurable: true,\n                };\n                Object.defineProperty(obj, Symbol.toStringTag, desc);\n                if (element.kind === 'field') obj.initializer = element.initializer;\n                return obj;\n            },\n            toElementDescriptors: function(elementObjects) {\n                if (elementObjects === undefined) return;\n                return _toArray(elementObjects).map(function(elementObject) {\n                    var element = this.toElementDescriptor(elementObject);\n                    this.disallowProperty(elementObject, 'finisher', 'An element descriptor');\n                    this.disallowProperty(elementObject, 'extras', 'An element descriptor');\n                    return element;\n                }, this);\n            },\n            toElementDescriptor: function(elementObject) {\n                var kind = String(elementObject.kind);\n\n                if (kind !== 'method' && kind !== 'field') {\n                    throw new TypeError(\n                        'An element descriptor\\'s .kind property must be either \"method\" or' +\n                            ' \"field\", but a decorator created an element descriptor with' +\n                            ' .kind \"' +\n                            kind +\n                            '\"'\n                    );\n                }\n\n                var key = _toPropertyKey(elementObject.key);\n\n                var placement = String(elementObject.placement);\n\n                if (placement !== 'static' && placement !== 'prototype' && placement !== 'own') {\n                    throw new TypeError(\n                        'An element descriptor\\'s .placement property must be one of \"static\",' +\n                            ' \"prototype\" or \"own\", but a decorator created an element descriptor' +\n                            ' with .placement \"' +\n                            placement +\n                            '\"'\n                    );\n                }\n\n                var descriptor = elementObject.descriptor;\n                this.disallowProperty(elementObject, 'elements', 'An element descriptor');\n                var element = {\n                    kind: kind,\n                    key: key,\n                    placement: placement,\n                    descriptor: Object.assign({}, descriptor),\n                };\n\n                if (kind !== 'field') {\n                    this.disallowProperty(elementObject, 'initializer', 'A method descriptor');\n                } else {\n                    this.disallowProperty(\n                        descriptor,\n                        'get',\n                        'The property descriptor of a field descriptor'\n                    );\n                    this.disallowProperty(\n                        descriptor,\n                        'set',\n                        'The property descriptor of a field descriptor'\n                    );\n                    this.disallowProperty(\n                        descriptor,\n                        'value',\n                        'The property descriptor of a field descriptor'\n                    );\n                    element.initializer = elementObject.initializer;\n                }\n\n                return element;\n            },\n            toElementFinisherExtras: function(elementObject) {\n                var element = this.toElementDescriptor(elementObject);\n\n                var finisher = _optionalCallableProperty(elementObject, 'finisher');\n\n                var extras = this.toElementDescriptors(elementObject.extras);\n                return {\n                    element: element,\n                    finisher: finisher,\n                    extras: extras,\n                };\n            },\n            fromClassDescriptor: function(elements) {\n                var obj = {\n                    kind: 'class',\n                    elements: elements.map(this.fromElementDescriptor, this),\n                };\n                var desc = {\n                    value: 'Descriptor',\n                    configurable: true,\n                };\n                Object.defineProperty(obj, Symbol.toStringTag, desc);\n                return obj;\n            },\n            toClassDescriptor: function(obj) {\n                var kind = String(obj.kind);\n\n                if (kind !== 'class') {\n                    throw new TypeError(\n                        'A class descriptor\\'s .kind property must be \"class\", but a decorator' +\n                            ' created a class descriptor with .kind \"' +\n                            kind +\n                            '\"'\n                    );\n                }\n\n                this.disallowProperty(obj, 'key', 'A class descriptor');\n                this.disallowProperty(obj, 'placement', 'A class descriptor');\n                this.disallowProperty(obj, 'descriptor', 'A class descriptor');\n                this.disallowProperty(obj, 'initializer', 'A class descriptor');\n                this.disallowProperty(obj, 'extras', 'A class descriptor');\n\n                var finisher = _optionalCallableProperty(obj, 'finisher');\n\n                var elements = this.toElementDescriptors(obj.elements);\n                return {\n                    elements: elements,\n                    finisher: finisher,\n                };\n            },\n            runClassFinishers: function(constructor, finishers) {\n                for (var i = 0; i < finishers.length; i++) {\n                    var newConstructor = (0, finishers[i])(constructor);\n\n                    if (newConstructor !== undefined) {\n                        if (typeof newConstructor !== 'function') {\n                            throw new TypeError('Finishers must return a constructor.');\n                        }\n\n                        constructor = newConstructor;\n                    }\n                }\n\n                return constructor;\n            },\n            disallowProperty: function(obj, name, objectType) {\n                if (obj[name] !== undefined) {\n                    throw new TypeError(objectType + \" can't have a .\" + name + ' property.');\n                }\n            },\n        };\n        return api;\n    }\n\n    function _createElementDescriptor(def) {\n        var key = _toPropertyKey(def.key);\n\n        var descriptor;\n\n        if (def.kind === 'method') {\n            descriptor = {\n                value: def.value,\n                writable: true,\n                configurable: true,\n                enumerable: false,\n            };\n        } else if (def.kind === 'get') {\n            descriptor = {\n                get: def.value,\n                configurable: true,\n                enumerable: false,\n            };\n        } else if (def.kind === 'set') {\n            descriptor = {\n                set: def.value,\n                configurable: true,\n                enumerable: false,\n            };\n        } else if (def.kind === 'field') {\n            descriptor = {\n                configurable: true,\n                writable: true,\n                enumerable: true,\n            };\n        }\n\n        var element = {\n            kind: def.kind === 'field' ? 'field' : 'method',\n            key: key,\n            placement: def.static ? 'static' : def.kind === 'field' ? 'own' : 'prototype',\n            descriptor: descriptor,\n        };\n        if (def.decorators) element.decorators = def.decorators;\n        if (def.kind === 'field') element.initializer = def.value;\n        return element;\n    }\n\n    function _coalesceGetterSetter(element, other) {\n        if (element.descriptor.get !== undefined) {\n            other.descriptor.get = element.descriptor.get;\n        } else {\n            other.descriptor.set = element.descriptor.set;\n        }\n    }\n\n    function _coalesceClassElements(elements) {\n        var newElements = [];\n\n        var isSameElement = function(other) {\n            return (\n                other.kind === 'method' &&\n                other.key === element.key &&\n                other.placement === element.placement\n            );\n        };\n\n        for (var i = 0; i < elements.length; i++) {\n            var element = elements[i];\n            var other;\n\n            if (element.kind === 'method' && (other = newElements.find(isSameElement))) {\n                if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) {\n                    if (_hasDecorators(element) || _hasDecorators(other)) {\n                        throw new ReferenceError(\n                            'Duplicated methods (' + element.key + \") can't be decorated.\"\n                        );\n                    }\n\n                    other.descriptor = element.descriptor;\n                } else {\n                    if (_hasDecorators(element)) {\n                        if (_hasDecorators(other)) {\n                            throw new ReferenceError(\n                                \"Decorators can't be placed on different accessors with for \" +\n                                    'the same property (' +\n                                    element.key +\n                                    ').'\n                            );\n                        }\n\n                        other.decorators = element.decorators;\n                    }\n\n                    _coalesceGetterSetter(element, other);\n                }\n            } else {\n                newElements.push(element);\n            }\n        }\n\n        return newElements;\n    }\n\n    function _hasDecorators(element) {\n        return element.decorators && element.decorators.length;\n    }\n\n    function _isDataDescriptor(desc) {\n        return desc !== undefined && !(desc.value === undefined && desc.writable === undefined);\n    }\n\n    function _optionalCallableProperty(obj, name) {\n        var value = obj[name];\n\n        if (value !== undefined && typeof value !== 'function') {\n            throw new TypeError(\"Expected '\" + name + \"' to be a function\");\n        }\n\n        return value;\n    }\n\n    function _classPrivateMethodGet(receiver, privateSet, fn) {\n        if (!privateSet.has(receiver)) {\n            throw new TypeError('attempted to get private field on non-instance');\n        }\n\n        return fn;\n    }\n\n    function _classPrivateMethodSet() {\n        throw new TypeError('attempted to reassign private method');\n    }\n\n    function _wrapRegExp(re, groups) {\n        _wrapRegExp = function(re, groups) {\n            return new BabelRegExp(re, groups);\n        };\n\n        var _RegExp = _wrapNativeSuper(RegExp);\n\n        var _super = RegExp.prototype;\n\n        var _groups = new WeakMap();\n\n        function BabelRegExp(re, groups) {\n            var _this = _RegExp.call(this, re);\n\n            _groups.set(_this, groups);\n\n            return _this;\n        }\n\n        _inherits(BabelRegExp, _RegExp);\n\n        BabelRegExp.prototype.exec = function(str) {\n            var result = _super.exec.call(this, str);\n\n            if (result) result.groups = buildGroups(result, this);\n            return result;\n        };\n\n        BabelRegExp.prototype[Symbol.replace] = function(str, substitution) {\n            if (typeof substitution === 'string') {\n                var groups = _groups.get(this);\n\n                return _super[Symbol.replace].call(\n                    this,\n                    str,\n                    substitution.replace(/\\$<([^>]+)>/g, function(_, name) {\n                        return '$' + groups[name];\n                    })\n                );\n            } else if (typeof substitution === 'function') {\n                var _this = this;\n\n                return _super[Symbol.replace].call(this, str, function() {\n                    var args = [];\n                    args.push.apply(args, arguments);\n\n                    if (typeof args[args.length - 1] !== 'object') {\n                        args.push(buildGroups(args, _this));\n                    }\n\n                    return substitution.apply(this, args);\n                });\n            } else {\n                return _super[Symbol.replace].call(this, str, substitution);\n            }\n        };\n\n        function buildGroups(result, re) {\n            var g = _groups.get(re);\n\n            return Object.keys(g).reduce(function(groups, name) {\n                groups[name] = result[g[name]];\n                return groups;\n            }, Object.create(null));\n        }\n\n        return _wrapRegExp.apply(this, arguments);\n    }\n\n    var arrayRemove = function arrayRemove(arr, index) {\n        return arr.splice(index, 1);\n    };\n\n    var run = function run(cb, sync) {\n        if (sync) {\n            cb();\n        } else if (document.hidden) {\n            Promise.resolve(1).then(cb);\n        } else {\n            setTimeout(cb, 0);\n        }\n    };\n\n    var on = function on() {\n        var listeners = [];\n        var off = function off(event, cb) {\n            arrayRemove(\n                listeners,\n                listeners.findIndex(function(listener) {\n                    return listener.event === event && (listener.cb === cb || !cb);\n                })\n            );\n        };\n        var _fire = function fire(event, args, sync) {\n            listeners\n                .filter(function(listener) {\n                    return listener.event === event;\n                })\n                .map(function(listener) {\n                    return listener.cb;\n                })\n                .forEach(function(cb) {\n                    return run(function() {\n                        return cb.apply(void 0, _toConsumableArray(args));\n                    }, sync);\n                });\n        };\n        return {\n            fireSync: function fireSync(event) {\n                for (\n                    var _len = arguments.length,\n                        args = new Array(_len > 1 ? _len - 1 : 0),\n                        _key = 1;\n                    _key < _len;\n                    _key++\n                ) {\n                    args[_key - 1] = arguments[_key];\n                }\n                _fire(event, args, true);\n            },\n            fire: function fire(event) {\n                for (\n                    var _len2 = arguments.length,\n                        args = new Array(_len2 > 1 ? _len2 - 1 : 0),\n                        _key2 = 1;\n                    _key2 < _len2;\n                    _key2++\n                ) {\n                    args[_key2 - 1] = arguments[_key2];\n                }\n                _fire(event, args, false);\n            },\n            on: function on(event, cb) {\n                listeners.push({ event: event, cb: cb });\n            },\n            onOnce: function onOnce(event, _cb) {\n                listeners.push({\n                    event: event,\n                    cb: function cb() {\n                        off(event, _cb);\n                        _cb.apply(void 0, arguments);\n                    },\n                });\n            },\n            off: off,\n        };\n    };\n\n    var copyObjectPropertiesToObject = function copyObjectPropertiesToObject(\n        src,\n        target,\n        excluded\n    ) {\n        Object.getOwnPropertyNames(src)\n            .filter(function(property) {\n                return !excluded.includes(property);\n            })\n            .forEach(function(key) {\n                return Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(src, key)\n                );\n            });\n    };\n\n    var PRIVATE = [\n        'fire',\n        'process',\n        'revert',\n        'load',\n        'on',\n        'off',\n        'onOnce',\n        'retryLoad',\n        'extend',\n        'archive',\n        'archived',\n        'release',\n        'released',\n        'requestProcessing',\n        'freeze',\n    ];\n\n    var createItemAPI = function createItemAPI(item) {\n        var api = {};\n        copyObjectPropertiesToObject(item, api, PRIVATE);\n        return api;\n    };\n\n    var removeReleasedItems = function removeReleasedItems(items) {\n        items.forEach(function(item, index) {\n            if (item.released) {\n                arrayRemove(items, index);\n            }\n        });\n    };\n\n    var ItemStatus = {\n        INIT: 1,\n        IDLE: 2,\n        PROCESSING_QUEUED: 9,\n        PROCESSING: 3,\n        PROCESSING_COMPLETE: 5,\n        PROCESSING_ERROR: 6,\n        PROCESSING_REVERT_ERROR: 10,\n        LOADING: 7,\n        LOAD_ERROR: 8,\n    };\n\n    var FileOrigin = {\n        INPUT: 1,\n        LIMBO: 2,\n        LOCAL: 3,\n    };\n\n    var getNonNumeric = function getNonNumeric(str) {\n        return /[^0-9]+/.exec(str);\n    };\n\n    var getDecimalSeparator = function getDecimalSeparator() {\n        return getNonNumeric((1.1).toLocaleString())[0];\n    };\n\n    var getThousandsSeparator = function getThousandsSeparator() {\n        // Added for browsers that do not return the thousands separator (happend on native browser Android 4.4.4)\n        // We check against the normal toString output and if they're the same return a comma when decimal separator is a dot\n        var decimalSeparator = getDecimalSeparator();\n        var thousandsStringWithSeparator = (1000.0).toLocaleString();\n        var thousandsStringWithoutSeparator = (1000.0).toString();\n        if (thousandsStringWithSeparator !== thousandsStringWithoutSeparator) {\n            return getNonNumeric(thousandsStringWithSeparator)[0];\n        }\n        return decimalSeparator === '.' ? ',' : '.';\n    };\n\n    var Type = {\n        BOOLEAN: 'boolean',\n        INT: 'int',\n        NUMBER: 'number',\n        STRING: 'string',\n        ARRAY: 'array',\n        OBJECT: 'object',\n        FUNCTION: 'function',\n        ACTION: 'action',\n        SERVER_API: 'serverapi',\n        REGEX: 'regex',\n    };\n\n    // all registered filters\n    var filters = [];\n\n    // loops over matching filters and passes options to each filter, returning the mapped results\n    var applyFilterChain = function applyFilterChain(key, value, utils) {\n        return new Promise(function(resolve, reject) {\n            // find matching filters for this key\n            var matchingFilters = filters\n                .filter(function(f) {\n                    return f.key === key;\n                })\n                .map(function(f) {\n                    return f.cb;\n                });\n\n            // resolve now\n            if (matchingFilters.length === 0) {\n                resolve(value);\n                return;\n            }\n\n            // first filter to kick things of\n            var initialFilter = matchingFilters.shift();\n\n            // chain filters\n            matchingFilters\n                .reduce(\n                    // loop over promises passing value to next promise\n                    function(current, next) {\n                        return current.then(function(value) {\n                            return next(value, utils);\n                        });\n                    },\n\n                    // call initial filter, will return a promise\n                    initialFilter(value, utils)\n\n                    // all executed\n                )\n                .then(function(value) {\n                    return resolve(value);\n                })\n                .catch(function(error) {\n                    return reject(error);\n                });\n        });\n    };\n\n    var applyFilters = function applyFilters(key, value, utils) {\n        return filters\n            .filter(function(f) {\n                return f.key === key;\n            })\n            .map(function(f) {\n                return f.cb(value, utils);\n            });\n    };\n\n    // adds a new filter to the list\n    var addFilter = function addFilter(key, cb) {\n        return filters.push({ key: key, cb: cb });\n    };\n\n    var extendDefaultOptions = function extendDefaultOptions(additionalOptions) {\n        return Object.assign(defaultOptions, additionalOptions);\n    };\n\n    var getOptions = function getOptions() {\n        return Object.assign({}, defaultOptions);\n    };\n\n    var setOptions = function setOptions(opts) {\n        forin(opts, function(key, value) {\n            // key does not exist, so this option cannot be set\n            if (!defaultOptions[key]) {\n                return;\n            }\n            defaultOptions[key][0] = getValueByType(\n                value,\n                defaultOptions[key][0],\n                defaultOptions[key][1]\n            );\n        });\n    };\n\n    // default options on app\n    var defaultOptions = {\n        // the id to add to the root element\n        id: [null, Type.STRING],\n\n        // input field name to use\n        name: ['filepond', Type.STRING],\n\n        // disable the field\n        disabled: [false, Type.BOOLEAN],\n\n        // classname to put on wrapper\n        className: [null, Type.STRING],\n\n        // is the field required\n        required: [false, Type.BOOLEAN],\n\n        // Allow media capture when value is set\n        captureMethod: [null, Type.STRING],\n        // - \"camera\", \"microphone\" or \"camcorder\",\n        // - Does not work with multiple on apple devices\n        // - If set, acceptedFileTypes must be made to match with media wildcard \"image/*\", \"audio/*\" or \"video/*\"\n\n        // sync `acceptedFileTypes` property with `accept` attribute\n        allowSyncAcceptAttribute: [true, Type.BOOLEAN],\n\n        // Feature toggles\n        allowDrop: [true, Type.BOOLEAN], // Allow dropping of files\n        allowBrowse: [true, Type.BOOLEAN], // Allow browsing the file system\n        allowPaste: [true, Type.BOOLEAN], // Allow pasting files\n        allowMultiple: [false, Type.BOOLEAN], // Allow multiple files (disabled by default, as multiple attribute is also required on input to allow multiple)\n        allowReplace: [true, Type.BOOLEAN], // Allow dropping a file on other file to replace it (only works when multiple is set to false)\n        allowRevert: [true, Type.BOOLEAN], // Allows user to revert file upload\n        allowRemove: [true, Type.BOOLEAN], // Allow user to remove a file\n        allowProcess: [true, Type.BOOLEAN], // Allows user to process a file, when set to false, this removes the file upload button\n        allowReorder: [false, Type.BOOLEAN], // Allow reordering of files\n        allowDirectoriesOnly: [false, Type.BOOLEAN], // Allow only selecting directories with browse (no support for filtering dnd at this point)\n\n        // Try store file if `server` not set\n        storeAsFile: [false, Type.BOOLEAN],\n\n        // Revert mode\n        forceRevert: [false, Type.BOOLEAN], // Set to 'force' to require the file to be reverted before removal\n\n        // Input requirements\n        maxFiles: [null, Type.INT], // Max number of files\n        checkValidity: [false, Type.BOOLEAN], // Enables custom validity messages\n\n        // Where to put file\n        itemInsertLocationFreedom: [true, Type.BOOLEAN], // Set to false to always add items to begin or end of list\n        itemInsertLocation: ['before', Type.STRING], // Default index in list to add items that have been dropped at the top of the list\n        itemInsertInterval: [75, Type.INT],\n\n        // Drag 'n Drop related\n        dropOnPage: [false, Type.BOOLEAN], // Allow dropping of files anywhere on page (prevents browser from opening file if dropped outside of Up)\n        dropOnElement: [true, Type.BOOLEAN], // Drop needs to happen on element (set to false to also load drops outside of Up)\n        dropValidation: [false, Type.BOOLEAN], // Enable or disable validating files on drop\n        ignoredFiles: [['.ds_store', 'thumbs.db', 'desktop.ini'], Type.ARRAY],\n\n        // Upload related\n        instantUpload: [true, Type.BOOLEAN], // Should upload files immediately on drop\n        maxParallelUploads: [2, Type.INT], // Maximum files to upload in parallel\n        allowMinimumUploadDuration: [true, Type.BOOLEAN], // if true uploads take at least 750 ms, this ensures the user sees the upload progress giving trust the upload actually happened\n\n        // Chunks\n        chunkUploads: [false, Type.BOOLEAN], // Enable chunked uploads\n        chunkForce: [false, Type.BOOLEAN], // Force use of chunk uploads even for files smaller than chunk size\n        chunkSize: [5000000, Type.INT], // Size of chunks (5MB default)\n        chunkRetryDelays: [[500, 1000, 3000], Type.ARRAY], // Amount of times to retry upload of a chunk when it fails\n\n        // The server api end points to use for uploading (see docs)\n        server: [null, Type.SERVER_API],\n\n        // File size calculations, can set to 1024, this is only used for display, properties use file size base 1000\n        fileSizeBase: [1000, Type.INT],\n\n        // Labels and status messages\n        labelFileSizeBytes: ['bytes', Type.STRING],\n        labelFileSizeKilobytes: ['KB', Type.STRING],\n        labelFileSizeMegabytes: ['MB', Type.STRING],\n        labelFileSizeGigabytes: ['GB', Type.STRING],\n\n        labelDecimalSeparator: [getDecimalSeparator(), Type.STRING], // Default is locale separator\n        labelThousandsSeparator: [getThousandsSeparator(), Type.STRING], // Default is locale separator\n\n        labelIdle: [\n            'Drag & Drop your files or <span class=\"filepond--label-action\">Browse</span>',\n            Type.STRING,\n        ],\n\n        labelInvalidField: ['Field contains invalid files', Type.STRING],\n        labelFileWaitingForSize: ['Waiting for size', Type.STRING],\n        labelFileSizeNotAvailable: ['Size not available', Type.STRING],\n        labelFileCountSingular: ['file in list', Type.STRING],\n        labelFileCountPlural: ['files in list', Type.STRING],\n        labelFileLoading: ['Loading', Type.STRING],\n        labelFileAdded: ['Added', Type.STRING], // assistive only\n        labelFileLoadError: ['Error during load', Type.STRING],\n        labelFileRemoved: ['Removed', Type.STRING], // assistive only\n        labelFileRemoveError: ['Error during remove', Type.STRING],\n        labelFileProcessing: ['Uploading', Type.STRING],\n        labelFileProcessingComplete: ['Upload complete', Type.STRING],\n        labelFileProcessingAborted: ['Upload cancelled', Type.STRING],\n        labelFileProcessingError: ['Error during upload', Type.STRING],\n        labelFileProcessingRevertError: ['Error during revert', Type.STRING],\n\n        labelTapToCancel: ['tap to cancel', Type.STRING],\n        labelTapToRetry: ['tap to retry', Type.STRING],\n        labelTapToUndo: ['tap to undo', Type.STRING],\n\n        labelButtonRemoveItem: ['Remove', Type.STRING],\n        labelButtonAbortItemLoad: ['Abort', Type.STRING],\n        labelButtonRetryItemLoad: ['Retry', Type.STRING],\n        labelButtonAbortItemProcessing: ['Cancel', Type.STRING],\n        labelButtonUndoItemProcessing: ['Undo', Type.STRING],\n        labelButtonRetryItemProcessing: ['Retry', Type.STRING],\n        labelButtonProcessItem: ['Upload', Type.STRING],\n\n        // make sure width and height plus viewpox are even numbers so icons are nicely centered\n        iconRemove: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconProcess: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z\" fill=\"currentColor\" fill-rule=\"evenodd\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconRetry: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconUndo: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconDone: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        // event handlers\n        oninit: [null, Type.FUNCTION],\n        onwarning: [null, Type.FUNCTION],\n        onerror: [null, Type.FUNCTION],\n        onactivatefile: [null, Type.FUNCTION],\n        oninitfile: [null, Type.FUNCTION],\n        onaddfilestart: [null, Type.FUNCTION],\n        onaddfileprogress: [null, Type.FUNCTION],\n        onaddfile: [null, Type.FUNCTION],\n        onprocessfilestart: [null, Type.FUNCTION],\n        onprocessfileprogress: [null, Type.FUNCTION],\n        onprocessfileabort: [null, Type.FUNCTION],\n        onprocessfilerevert: [null, Type.FUNCTION],\n        onprocessfile: [null, Type.FUNCTION],\n        onprocessfiles: [null, Type.FUNCTION],\n        onremovefile: [null, Type.FUNCTION],\n        onpreparefile: [null, Type.FUNCTION],\n        onupdatefiles: [null, Type.FUNCTION],\n        onreorderfiles: [null, Type.FUNCTION],\n\n        // hooks\n        beforeDropFile: [null, Type.FUNCTION],\n        beforeAddFile: [null, Type.FUNCTION],\n        beforeRemoveFile: [null, Type.FUNCTION],\n        beforePrepareFile: [null, Type.FUNCTION],\n\n        // styles\n        stylePanelLayout: [null, Type.STRING], // null 'integrated', 'compact', 'circle'\n        stylePanelAspectRatio: [null, Type.STRING], // null or '3:2' or 1\n        styleItemPanelAspectRatio: [null, Type.STRING],\n        styleButtonRemoveItemPosition: ['left', Type.STRING],\n        styleButtonProcessItemPosition: ['right', Type.STRING],\n        styleLoadIndicatorPosition: ['right', Type.STRING],\n        styleProgressIndicatorPosition: ['right', Type.STRING],\n        styleButtonRemoveItemAlign: [false, Type.BOOLEAN],\n\n        // custom initial files array\n        files: [[], Type.ARRAY],\n\n        // show support by displaying credits\n        credits: [['https://pqina.nl/', 'Powered by PQINA'], Type.ARRAY],\n    };\n\n    var getItemByQuery = function getItemByQuery(items, query) {\n        // just return first index\n        if (isEmpty(query)) {\n            return items[0] || null;\n        }\n\n        // query is index\n        if (isInt(query)) {\n            return items[query] || null;\n        }\n\n        // if query is item, get the id\n        if (typeof query === 'object') {\n            query = query.id;\n        }\n\n        // assume query is a string and return item by id\n        return (\n            items.find(function(item) {\n                return item.id === query;\n            }) || null\n        );\n    };\n\n    var getNumericAspectRatioFromString = function getNumericAspectRatioFromString(aspectRatio) {\n        if (isEmpty(aspectRatio)) {\n            return aspectRatio;\n        }\n        if (/:/.test(aspectRatio)) {\n            var parts = aspectRatio.split(':');\n            return parts[1] / parts[0];\n        }\n        return parseFloat(aspectRatio);\n    };\n\n    var getActiveItems = function getActiveItems(items) {\n        return items.filter(function(item) {\n            return !item.archived;\n        });\n    };\n\n    var Status = {\n        EMPTY: 0,\n        IDLE: 1, // waiting\n        ERROR: 2, // a file is in error state\n        BUSY: 3, // busy processing or loading\n        READY: 4, // all files uploaded\n    };\n\n    var res = null;\n    var canUpdateFileInput = function canUpdateFileInput() {\n        if (res === null) {\n            try {\n                var dataTransfer = new DataTransfer();\n                dataTransfer.items.add(new File(['hello world'], 'This_Works.txt'));\n                var el = document.createElement('input');\n                el.setAttribute('type', 'file');\n                el.files = dataTransfer.files;\n                res = el.files.length === 1;\n            } catch (err) {\n                res = false;\n            }\n        }\n        return res;\n    };\n\n    var ITEM_ERROR = [\n        ItemStatus.LOAD_ERROR,\n        ItemStatus.PROCESSING_ERROR,\n        ItemStatus.PROCESSING_REVERT_ERROR,\n    ];\n\n    var ITEM_BUSY = [\n        ItemStatus.LOADING,\n        ItemStatus.PROCESSING,\n        ItemStatus.PROCESSING_QUEUED,\n        ItemStatus.INIT,\n    ];\n\n    var ITEM_READY = [ItemStatus.PROCESSING_COMPLETE];\n\n    var isItemInErrorState = function isItemInErrorState(item) {\n        return ITEM_ERROR.includes(item.status);\n    };\n    var isItemInBusyState = function isItemInBusyState(item) {\n        return ITEM_BUSY.includes(item.status);\n    };\n    var isItemInReadyState = function isItemInReadyState(item) {\n        return ITEM_READY.includes(item.status);\n    };\n\n    var isAsync = function isAsync(state) {\n        return (\n            isObject(state.options.server) &&\n            (isObject(state.options.server.process) || isFunction(state.options.server.process))\n        );\n    };\n\n    var queries = function queries(state) {\n        return {\n            GET_STATUS: function GET_STATUS() {\n                var items = getActiveItems(state.items);\n                var EMPTY = Status.EMPTY,\n                    ERROR = Status.ERROR,\n                    BUSY = Status.BUSY,\n                    IDLE = Status.IDLE,\n                    READY = Status.READY;\n\n                if (items.length === 0) return EMPTY;\n\n                if (items.some(isItemInErrorState)) return ERROR;\n\n                if (items.some(isItemInBusyState)) return BUSY;\n\n                if (items.some(isItemInReadyState)) return READY;\n\n                return IDLE;\n            },\n\n            GET_ITEM: function GET_ITEM(query) {\n                return getItemByQuery(state.items, query);\n            },\n\n            GET_ACTIVE_ITEM: function GET_ACTIVE_ITEM(query) {\n                return getItemByQuery(getActiveItems(state.items), query);\n            },\n\n            GET_ACTIVE_ITEMS: function GET_ACTIVE_ITEMS() {\n                return getActiveItems(state.items);\n            },\n\n            GET_ITEMS: function GET_ITEMS() {\n                return state.items;\n            },\n\n            GET_ITEM_NAME: function GET_ITEM_NAME(query) {\n                var item = getItemByQuery(state.items, query);\n                return item ? item.filename : null;\n            },\n\n            GET_ITEM_SIZE: function GET_ITEM_SIZE(query) {\n                var item = getItemByQuery(state.items, query);\n                return item ? item.fileSize : null;\n            },\n\n            GET_STYLES: function GET_STYLES() {\n                return Object.keys(state.options)\n                    .filter(function(key) {\n                        return /^style/.test(key);\n                    })\n                    .map(function(option) {\n                        return {\n                            name: option,\n                            value: state.options[option],\n                        };\n                    });\n            },\n\n            GET_PANEL_ASPECT_RATIO: function GET_PANEL_ASPECT_RATIO() {\n                var isShapeCircle = /circle/.test(state.options.stylePanelLayout);\n                var aspectRatio = isShapeCircle\n                    ? 1\n                    : getNumericAspectRatioFromString(state.options.stylePanelAspectRatio);\n                return aspectRatio;\n            },\n\n            GET_ITEM_PANEL_ASPECT_RATIO: function GET_ITEM_PANEL_ASPECT_RATIO() {\n                return state.options.styleItemPanelAspectRatio;\n            },\n\n            GET_ITEMS_BY_STATUS: function GET_ITEMS_BY_STATUS(status) {\n                return getActiveItems(state.items).filter(function(item) {\n                    return item.status === status;\n                });\n            },\n\n            GET_TOTAL_ITEMS: function GET_TOTAL_ITEMS() {\n                return getActiveItems(state.items).length;\n            },\n\n            SHOULD_UPDATE_FILE_INPUT: function SHOULD_UPDATE_FILE_INPUT() {\n                return state.options.storeAsFile && canUpdateFileInput() && !isAsync(state);\n            },\n\n            IS_ASYNC: function IS_ASYNC() {\n                return isAsync(state);\n            },\n\n            GET_FILE_SIZE_LABELS: function GET_FILE_SIZE_LABELS(query) {\n                return {\n                    labelBytes: query('GET_LABEL_FILE_SIZE_BYTES') || undefined,\n                    labelKilobytes: query('GET_LABEL_FILE_SIZE_KILOBYTES') || undefined,\n                    labelMegabytes: query('GET_LABEL_FILE_SIZE_MEGABYTES') || undefined,\n                    labelGigabytes: query('GET_LABEL_FILE_SIZE_GIGABYTES') || undefined,\n                };\n            },\n        };\n    };\n\n    var hasRoomForItem = function hasRoomForItem(state) {\n        var count = getActiveItems(state.items).length;\n\n        // if cannot have multiple items, to add one item it should currently not contain items\n        if (!state.options.allowMultiple) {\n            return count === 0;\n        }\n\n        // if allows multiple items, we check if a max item count has been set, if not, there's no limit\n        var maxFileCount = state.options.maxFiles;\n        if (maxFileCount === null) {\n            return true;\n        }\n\n        // we check if the current count is smaller than the max count, if so, another file can still be added\n        if (count < maxFileCount) {\n            return true;\n        }\n\n        // no more room for another file\n        return false;\n    };\n\n    var limit = function limit(value, min, max) {\n        return Math.max(Math.min(max, value), min);\n    };\n\n    var arrayInsert = function arrayInsert(arr, index, item) {\n        return arr.splice(index, 0, item);\n    };\n\n    var insertItem = function insertItem(items, item, index) {\n        if (isEmpty(item)) {\n            return null;\n        }\n\n        // if index is undefined, append\n        if (typeof index === 'undefined') {\n            items.push(item);\n            return item;\n        }\n\n        // limit the index to the size of the items array\n        index = limit(index, 0, items.length);\n\n        // add item to array\n        arrayInsert(items, index, item);\n\n        // expose\n        return item;\n    };\n\n    var isBase64DataURI = function isBase64DataURI(str) {\n        return /^\\s*data:([a-z]+\\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s]*)\\s*$/i.test(\n            str\n        );\n    };\n\n    var getFilenameFromURL = function getFilenameFromURL(url) {\n        return url\n            .split('/')\n            .pop()\n            .split('?')\n            .shift();\n    };\n\n    var getExtensionFromFilename = function getExtensionFromFilename(name) {\n        return name.split('.').pop();\n    };\n\n    var guesstimateExtension = function guesstimateExtension(type) {\n        // if no extension supplied, exit here\n        if (typeof type !== 'string') {\n            return '';\n        }\n\n        // get subtype\n        var subtype = type.split('/').pop();\n\n        // is svg subtype\n        if (/svg/.test(subtype)) {\n            return 'svg';\n        }\n\n        if (/zip|compressed/.test(subtype)) {\n            return 'zip';\n        }\n\n        if (/plain/.test(subtype)) {\n            return 'txt';\n        }\n\n        if (/msword/.test(subtype)) {\n            return 'doc';\n        }\n\n        // if is valid subtype\n        if (/[a-z]+/.test(subtype)) {\n            // always use jpg extension\n            if (subtype === 'jpeg') {\n                return 'jpg';\n            }\n\n            // return subtype\n            return subtype;\n        }\n\n        return '';\n    };\n\n    var leftPad = function leftPad(value) {\n        var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n        return (padding + value).slice(-padding.length);\n    };\n\n    var getDateString = function getDateString() {\n        var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\n        return (\n            date.getFullYear() +\n            '-' +\n            leftPad(date.getMonth() + 1, '00') +\n            '-' +\n            leftPad(date.getDate(), '00') +\n            '_' +\n            leftPad(date.getHours(), '00') +\n            '-' +\n            leftPad(date.getMinutes(), '00') +\n            '-' +\n            leftPad(date.getSeconds(), '00')\n        );\n    };\n\n    var getFileFromBlob = function getFileFromBlob(blob, filename) {\n        var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        var extension = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n        var file =\n            typeof type === 'string'\n                ? blob.slice(0, blob.size, type)\n                : blob.slice(0, blob.size, blob.type);\n        file.lastModifiedDate = new Date();\n\n        // copy relative path\n        if (blob._relativePath) file._relativePath = blob._relativePath;\n\n        // if blob has name property, use as filename if no filename supplied\n        if (!isString(filename)) {\n            filename = getDateString();\n        }\n\n        // if filename supplied but no extension and filename has extension\n        if (filename && extension === null && getExtensionFromFilename(filename)) {\n            file.name = filename;\n        } else {\n            extension = extension || guesstimateExtension(file.type);\n            file.name = filename + (extension ? '.' + extension : '');\n        }\n\n        return file;\n    };\n\n    var getBlobBuilder = function getBlobBuilder() {\n        return (window.BlobBuilder =\n            window.BlobBuilder ||\n            window.WebKitBlobBuilder ||\n            window.MozBlobBuilder ||\n            window.MSBlobBuilder);\n    };\n\n    var createBlob = function createBlob(arrayBuffer, mimeType) {\n        var BB = getBlobBuilder();\n\n        if (BB) {\n            var bb = new BB();\n            bb.append(arrayBuffer);\n            return bb.getBlob(mimeType);\n        }\n\n        return new Blob([arrayBuffer], {\n            type: mimeType,\n        });\n    };\n\n    var getBlobFromByteStringWithMimeType = function getBlobFromByteStringWithMimeType(\n        byteString,\n        mimeType\n    ) {\n        var ab = new ArrayBuffer(byteString.length);\n        var ia = new Uint8Array(ab);\n\n        for (var i = 0; i < byteString.length; i++) {\n            ia[i] = byteString.charCodeAt(i);\n        }\n\n        return createBlob(ab, mimeType);\n    };\n\n    var getMimeTypeFromBase64DataURI = function getMimeTypeFromBase64DataURI(dataURI) {\n        return (/^data:(.+);/.exec(dataURI) || [])[1] || null;\n    };\n\n    var getBase64DataFromBase64DataURI = function getBase64DataFromBase64DataURI(dataURI) {\n        // get data part of string (remove data:image/jpeg...,)\n        var data = dataURI.split(',')[1];\n\n        // remove any whitespace as that causes InvalidCharacterError in IE\n        return data.replace(/\\s/g, '');\n    };\n\n    var getByteStringFromBase64DataURI = function getByteStringFromBase64DataURI(dataURI) {\n        return atob(getBase64DataFromBase64DataURI(dataURI));\n    };\n\n    var getBlobFromBase64DataURI = function getBlobFromBase64DataURI(dataURI) {\n        var mimeType = getMimeTypeFromBase64DataURI(dataURI);\n        var byteString = getByteStringFromBase64DataURI(dataURI);\n\n        return getBlobFromByteStringWithMimeType(byteString, mimeType);\n    };\n\n    var getFileFromBase64DataURI = function getFileFromBase64DataURI(dataURI, filename, extension) {\n        return getFileFromBlob(getBlobFromBase64DataURI(dataURI), filename, null, extension);\n    };\n\n    var getFileNameFromHeader = function getFileNameFromHeader(header) {\n        // test if is content disposition header, if not exit\n        if (!/^content-disposition:/i.test(header)) return null;\n\n        // get filename parts\n        var matches = header\n            .split(/filename=|filename\\*=.+''/)\n            .splice(1)\n            .map(function(name) {\n                return name.trim().replace(/^[\"']|[;\"']{0,2}$/g, '');\n            })\n            .filter(function(name) {\n                return name.length;\n            });\n\n        return matches.length ? decodeURI(matches[matches.length - 1]) : null;\n    };\n\n    var getFileSizeFromHeader = function getFileSizeFromHeader(header) {\n        if (/content-length:/i.test(header)) {\n            var size = header.match(/[0-9]+/)[0];\n            return size ? parseInt(size, 10) : null;\n        }\n        return null;\n    };\n\n    var getTranfserIdFromHeader = function getTranfserIdFromHeader(header) {\n        if (/x-content-transfer-id:/i.test(header)) {\n            var id = (header.split(':')[1] || '').trim();\n            return id || null;\n        }\n        return null;\n    };\n\n    var getFileInfoFromHeaders = function getFileInfoFromHeaders(headers) {\n        var info = {\n            source: null,\n            name: null,\n            size: null,\n        };\n\n        var rows = headers.split('\\n');\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n        try {\n            for (\n                var _iterator = rows[Symbol.iterator](), _step;\n                !(_iteratorNormalCompletion = (_step = _iterator.next()).done);\n                _iteratorNormalCompletion = true\n            ) {\n                var header = _step.value;\n\n                var name = getFileNameFromHeader(header);\n                if (name) {\n                    info.name = name;\n                    continue;\n                }\n\n                var size = getFileSizeFromHeader(header);\n                if (size) {\n                    info.size = size;\n                    continue;\n                }\n\n                var source = getTranfserIdFromHeader(header);\n                if (source) {\n                    info.source = source;\n                    continue;\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n\n        return info;\n    };\n\n    var createFileLoader = function createFileLoader(fetchFn) {\n        var state = {\n            source: null,\n            complete: false,\n            progress: 0,\n            size: null,\n            timestamp: null,\n            duration: 0,\n            request: null,\n        };\n\n        var getProgress = function getProgress() {\n            return state.progress;\n        };\n        var abort = function abort() {\n            if (state.request && state.request.abort) {\n                state.request.abort();\n            }\n        };\n\n        // load source\n        var load = function load() {\n            // get quick reference\n            var source = state.source;\n\n            api.fire('init', source);\n\n            // Load Files\n            if (source instanceof File) {\n                api.fire('load', source);\n            } else if (source instanceof Blob) {\n                // Load blobs, set default name to current date\n                api.fire('load', getFileFromBlob(source, source.name));\n            } else if (isBase64DataURI(source)) {\n                // Load base 64, set default name to current date\n                api.fire('load', getFileFromBase64DataURI(source));\n            } else {\n                // Deal as if is external URL, let's load it!\n                loadURL(source);\n            }\n        };\n\n        // loads a url\n        var loadURL = function loadURL(url) {\n            // is remote url and no fetch method supplied\n            if (!fetchFn) {\n                api.fire('error', {\n                    type: 'error',\n                    body: \"Can't load URL\",\n                    code: 400,\n                });\n\n                return;\n            }\n\n            // set request start\n            state.timestamp = Date.now();\n\n            // load file\n            state.request = fetchFn(\n                url,\n                function(response) {\n                    // update duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // done!\n                    state.complete = true;\n\n                    // turn blob response into a file\n                    if (response instanceof Blob) {\n                        response = getFileFromBlob(\n                            response,\n                            response.name || getFilenameFromURL(url)\n                        );\n                    }\n\n                    api.fire(\n                        'load',\n                        // if has received blob, we go with blob, if no response, we return null\n                        response instanceof Blob ? response : response ? response.body : null\n                    );\n                },\n                function(error) {\n                    api.fire(\n                        'error',\n                        typeof error === 'string'\n                            ? {\n                                  type: 'error',\n                                  code: 0,\n                                  body: error,\n                              }\n                            : error\n                    );\n                },\n                function(computable, current, total) {\n                    // collected some meta data already\n                    if (total) {\n                        state.size = total;\n                    }\n\n                    // update duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // if we can't compute progress, we're not going to fire progress events\n                    if (!computable) {\n                        state.progress = null;\n                        return;\n                    }\n\n                    // update progress percentage\n                    state.progress = current / total;\n\n                    // expose\n                    api.fire('progress', state.progress);\n                },\n                function() {\n                    api.fire('abort');\n                },\n                function(response) {\n                    var fileinfo = getFileInfoFromHeaders(\n                        typeof response === 'string' ? response : response.headers\n                    );\n                    api.fire('meta', {\n                        size: state.size || fileinfo.size,\n                        filename: fileinfo.name,\n                        source: fileinfo.source,\n                    });\n                }\n            );\n        };\n\n        var api = Object.assign({}, on(), {\n            setSource: function setSource(source) {\n                return (state.source = source);\n            },\n            getProgress: getProgress, // file load progress\n            abort: abort, // abort file load\n            load: load, // start load\n        });\n\n        return api;\n    };\n\n    var isGet = function isGet(method) {\n        return /GET|HEAD/.test(method);\n    };\n\n    var sendRequest = function sendRequest(data, url, options) {\n        var api = {\n            onheaders: function onheaders() {},\n            onprogress: function onprogress() {},\n            onload: function onload() {},\n            ontimeout: function ontimeout() {},\n            onerror: function onerror() {},\n            onabort: function onabort() {},\n            abort: function abort() {\n                aborted = true;\n                xhr.abort();\n            },\n        };\n\n        // timeout identifier, only used when timeout is defined\n        var aborted = false;\n        var headersReceived = false;\n\n        // set default options\n        options = Object.assign(\n            {\n                method: 'POST',\n                headers: {},\n                withCredentials: false,\n            },\n            options\n        );\n\n        // encode url\n        url = encodeURI(url);\n\n        // if method is GET, add any received data to url\n\n        if (isGet(options.method) && data) {\n            url =\n                '' +\n                url +\n                encodeURIComponent(typeof data === 'string' ? data : JSON.stringify(data));\n        }\n\n        // create request\n        var xhr = new XMLHttpRequest();\n\n        // progress of load\n        var process = isGet(options.method) ? xhr : xhr.upload;\n        process.onprogress = function(e) {\n            // no progress event when aborted ( onprogress is called once after abort() )\n            if (aborted) {\n                return;\n            }\n\n            api.onprogress(e.lengthComputable, e.loaded, e.total);\n        };\n\n        // tries to get header info to the app as fast as possible\n        xhr.onreadystatechange = function() {\n            // not interesting in these states ('unsent' and 'openend' as they don't give us any additional info)\n            if (xhr.readyState < 2) {\n                return;\n            }\n\n            // no server response\n            if (xhr.readyState === 4 && xhr.status === 0) {\n                return;\n            }\n\n            if (headersReceived) {\n                return;\n            }\n\n            headersReceived = true;\n\n            // we've probably received some useful data in response headers\n            api.onheaders(xhr);\n        };\n\n        // load successful\n        xhr.onload = function() {\n            // is classified as valid response\n            if (xhr.status >= 200 && xhr.status < 300) {\n                api.onload(xhr);\n            } else {\n                api.onerror(xhr);\n            }\n        };\n\n        // error during load\n        xhr.onerror = function() {\n            return api.onerror(xhr);\n        };\n\n        // request aborted\n        xhr.onabort = function() {\n            aborted = true;\n            api.onabort();\n        };\n\n        // request timeout\n        xhr.ontimeout = function() {\n            return api.ontimeout(xhr);\n        };\n\n        // open up open up!\n        xhr.open(options.method, url, true);\n\n        // set timeout if defined (do it after open so IE11 plays ball)\n        if (isInt(options.timeout)) {\n            xhr.timeout = options.timeout;\n        }\n\n        // add headers\n        Object.keys(options.headers).forEach(function(key) {\n            var value = unescape(encodeURIComponent(options.headers[key]));\n            xhr.setRequestHeader(key, value);\n        });\n\n        // set type of response\n        if (options.responseType) {\n            xhr.responseType = options.responseType;\n        }\n\n        // set credentials\n        if (options.withCredentials) {\n            xhr.withCredentials = true;\n        }\n\n        // let's send our data\n        xhr.send(data);\n\n        return api;\n    };\n\n    var createResponse = function createResponse(type, code, body, headers) {\n        return {\n            type: type,\n            code: code,\n            body: body,\n            headers: headers,\n        };\n    };\n\n    var createTimeoutResponse = function createTimeoutResponse(cb) {\n        return function(xhr) {\n            cb(createResponse('error', 0, 'Timeout', xhr.getAllResponseHeaders()));\n        };\n    };\n\n    var hasQS = function hasQS(str) {\n        return /\\?/.test(str);\n    };\n    var buildURL = function buildURL() {\n        var url = '';\n        for (var _len = arguments.length, parts = new Array(_len), _key = 0; _key < _len; _key++) {\n            parts[_key] = arguments[_key];\n        }\n        parts.forEach(function(part) {\n            url += hasQS(url) && hasQS(part) ? part.replace(/\\?/, '&') : part;\n        });\n        return url;\n    };\n\n    var createFetchFunction = function createFetchFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        // custom handler (should also handle file, load, error, progress and abort)\n        if (typeof action === 'function') {\n            return action;\n        }\n\n        // no action supplied\n        if (!action || !isString(action.url)) {\n            return null;\n        }\n\n        // set onload hanlder\n        var onload =\n            action.onload ||\n            function(res) {\n                return res;\n            };\n        var onerror =\n            action.onerror ||\n            function(res) {\n                return null;\n            };\n\n        // internal handler\n        return function(url, load, error, progress, abort, headers) {\n            // do local or remote request based on if the url is external\n            var request = sendRequest(\n                url,\n                buildURL(apiUrl, action.url),\n                Object.assign({}, action, {\n                    responseType: 'blob',\n                })\n            );\n\n            request.onload = function(xhr) {\n                // get headers\n                var headers = xhr.getAllResponseHeaders();\n\n                // get filename\n                var filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);\n\n                // create response\n                load(\n                    createResponse(\n                        'load',\n                        xhr.status,\n                        action.method === 'HEAD'\n                            ? null\n                            : getFileFromBlob(onload(xhr.response), filename),\n                        headers\n                    )\n                );\n            };\n\n            request.onerror = function(xhr) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.onheaders = function(xhr) {\n                headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n            request.onprogress = progress;\n            request.onabort = abort;\n\n            // should return request\n            return request;\n        };\n    };\n\n    var ChunkStatus = {\n        QUEUED: 0,\n        COMPLETE: 1,\n        PROCESSING: 2,\n        ERROR: 3,\n        WAITING: 4,\n    };\n\n    /*\n                                                       function signature:\n                                                         (file, metadata, load, error, progress, abort, transfer, options) => {\n                                                           return {\n                                                           abort:() => {}\n                                                         }\n                                                       }\n                                                       */\n\n    // apiUrl, action, name, file, metadata, load, error, progress, abort, transfer, options\n    var processFileChunked = function processFileChunked(\n        apiUrl,\n        action,\n        name,\n        file,\n        metadata,\n        load,\n        error,\n        progress,\n        abort,\n        transfer,\n        options\n    ) {\n        // all chunks\n        var chunks = [];\n        var chunkTransferId = options.chunkTransferId,\n            chunkServer = options.chunkServer,\n            chunkSize = options.chunkSize,\n            chunkRetryDelays = options.chunkRetryDelays;\n\n        // default state\n        var state = {\n            serverId: chunkTransferId,\n            aborted: false,\n        };\n\n        // set onload handlers\n        var ondata =\n            action.ondata ||\n            function(fd) {\n                return fd;\n            };\n        var onload =\n            action.onload ||\n            function(xhr, method) {\n                return method === 'HEAD' ? xhr.getResponseHeader('Upload-Offset') : xhr.response;\n            };\n        var onerror =\n            action.onerror ||\n            function(res) {\n                return null;\n            };\n\n        // create server hook\n        var requestTransferId = function requestTransferId(cb) {\n            var formData = new FormData();\n\n            // add metadata under same name\n            if (isObject(metadata)) formData.append(name, JSON.stringify(metadata));\n\n            var headers =\n                typeof action.headers === 'function'\n                    ? action.headers(file, metadata)\n                    : Object.assign({}, action.headers, {\n                          'Upload-Length': file.size,\n                      });\n\n            var requestParams = Object.assign({}, action, {\n                headers: headers,\n            });\n\n            // send request object\n            var request = sendRequest(\n                ondata(formData),\n                buildURL(apiUrl, action.url),\n                requestParams\n            );\n\n            request.onload = function(xhr) {\n                return cb(onload(xhr, requestParams.method));\n            };\n\n            request.onerror = function(xhr) {\n                return error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n        };\n\n        var requestTransferOffset = function requestTransferOffset(cb) {\n            var requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n\n            var headers =\n                typeof action.headers === 'function'\n                    ? action.headers(state.serverId)\n                    : Object.assign({}, action.headers);\n\n            var requestParams = {\n                headers: headers,\n                method: 'HEAD',\n            };\n\n            var request = sendRequest(null, requestUrl, requestParams);\n\n            request.onload = function(xhr) {\n                return cb(onload(xhr, requestParams.method));\n            };\n\n            request.onerror = function(xhr) {\n                return error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n        };\n\n        // create chunks\n        var lastChunkIndex = Math.floor(file.size / chunkSize);\n        for (var i = 0; i <= lastChunkIndex; i++) {\n            var offset = i * chunkSize;\n            var data = file.slice(offset, offset + chunkSize, 'application/offset+octet-stream');\n            chunks[i] = {\n                index: i,\n                size: data.size,\n                offset: offset,\n                data: data,\n                file: file,\n                progress: 0,\n                retries: _toConsumableArray(chunkRetryDelays),\n                status: ChunkStatus.QUEUED,\n                error: null,\n                request: null,\n                timeout: null,\n            };\n        }\n\n        var completeProcessingChunks = function completeProcessingChunks() {\n            return load(state.serverId);\n        };\n\n        var canProcessChunk = function canProcessChunk(chunk) {\n            return chunk.status === ChunkStatus.QUEUED || chunk.status === ChunkStatus.ERROR;\n        };\n\n        var processChunk = function processChunk(chunk) {\n            // processing is paused, wait here\n            if (state.aborted) return;\n\n            // get next chunk to process\n            chunk = chunk || chunks.find(canProcessChunk);\n\n            // no more chunks to process\n            if (!chunk) {\n                // all done?\n                if (\n                    chunks.every(function(chunk) {\n                        return chunk.status === ChunkStatus.COMPLETE;\n                    })\n                ) {\n                    completeProcessingChunks();\n                }\n\n                // no chunk to handle\n                return;\n            }\n\n            // now processing this chunk\n            chunk.status = ChunkStatus.PROCESSING;\n            chunk.progress = null;\n\n            // allow parsing of formdata\n            var ondata =\n                chunkServer.ondata ||\n                function(fd) {\n                    return fd;\n                };\n            var onerror =\n                chunkServer.onerror ||\n                function(res) {\n                    return null;\n                };\n\n            // send request object\n            var requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n\n            var headers =\n                typeof chunkServer.headers === 'function'\n                    ? chunkServer.headers(chunk)\n                    : Object.assign({}, chunkServer.headers, {\n                          'Content-Type': 'application/offset+octet-stream',\n                          'Upload-Offset': chunk.offset,\n                          'Upload-Length': file.size,\n                          'Upload-Name': file.name,\n                      });\n\n            var request = (chunk.request = sendRequest(\n                ondata(chunk.data),\n                requestUrl,\n                Object.assign({}, chunkServer, {\n                    headers: headers,\n                })\n            ));\n\n            request.onload = function() {\n                // done!\n                chunk.status = ChunkStatus.COMPLETE;\n\n                // remove request reference\n                chunk.request = null;\n\n                // start processing more chunks\n                processChunks();\n            };\n\n            request.onprogress = function(lengthComputable, loaded, total) {\n                chunk.progress = lengthComputable ? loaded : null;\n                updateTotalProgress();\n            };\n\n            request.onerror = function(xhr) {\n                chunk.status = ChunkStatus.ERROR;\n                chunk.request = null;\n                chunk.error = onerror(xhr.response) || xhr.statusText;\n                if (!retryProcessChunk(chunk)) {\n                    error(\n                        createResponse(\n                            'error',\n                            xhr.status,\n                            onerror(xhr.response) || xhr.statusText,\n                            xhr.getAllResponseHeaders()\n                        )\n                    );\n                }\n            };\n\n            request.ontimeout = function(xhr) {\n                chunk.status = ChunkStatus.ERROR;\n                chunk.request = null;\n                if (!retryProcessChunk(chunk)) {\n                    createTimeoutResponse(error)(xhr);\n                }\n            };\n\n            request.onabort = function() {\n                chunk.status = ChunkStatus.QUEUED;\n                chunk.request = null;\n                abort();\n            };\n        };\n\n        var retryProcessChunk = function retryProcessChunk(chunk) {\n            // no more retries left\n            if (chunk.retries.length === 0) return false;\n\n            // new retry\n            chunk.status = ChunkStatus.WAITING;\n            clearTimeout(chunk.timeout);\n            chunk.timeout = setTimeout(function() {\n                processChunk(chunk);\n            }, chunk.retries.shift());\n\n            // we're going to retry\n            return true;\n        };\n\n        var updateTotalProgress = function updateTotalProgress() {\n            // calculate total progress fraction\n            var totalBytesTransfered = chunks.reduce(function(p, chunk) {\n                if (p === null || chunk.progress === null) return null;\n                return p + chunk.progress;\n            }, 0);\n\n            // can't compute progress\n            if (totalBytesTransfered === null) return progress(false, 0, 0);\n\n            // calculate progress values\n            var totalSize = chunks.reduce(function(total, chunk) {\n                return total + chunk.size;\n            }, 0);\n\n            // can update progress indicator\n            progress(true, totalBytesTransfered, totalSize);\n        };\n\n        // process new chunks\n        var processChunks = function processChunks() {\n            var totalProcessing = chunks.filter(function(chunk) {\n                return chunk.status === ChunkStatus.PROCESSING;\n            }).length;\n            if (totalProcessing >= 1) return;\n            processChunk();\n        };\n\n        var abortChunks = function abortChunks() {\n            chunks.forEach(function(chunk) {\n                clearTimeout(chunk.timeout);\n                if (chunk.request) {\n                    chunk.request.abort();\n                }\n            });\n        };\n\n        // let's go!\n        if (!state.serverId) {\n            requestTransferId(function(serverId) {\n                // stop here if aborted, might have happened in between request and callback\n                if (state.aborted) return;\n\n                // pass back to item so we can use it if something goes wrong\n                transfer(serverId);\n\n                // store internally\n                state.serverId = serverId;\n                processChunks();\n            });\n        } else {\n            requestTransferOffset(function(offset) {\n                // stop here if aborted, might have happened in between request and callback\n                if (state.aborted) return;\n\n                // mark chunks with lower offset as complete\n                chunks\n                    .filter(function(chunk) {\n                        return chunk.offset < offset;\n                    })\n                    .forEach(function(chunk) {\n                        chunk.status = ChunkStatus.COMPLETE;\n                        chunk.progress = chunk.size;\n                    });\n\n                // continue processing\n                processChunks();\n            });\n        }\n\n        return {\n            abort: function abort() {\n                state.aborted = true;\n                abortChunks();\n            },\n        };\n    };\n\n    /*\n                                                               function signature:\n                                                                 (file, metadata, load, error, progress, abort) => {\n                                                                   return {\n                                                                   abort:() => {}\n                                                                 }\n                                                               }\n                                                               */\n    var createFileProcessorFunction = function createFileProcessorFunction(\n        apiUrl,\n        action,\n        name,\n        options\n    ) {\n        return function(file, metadata, load, error, progress, abort, transfer) {\n            // no file received\n            if (!file) return;\n\n            // if was passed a file, and we can chunk it, exit here\n            var canChunkUpload = options.chunkUploads;\n            var shouldChunkUpload = canChunkUpload && file.size > options.chunkSize;\n            var willChunkUpload = canChunkUpload && (shouldChunkUpload || options.chunkForce);\n            if (file instanceof Blob && willChunkUpload)\n                return processFileChunked(\n                    apiUrl,\n                    action,\n                    name,\n                    file,\n                    metadata,\n                    load,\n                    error,\n                    progress,\n                    abort,\n                    transfer,\n                    options\n                );\n\n            // set handlers\n            var ondata =\n                action.ondata ||\n                function(fd) {\n                    return fd;\n                };\n            var onload =\n                action.onload ||\n                function(res) {\n                    return res;\n                };\n            var onerror =\n                action.onerror ||\n                function(res) {\n                    return null;\n                };\n\n            var headers =\n                typeof action.headers === 'function'\n                    ? action.headers(file, metadata) || {}\n                    : Object.assign(\n                          {},\n\n                          action.headers\n                      );\n\n            var requestParams = Object.assign({}, action, {\n                headers: headers,\n            });\n\n            // create formdata object\n            var formData = new FormData();\n\n            // add metadata under same name\n            if (isObject(metadata)) {\n                formData.append(name, JSON.stringify(metadata));\n            }\n\n            // Turn into an array of objects so no matter what the input, we can handle it the same way\n            (file instanceof Blob ? [{ name: null, file: file }] : file).forEach(function(item) {\n                formData.append(\n                    name,\n                    item.file,\n                    item.name === null ? item.file.name : '' + item.name + item.file.name\n                );\n            });\n\n            // send request object\n            var request = sendRequest(\n                ondata(formData),\n                buildURL(apiUrl, action.url),\n                requestParams\n            );\n            request.onload = function(xhr) {\n                load(\n                    createResponse(\n                        'load',\n                        xhr.status,\n                        onload(xhr.response),\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.onerror = function(xhr) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n            request.onprogress = progress;\n            request.onabort = abort;\n\n            // should return request\n            return request;\n        };\n    };\n\n    var createProcessorFunction = function createProcessorFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        var name = arguments.length > 2 ? arguments[2] : undefined;\n        var options = arguments.length > 3 ? arguments[3] : undefined;\n\n        // custom handler (should also handle file, load, error, progress and abort)\n        if (typeof action === 'function')\n            return function() {\n                for (\n                    var _len = arguments.length, params = new Array(_len), _key = 0;\n                    _key < _len;\n                    _key++\n                ) {\n                    params[_key] = arguments[_key];\n                }\n                return action.apply(void 0, [name].concat(params, [options]));\n            };\n\n        // no action supplied\n        if (!action || !isString(action.url)) return null;\n\n        // internal handler\n        return createFileProcessorFunction(apiUrl, action, name, options);\n    };\n\n    /*\n                                                      function signature:\n                                                      (uniqueFileId, load, error) => { }\n                                                      */\n    var createRevertFunction = function createRevertFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        // is custom implementation\n        if (typeof action === 'function') {\n            return action;\n        }\n\n        // no action supplied, return stub function, interface will work, but file won't be removed\n        if (!action || !isString(action.url)) {\n            return function(uniqueFileId, load) {\n                return load();\n            };\n        }\n\n        // set onload hanlder\n        var onload =\n            action.onload ||\n            function(res) {\n                return res;\n            };\n        var onerror =\n            action.onerror ||\n            function(res) {\n                return null;\n            };\n\n        // internal implementation\n        return function(uniqueFileId, load, error) {\n            var request = sendRequest(\n                uniqueFileId,\n                apiUrl + action.url,\n                action // contains method, headers and withCredentials properties\n            );\n            request.onload = function(xhr) {\n                load(\n                    createResponse(\n                        'load',\n                        xhr.status,\n                        onload(xhr.response),\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.onerror = function(xhr) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n\n            return request;\n        };\n    };\n\n    var getRandomNumber = function getRandomNumber() {\n        var min = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n        return min + Math.random() * (max - min);\n    };\n\n    var createPerceivedPerformanceUpdater = function createPerceivedPerformanceUpdater(cb) {\n        var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n        var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        var tickMin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 25;\n        var tickMax = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;\n        var timeout = null;\n        var start = Date.now();\n\n        var tick = function tick() {\n            var runtime = Date.now() - start;\n            var delay = getRandomNumber(tickMin, tickMax);\n\n            if (runtime + delay > duration) {\n                delay = runtime + delay - duration;\n            }\n\n            var progress = runtime / duration;\n            if (progress >= 1 || document.hidden) {\n                cb(1);\n                return;\n            }\n\n            cb(progress);\n\n            timeout = setTimeout(tick, delay);\n        };\n\n        if (duration > 0) tick();\n\n        return {\n            clear: function clear() {\n                clearTimeout(timeout);\n            },\n        };\n    };\n\n    var createFileProcessor = function createFileProcessor(processFn, options) {\n        var state = {\n            complete: false,\n            perceivedProgress: 0,\n            perceivedPerformanceUpdater: null,\n            progress: null,\n            timestamp: null,\n            perceivedDuration: 0,\n            duration: 0,\n            request: null,\n            response: null,\n        };\n        var allowMinimumUploadDuration = options.allowMinimumUploadDuration;\n\n        var process = function process(file, metadata) {\n            var progressFn = function progressFn() {\n                // we've not yet started the real download, stop here\n                // the request might not go through, for instance, there might be some server trouble\n                // if state.progress is null, the server does not allow computing progress and we show the spinner instead\n                if (state.duration === 0 || state.progress === null) return;\n\n                // as we're now processing, fire the progress event\n                api.fire('progress', api.getProgress());\n            };\n\n            var completeFn = function completeFn() {\n                state.complete = true;\n                api.fire('load-perceived', state.response.body);\n            };\n\n            // let's start processing\n            api.fire('start');\n\n            // set request start\n            state.timestamp = Date.now();\n\n            // create perceived performance progress indicator\n            state.perceivedPerformanceUpdater = createPerceivedPerformanceUpdater(\n                function(progress) {\n                    state.perceivedProgress = progress;\n                    state.perceivedDuration = Date.now() - state.timestamp;\n\n                    progressFn();\n\n                    // if fake progress is done, and a response has been received,\n                    // and we've not yet called the complete method\n                    if (state.response && state.perceivedProgress === 1 && !state.complete) {\n                        // we done!\n                        completeFn();\n                    }\n                },\n                // random delay as in a list of files you start noticing\n                // files uploading at the exact same speed\n                allowMinimumUploadDuration ? getRandomNumber(750, 1500) : 0\n            );\n\n            // remember request so we can abort it later\n            state.request = processFn(\n                // the file to process\n                file,\n\n                // the metadata to send along\n                metadata,\n\n                // callbacks (load, error, progress, abort, transfer)\n                // load expects the body to be a server id if\n                // you want to make use of revert\n                function(response) {\n                    // we put the response in state so we can access\n                    // it outside of this method\n                    state.response = isObject(response)\n                        ? response\n                        : {\n                              type: 'load',\n                              code: 200,\n                              body: '' + response,\n                              headers: {},\n                          };\n\n                    // update duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // force progress to 1 as we're now done\n                    state.progress = 1;\n\n                    // actual load is done let's share results\n                    api.fire('load', state.response.body);\n\n                    // we are really done\n                    // if perceived progress is 1 ( wait for perceived progress to complete )\n                    // or if server does not support progress ( null )\n                    if (\n                        !allowMinimumUploadDuration ||\n                        (allowMinimumUploadDuration && state.perceivedProgress === 1)\n                    ) {\n                        completeFn();\n                    }\n                },\n\n                // error is expected to be an object with type, code, body\n                function(error) {\n                    // cancel updater\n                    state.perceivedPerformanceUpdater.clear();\n\n                    // update others about this error\n                    api.fire(\n                        'error',\n                        isObject(error)\n                            ? error\n                            : {\n                                  type: 'error',\n                                  code: 0,\n                                  body: '' + error,\n                              }\n                    );\n                },\n\n                // actual processing progress\n                function(computable, current, total) {\n                    // update actual duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // update actual progress\n                    state.progress = computable ? current / total : null;\n\n                    progressFn();\n                },\n\n                // abort does not expect a value\n                function() {\n                    // stop updater\n                    state.perceivedPerformanceUpdater.clear();\n\n                    // fire the abort event so we can switch visuals\n                    api.fire('abort', state.response ? state.response.body : null);\n                },\n\n                // register the id for this transfer\n                function(transferId) {\n                    api.fire('transfer', transferId);\n                }\n            );\n        };\n\n        var abort = function abort() {\n            // no request running, can't abort\n            if (!state.request) return;\n\n            // stop updater\n            state.perceivedPerformanceUpdater.clear();\n\n            // abort actual request\n            if (state.request.abort) state.request.abort();\n\n            // if has response object, we've completed the request\n            state.complete = true;\n        };\n\n        var reset = function reset() {\n            abort();\n            state.complete = false;\n            state.perceivedProgress = 0;\n            state.progress = 0;\n            state.timestamp = null;\n            state.perceivedDuration = 0;\n            state.duration = 0;\n            state.request = null;\n            state.response = null;\n        };\n\n        var getProgress = allowMinimumUploadDuration\n            ? function() {\n                  return state.progress ? Math.min(state.progress, state.perceivedProgress) : null;\n              }\n            : function() {\n                  return state.progress || null;\n              };\n\n        var getDuration = allowMinimumUploadDuration\n            ? function() {\n                  return Math.min(state.duration, state.perceivedDuration);\n              }\n            : function() {\n                  return state.duration;\n              };\n\n        var api = Object.assign({}, on(), {\n            process: process, // start processing file\n            abort: abort, // abort active process request\n            getProgress: getProgress,\n            getDuration: getDuration,\n            reset: reset,\n        });\n\n        return api;\n    };\n\n    var getFilenameWithoutExtension = function getFilenameWithoutExtension(name) {\n        return name.substring(0, name.lastIndexOf('.')) || name;\n    };\n\n    var createFileStub = function createFileStub(source) {\n        var data = [source.name, source.size, source.type];\n\n        // is blob or base64, then we need to set the name\n        if (source instanceof Blob || isBase64DataURI(source)) {\n            data[0] = source.name || getDateString();\n        } else if (isBase64DataURI(source)) {\n            // if is base64 data uri we need to determine the average size and type\n            data[1] = source.length;\n            data[2] = getMimeTypeFromBase64DataURI(source);\n        } else if (isString(source)) {\n            // url\n            data[0] = getFilenameFromURL(source);\n            data[1] = 0;\n            data[2] = 'application/octet-stream';\n        }\n\n        return {\n            name: data[0],\n            size: data[1],\n            type: data[2],\n        };\n    };\n\n    var isFile = function isFile(value) {\n        return !!(value instanceof File || (value instanceof Blob && value.name));\n    };\n\n    var deepCloneObject = function deepCloneObject(src) {\n        if (!isObject(src)) return src;\n        var target = isArray(src) ? [] : {};\n        for (var key in src) {\n            if (!src.hasOwnProperty(key)) continue;\n            var v = src[key];\n            target[key] = v && isObject(v) ? deepCloneObject(v) : v;\n        }\n        return target;\n    };\n\n    var createItem = function createItem() {\n        var origin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var serverFileReference =\n            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var file = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        // unique id for this item, is used to identify the item across views\n        var id = getUniqueId();\n\n        /**\n         * Internal item state\n         */\n        var state = {\n            // is archived\n            archived: false,\n\n            // if is frozen, no longer fires events\n            frozen: false,\n\n            // removed from view\n            released: false,\n\n            // original source\n            source: null,\n\n            // file model reference\n            file: file,\n\n            // id of file on server\n            serverFileReference: serverFileReference,\n\n            // id of file transfer on server\n            transferId: null,\n\n            // is aborted\n            processingAborted: false,\n\n            // current item status\n            status: serverFileReference ? ItemStatus.PROCESSING_COMPLETE : ItemStatus.INIT,\n\n            // active processes\n            activeLoader: null,\n            activeProcessor: null,\n        };\n\n        // callback used when abort processing is called to link back to the resolve method\n        var abortProcessingRequestComplete = null;\n\n        /**\n         * Externally added item metadata\n         */\n        var metadata = {};\n\n        // item data\n        var setStatus = function setStatus(status) {\n            return (state.status = status);\n        };\n\n        // fire event unless the item has been archived\n        var fire = function fire(event) {\n            if (state.released || state.frozen) return;\n            for (\n                var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1;\n                _key < _len;\n                _key++\n            ) {\n                params[_key - 1] = arguments[_key];\n            }\n            api.fire.apply(api, [event].concat(params));\n        };\n\n        // file data\n        var getFileExtension = function getFileExtension() {\n            return getExtensionFromFilename(state.file.name);\n        };\n        var getFileType = function getFileType() {\n            return state.file.type;\n        };\n        var getFileSize = function getFileSize() {\n            return state.file.size;\n        };\n        var getFile = function getFile() {\n            return state.file;\n        };\n\n        //\n        // logic to load a file\n        //\n        var load = function load(source, loader, onload) {\n            // remember the original item source\n            state.source = source;\n\n            // source is known\n            api.fireSync('init');\n\n            // file stub is already there\n            if (state.file) {\n                api.fireSync('load-skip');\n                return;\n            }\n\n            // set a stub file object while loading the actual data\n            state.file = createFileStub(source);\n\n            // starts loading\n            loader.on('init', function() {\n                fire('load-init');\n            });\n\n            // we'eve received a size indication, let's update the stub\n            loader.on('meta', function(meta) {\n                // set size of file stub\n                state.file.size = meta.size;\n\n                // set name of file stub\n                state.file.filename = meta.filename;\n\n                // if has received source, we done\n                if (meta.source) {\n                    origin = FileOrigin.LIMBO;\n                    state.serverFileReference = meta.source;\n                    state.status = ItemStatus.PROCESSING_COMPLETE;\n                }\n\n                // size has been updated\n                fire('load-meta');\n            });\n\n            // the file is now loading we need to update the progress indicators\n            loader.on('progress', function(progress) {\n                setStatus(ItemStatus.LOADING);\n\n                fire('load-progress', progress);\n            });\n\n            // an error was thrown while loading the file, we need to switch to error state\n            loader.on('error', function(error) {\n                setStatus(ItemStatus.LOAD_ERROR);\n\n                fire('load-request-error', error);\n            });\n\n            // user or another process aborted the file load (cannot retry)\n            loader.on('abort', function() {\n                setStatus(ItemStatus.INIT);\n                fire('load-abort');\n            });\n\n            // done loading\n            loader.on('load', function(file) {\n                // as we've now loaded the file the loader is no longer required\n                state.activeLoader = null;\n\n                // called when file has loaded succesfully\n                var success = function success(result) {\n                    // set (possibly) transformed file\n                    state.file = isFile(result) ? result : state.file;\n\n                    // file received\n                    if (origin === FileOrigin.LIMBO && state.serverFileReference) {\n                        setStatus(ItemStatus.PROCESSING_COMPLETE);\n                    } else {\n                        setStatus(ItemStatus.IDLE);\n                    }\n\n                    fire('load');\n                };\n\n                var error = function error(result) {\n                    // set original file\n                    state.file = file;\n                    fire('load-meta');\n\n                    setStatus(ItemStatus.LOAD_ERROR);\n                    fire('load-file-error', result);\n                };\n\n                // if we already have a server file reference, we don't need to call the onload method\n                if (state.serverFileReference) {\n                    success(file);\n                    return;\n                }\n\n                // no server id, let's give this file the full treatment\n                onload(file, success, error);\n            });\n\n            // set loader source data\n            loader.setSource(source);\n\n            // set as active loader\n            state.activeLoader = loader;\n\n            // load the source data\n            loader.load();\n        };\n\n        var retryLoad = function retryLoad() {\n            if (!state.activeLoader) {\n                return;\n            }\n            state.activeLoader.load();\n        };\n\n        var abortLoad = function abortLoad() {\n            if (state.activeLoader) {\n                state.activeLoader.abort();\n                return;\n            }\n            setStatus(ItemStatus.INIT);\n            fire('load-abort');\n        };\n\n        //\n        // logic to process a file\n        //\n        var process = function process(processor, onprocess) {\n            // processing was aborted\n            if (state.processingAborted) {\n                state.processingAborted = false;\n                return;\n            }\n\n            // now processing\n            setStatus(ItemStatus.PROCESSING);\n\n            // reset abort callback\n            abortProcessingRequestComplete = null;\n\n            // if no file loaded we'll wait for the load event\n            if (!(state.file instanceof Blob)) {\n                api.on('load', function() {\n                    process(processor, onprocess);\n                });\n                return;\n            }\n\n            // setup processor\n            processor.on('load', function(serverFileReference) {\n                // need this id to be able to revert the upload\n                state.transferId = null;\n                state.serverFileReference = serverFileReference;\n            });\n\n            // register transfer id\n            processor.on('transfer', function(transferId) {\n                // need this id to be able to revert the upload\n                state.transferId = transferId;\n            });\n\n            processor.on('load-perceived', function(serverFileReference) {\n                // no longer required\n                state.activeProcessor = null;\n\n                // need this id to be able to rever the upload\n                state.transferId = null;\n                state.serverFileReference = serverFileReference;\n\n                setStatus(ItemStatus.PROCESSING_COMPLETE);\n                fire('process-complete', serverFileReference);\n            });\n\n            processor.on('start', function() {\n                fire('process-start');\n            });\n\n            processor.on('error', function(error) {\n                state.activeProcessor = null;\n                setStatus(ItemStatus.PROCESSING_ERROR);\n                fire('process-error', error);\n            });\n\n            processor.on('abort', function(serverFileReference) {\n                state.activeProcessor = null;\n\n                // if file was uploaded but processing was cancelled during perceived processor time store file reference\n                state.serverFileReference = serverFileReference;\n\n                setStatus(ItemStatus.IDLE);\n                fire('process-abort');\n\n                // has timeout so doesn't interfere with remove action\n                if (abortProcessingRequestComplete) {\n                    abortProcessingRequestComplete();\n                }\n            });\n\n            processor.on('progress', function(progress) {\n                fire('process-progress', progress);\n            });\n\n            // when successfully transformed\n            var success = function success(file) {\n                // if was archived in the mean time, don't process\n                if (state.archived) return;\n\n                // process file!\n                processor.process(file, Object.assign({}, metadata));\n            };\n\n            // something went wrong during transform phase\n            var error = console.error;\n\n            // start processing the file\n            onprocess(state.file, success, error);\n\n            // set as active processor\n            state.activeProcessor = processor;\n        };\n\n        var requestProcessing = function requestProcessing() {\n            state.processingAborted = false;\n            setStatus(ItemStatus.PROCESSING_QUEUED);\n        };\n\n        var abortProcessing = function abortProcessing() {\n            return new Promise(function(resolve) {\n                if (!state.activeProcessor) {\n                    state.processingAborted = true;\n\n                    setStatus(ItemStatus.IDLE);\n                    fire('process-abort');\n\n                    resolve();\n                    return;\n                }\n\n                abortProcessingRequestComplete = function abortProcessingRequestComplete() {\n                    resolve();\n                };\n\n                state.activeProcessor.abort();\n            });\n        };\n\n        //\n        // logic to revert a processed file\n        //\n        var revert = function revert(revertFileUpload, forceRevert) {\n            return new Promise(function(resolve, reject) {\n                // a completed upload will have a serverFileReference, a failed chunked upload where\n                // getting a serverId succeeded but >=0 chunks have been uploaded will have transferId set\n                var serverTransferId =\n                    state.serverFileReference !== null\n                        ? state.serverFileReference\n                        : state.transferId;\n\n                // cannot revert without a server id for this process\n                if (serverTransferId === null) {\n                    resolve();\n                    return;\n                }\n\n                // revert the upload (fire and forget)\n                revertFileUpload(\n                    serverTransferId,\n                    function() {\n                        // reset file server id and transfer id as now it's not available on the server\n                        state.serverFileReference = null;\n                        state.transferId = null;\n                        resolve();\n                    },\n                    function(error) {\n                        // don't set error state when reverting is optional, it will always resolve\n                        if (!forceRevert) {\n                            resolve();\n                            return;\n                        }\n\n                        // oh no errors\n                        setStatus(ItemStatus.PROCESSING_REVERT_ERROR);\n                        fire('process-revert-error');\n                        reject(error);\n                    }\n                );\n\n                // fire event\n                setStatus(ItemStatus.IDLE);\n                fire('process-revert');\n            });\n        };\n\n        // exposed methods\n        var _setMetadata = function setMetadata(key, value, silent) {\n            var keys = key.split('.');\n            var root = keys[0];\n            var last = keys.pop();\n            var data = metadata;\n            keys.forEach(function(key) {\n                return (data = data[key]);\n            });\n\n            // compare old value against new value, if they're the same, we're not updating\n            if (JSON.stringify(data[last]) === JSON.stringify(value)) return;\n\n            // update value\n            data[last] = value;\n\n            // fire update\n            fire('metadata-update', {\n                key: root,\n                value: metadata[root],\n                silent: silent,\n            });\n        };\n\n        var getMetadata = function getMetadata(key) {\n            return deepCloneObject(key ? metadata[key] : metadata);\n        };\n\n        var api = Object.assign(\n            {\n                id: {\n                    get: function get() {\n                        return id;\n                    },\n                },\n                origin: {\n                    get: function get() {\n                        return origin;\n                    },\n                    set: function set(value) {\n                        return (origin = value);\n                    },\n                },\n                serverId: {\n                    get: function get() {\n                        return state.serverFileReference;\n                    },\n                },\n                transferId: {\n                    get: function get() {\n                        return state.transferId;\n                    },\n                },\n                status: {\n                    get: function get() {\n                        return state.status;\n                    },\n                },\n                filename: {\n                    get: function get() {\n                        return state.file.name;\n                    },\n                },\n                filenameWithoutExtension: {\n                    get: function get() {\n                        return getFilenameWithoutExtension(state.file.name);\n                    },\n                },\n                fileExtension: { get: getFileExtension },\n                fileType: { get: getFileType },\n                fileSize: { get: getFileSize },\n                file: { get: getFile },\n                relativePath: {\n                    get: function get() {\n                        return state.file._relativePath;\n                    },\n                },\n\n                source: {\n                    get: function get() {\n                        return state.source;\n                    },\n                },\n\n                getMetadata: getMetadata,\n                setMetadata: function setMetadata(key, value, silent) {\n                    if (isObject(key)) {\n                        var data = key;\n                        Object.keys(data).forEach(function(key) {\n                            _setMetadata(key, data[key], value);\n                        });\n                        return key;\n                    }\n                    _setMetadata(key, value, silent);\n                    return value;\n                },\n\n                extend: function extend(name, handler) {\n                    return (itemAPI[name] = handler);\n                },\n\n                abortLoad: abortLoad,\n                retryLoad: retryLoad,\n                requestProcessing: requestProcessing,\n                abortProcessing: abortProcessing,\n\n                load: load,\n                process: process,\n                revert: revert,\n            },\n\n            on(),\n            {\n                freeze: function freeze() {\n                    return (state.frozen = true);\n                },\n\n                release: function release() {\n                    return (state.released = true);\n                },\n                released: {\n                    get: function get() {\n                        return state.released;\n                    },\n                },\n\n                archive: function archive() {\n                    return (state.archived = true);\n                },\n                archived: {\n                    get: function get() {\n                        return state.archived;\n                    },\n                },\n            }\n        );\n\n        // create it here instead of returning it instantly so we can extend it later\n        var itemAPI = createObject(api);\n\n        return itemAPI;\n    };\n\n    var getItemIndexByQuery = function getItemIndexByQuery(items, query) {\n        // just return first index\n        if (isEmpty(query)) {\n            return 0;\n        }\n\n        // invalid queries\n        if (!isString(query)) {\n            return -1;\n        }\n\n        // return item by id (or -1 if not found)\n        return items.findIndex(function(item) {\n            return item.id === query;\n        });\n    };\n\n    var getItemById = function getItemById(items, itemId) {\n        var index = getItemIndexByQuery(items, itemId);\n        if (index < 0) {\n            return;\n        }\n        return items[index] || null;\n    };\n\n    var fetchBlob = function fetchBlob(url, load, error, progress, abort, headers) {\n        var request = sendRequest(null, url, {\n            method: 'GET',\n            responseType: 'blob',\n        });\n\n        request.onload = function(xhr) {\n            // get headers\n            var headers = xhr.getAllResponseHeaders();\n\n            // get filename\n            var filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);\n\n            // create response\n            load(\n                createResponse('load', xhr.status, getFileFromBlob(xhr.response, filename), headers)\n            );\n        };\n\n        request.onerror = function(xhr) {\n            error(createResponse('error', xhr.status, xhr.statusText, xhr.getAllResponseHeaders()));\n        };\n\n        request.onheaders = function(xhr) {\n            headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n        };\n\n        request.ontimeout = createTimeoutResponse(error);\n        request.onprogress = progress;\n        request.onabort = abort;\n\n        // should return request\n        return request;\n    };\n\n    var getDomainFromURL = function getDomainFromURL(url) {\n        if (url.indexOf('//') === 0) {\n            url = location.protocol + url;\n        }\n        return url\n            .toLowerCase()\n            .replace('blob:', '')\n            .replace(/([a-z])?:\\/\\//, '$1')\n            .split('/')[0];\n    };\n\n    var isExternalURL = function isExternalURL(url) {\n        return (\n            (url.indexOf(':') > -1 || url.indexOf('//') > -1) &&\n            getDomainFromURL(location.href) !== getDomainFromURL(url)\n        );\n    };\n\n    var dynamicLabel = function dynamicLabel(label) {\n        return function() {\n            return isFunction(label) ? label.apply(void 0, arguments) : label;\n        };\n    };\n\n    var isMockItem = function isMockItem(item) {\n        return !isFile(item.file);\n    };\n\n    var listUpdated = function listUpdated(dispatch, state) {\n        clearTimeout(state.listUpdateTimeout);\n        state.listUpdateTimeout = setTimeout(function() {\n            dispatch('DID_UPDATE_ITEMS', { items: getActiveItems(state.items) });\n        }, 0);\n    };\n\n    var optionalPromise = function optionalPromise(fn) {\n        for (\n            var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1;\n            _key < _len;\n            _key++\n        ) {\n            params[_key - 1] = arguments[_key];\n        }\n        return new Promise(function(resolve) {\n            if (!fn) {\n                return resolve(true);\n            }\n\n            var result = fn.apply(void 0, params);\n\n            if (result == null) {\n                return resolve(true);\n            }\n\n            if (typeof result === 'boolean') {\n                return resolve(result);\n            }\n\n            if (typeof result.then === 'function') {\n                result.then(resolve);\n            }\n        });\n    };\n\n    var sortItems = function sortItems(state, compare) {\n        state.items.sort(function(a, b) {\n            return compare(createItemAPI(a), createItemAPI(b));\n        });\n    };\n\n    // returns item based on state\n    var getItemByQueryFromState = function getItemByQueryFromState(state, itemHandler) {\n        return function() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n            var query = _ref.query,\n                _ref$success = _ref.success,\n                success = _ref$success === void 0 ? function() {} : _ref$success,\n                _ref$failure = _ref.failure,\n                failure = _ref$failure === void 0 ? function() {} : _ref$failure,\n                options = _objectWithoutProperties(_ref, ['query', 'success', 'failure']);\n            var item = getItemByQuery(state.items, query);\n            if (!item) {\n                failure({\n                    error: createResponse('error', 0, 'Item not found'),\n                    file: null,\n                });\n\n                return;\n            }\n            itemHandler(item, success, failure, options || {});\n        };\n    };\n\n    var actions = function actions(dispatch, query, state) {\n        return {\n            /**\n             * Aborts all ongoing processes\n             */\n            ABORT_ALL: function ABORT_ALL() {\n                getActiveItems(state.items).forEach(function(item) {\n                    item.freeze();\n                    item.abortLoad();\n                    item.abortProcessing();\n                });\n            },\n\n            /**\n             * Sets initial files\n             */\n            DID_SET_FILES: function DID_SET_FILES(_ref2) {\n                var _ref2$value = _ref2.value,\n                    value = _ref2$value === void 0 ? [] : _ref2$value;\n                // map values to file objects\n                var files = value.map(function(file) {\n                    return {\n                        source: file.source ? file.source : file,\n                        options: file.options,\n                    };\n                });\n\n                // loop over files, if file is in list, leave it be, if not, remove\n                // test if items should be moved\n                var activeItems = getActiveItems(state.items);\n\n                activeItems.forEach(function(item) {\n                    // if item not is in new value, remove\n                    if (\n                        !files.find(function(file) {\n                            return file.source === item.source || file.source === item.file;\n                        })\n                    ) {\n                        dispatch('REMOVE_ITEM', { query: item, remove: false });\n                    }\n                });\n\n                // add new files\n                activeItems = getActiveItems(state.items);\n                files.forEach(function(file, index) {\n                    // if file is already in list\n                    if (\n                        activeItems.find(function(item) {\n                            return item.source === file.source || item.file === file.source;\n                        })\n                    )\n                        return;\n\n                    // not in list, add\n                    dispatch(\n                        'ADD_ITEM',\n                        Object.assign({}, file, {\n                            interactionMethod: InteractionMethod.NONE,\n                            index: index,\n                        })\n                    );\n                });\n            },\n\n            DID_UPDATE_ITEM_METADATA: function DID_UPDATE_ITEM_METADATA(_ref3) {\n                var id = _ref3.id,\n                    action = _ref3.action,\n                    change = _ref3.change;\n                // don't do anything\n                if (change.silent) return;\n\n                // if is called multiple times in close succession we combined all calls together to save resources\n                clearTimeout(state.itemUpdateTimeout);\n                state.itemUpdateTimeout = setTimeout(function() {\n                    var item = getItemById(state.items, id);\n\n                    // only revert and attempt to upload when we're uploading to a server\n                    if (!query('IS_ASYNC')) {\n                        // should we update the output data\n                        applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {\n                            item: item,\n                            query: query,\n                            action: action,\n                            change: change,\n                        }).then(function(shouldPrepareOutput) {\n                            // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n                            var beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n                            if (beforePrepareFile)\n                                shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n\n                            if (!shouldPrepareOutput) return;\n\n                            dispatch(\n                                'REQUEST_PREPARE_OUTPUT',\n                                {\n                                    query: id,\n                                    item: item,\n                                    success: function success(file) {\n                                        dispatch('DID_PREPARE_OUTPUT', { id: id, file: file });\n                                    },\n                                },\n\n                                true\n                            );\n                        });\n\n                        return;\n                    }\n\n                    // if is local item we need to enable upload button so change can be propagated to server\n                    if (item.origin === FileOrigin.LOCAL) {\n                        dispatch('DID_LOAD_ITEM', {\n                            id: item.id,\n                            error: null,\n                            serverFileReference: item.source,\n                        });\n                    }\n\n                    // for async scenarios\n                    var upload = function upload() {\n                        // we push this forward a bit so the interface is updated correctly\n                        setTimeout(function() {\n                            dispatch('REQUEST_ITEM_PROCESSING', { query: id });\n                        }, 32);\n                    };\n\n                    var revert = function revert(doUpload) {\n                        item.revert(\n                            createRevertFunction(\n                                state.options.server.url,\n                                state.options.server.revert\n                            ),\n                            query('GET_FORCE_REVERT')\n                        )\n                            .then(doUpload ? upload : function() {})\n                            .catch(function() {});\n                    };\n\n                    var abort = function abort(doUpload) {\n                        item.abortProcessing().then(doUpload ? upload : function() {});\n                    };\n\n                    // if we should re-upload the file immediately\n                    if (item.status === ItemStatus.PROCESSING_COMPLETE) {\n                        return revert(state.options.instantUpload);\n                    }\n\n                    // if currently uploading, cancel upload\n                    if (item.status === ItemStatus.PROCESSING) {\n                        return abort(state.options.instantUpload);\n                    }\n\n                    if (state.options.instantUpload) {\n                        upload();\n                    }\n                }, 0);\n            },\n\n            MOVE_ITEM: function MOVE_ITEM(_ref4) {\n                var query = _ref4.query,\n                    index = _ref4.index;\n                var item = getItemByQuery(state.items, query);\n                if (!item) return;\n                var currentIndex = state.items.indexOf(item);\n                index = limit(index, 0, state.items.length - 1);\n                if (currentIndex === index) return;\n                state.items.splice(index, 0, state.items.splice(currentIndex, 1)[0]);\n            },\n\n            SORT: function SORT(_ref5) {\n                var compare = _ref5.compare;\n                sortItems(state, compare);\n                dispatch('DID_SORT_ITEMS', {\n                    items: query('GET_ACTIVE_ITEMS'),\n                });\n            },\n\n            ADD_ITEMS: function ADD_ITEMS(_ref6) {\n                var items = _ref6.items,\n                    index = _ref6.index,\n                    interactionMethod = _ref6.interactionMethod,\n                    _ref6$success = _ref6.success,\n                    success = _ref6$success === void 0 ? function() {} : _ref6$success,\n                    _ref6$failure = _ref6.failure,\n                    failure = _ref6$failure === void 0 ? function() {} : _ref6$failure;\n                var currentIndex = index;\n\n                if (index === -1 || typeof index === 'undefined') {\n                    var insertLocation = query('GET_ITEM_INSERT_LOCATION');\n                    var totalItems = query('GET_TOTAL_ITEMS');\n                    currentIndex = insertLocation === 'before' ? 0 : totalItems;\n                }\n\n                var ignoredFiles = query('GET_IGNORED_FILES');\n                var isValidFile = function isValidFile(source) {\n                    return isFile(source)\n                        ? !ignoredFiles.includes(source.name.toLowerCase())\n                        : !isEmpty(source);\n                };\n                var validItems = items.filter(isValidFile);\n\n                var promises = validItems.map(function(source) {\n                    return new Promise(function(resolve, reject) {\n                        dispatch('ADD_ITEM', {\n                            interactionMethod: interactionMethod,\n                            source: source.source || source,\n                            success: resolve,\n                            failure: reject,\n                            index: currentIndex++,\n                            options: source.options || {},\n                        });\n                    });\n                });\n\n                Promise.all(promises)\n                    .then(success)\n                    .catch(failure);\n            },\n\n            /**\n             * @param source\n             * @param index\n             * @param interactionMethod\n             */\n            ADD_ITEM: function ADD_ITEM(_ref7) {\n                var source = _ref7.source,\n                    _ref7$index = _ref7.index,\n                    index = _ref7$index === void 0 ? -1 : _ref7$index,\n                    interactionMethod = _ref7.interactionMethod,\n                    _ref7$success = _ref7.success,\n                    success = _ref7$success === void 0 ? function() {} : _ref7$success,\n                    _ref7$failure = _ref7.failure,\n                    failure = _ref7$failure === void 0 ? function() {} : _ref7$failure,\n                    _ref7$options = _ref7.options,\n                    options = _ref7$options === void 0 ? {} : _ref7$options;\n                // if no source supplied\n                if (isEmpty(source)) {\n                    failure({\n                        error: createResponse('error', 0, 'No source'),\n                        file: null,\n                    });\n\n                    return;\n                }\n\n                // filter out invalid file items, used to filter dropped directory contents\n                if (\n                    isFile(source) &&\n                    state.options.ignoredFiles.includes(source.name.toLowerCase())\n                ) {\n                    // fail silently\n                    return;\n                }\n\n                // test if there's still room in the list of files\n                if (!hasRoomForItem(state)) {\n                    // if multiple allowed, we can't replace\n                    // or if only a single item is allowed but we're not allowed to replace it we exit\n                    if (\n                        state.options.allowMultiple ||\n                        (!state.options.allowMultiple && !state.options.allowReplace)\n                    ) {\n                        var error = createResponse('warning', 0, 'Max files');\n\n                        dispatch('DID_THROW_MAX_FILES', {\n                            source: source,\n                            error: error,\n                        });\n\n                        failure({ error: error, file: null });\n\n                        return;\n                    }\n\n                    // let's replace the item\n                    // id of first item we're about to remove\n                    var _item = getActiveItems(state.items)[0];\n\n                    // if has been processed remove it from the server as well\n                    if (\n                        _item.status === ItemStatus.PROCESSING_COMPLETE ||\n                        _item.status === ItemStatus.PROCESSING_REVERT_ERROR\n                    ) {\n                        var forceRevert = query('GET_FORCE_REVERT');\n                        _item\n                            .revert(\n                                createRevertFunction(\n                                    state.options.server.url,\n                                    state.options.server.revert\n                                ),\n                                forceRevert\n                            )\n                            .then(function() {\n                                if (!forceRevert) return;\n\n                                // try to add now\n                                dispatch('ADD_ITEM', {\n                                    source: source,\n                                    index: index,\n                                    interactionMethod: interactionMethod,\n                                    success: success,\n                                    failure: failure,\n                                    options: options,\n                                });\n                            })\n                            .catch(function() {}); // no need to handle this catch state for now\n\n                        if (forceRevert) return;\n                    }\n\n                    // remove first item as it will be replaced by this item\n                    dispatch('REMOVE_ITEM', { query: _item.id });\n                }\n\n                // where did the file originate\n                var origin =\n                    options.type === 'local'\n                        ? FileOrigin.LOCAL\n                        : options.type === 'limbo'\n                        ? FileOrigin.LIMBO\n                        : FileOrigin.INPUT;\n\n                // create a new blank item\n                var item = createItem(\n                    // where did this file come from\n                    origin,\n\n                    // an input file never has a server file reference\n                    origin === FileOrigin.INPUT ? null : source,\n\n                    // file mock data, if defined\n                    options.file\n                );\n\n                // set initial meta data\n                Object.keys(options.metadata || {}).forEach(function(key) {\n                    item.setMetadata(key, options.metadata[key]);\n                });\n\n                // created the item, let plugins add methods\n                applyFilters('DID_CREATE_ITEM', item, { query: query, dispatch: dispatch });\n\n                // where to insert new items\n                var itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n\n                // adjust index if is not allowed to pick location\n                if (!state.options.itemInsertLocationFreedom) {\n                    index = itemInsertLocation === 'before' ? -1 : state.items.length;\n                }\n\n                // add item to list\n                insertItem(state.items, item, index);\n\n                // sort items in list\n                if (isFunction(itemInsertLocation) && source) {\n                    sortItems(state, itemInsertLocation);\n                }\n\n                // get a quick reference to the item id\n                var id = item.id;\n\n                // observe item events\n                item.on('init', function() {\n                    dispatch('DID_INIT_ITEM', { id: id });\n                });\n\n                item.on('load-init', function() {\n                    dispatch('DID_START_ITEM_LOAD', { id: id });\n                });\n\n                item.on('load-meta', function() {\n                    dispatch('DID_UPDATE_ITEM_META', { id: id });\n                });\n\n                item.on('load-progress', function(progress) {\n                    dispatch('DID_UPDATE_ITEM_LOAD_PROGRESS', { id: id, progress: progress });\n                });\n\n                item.on('load-request-error', function(error) {\n                    var mainStatus = dynamicLabel(state.options.labelFileLoadError)(error);\n\n                    // is client error, no way to recover\n                    if (error.code >= 400 && error.code < 500) {\n                        dispatch('DID_THROW_ITEM_INVALID', {\n                            id: id,\n                            error: error,\n                            status: {\n                                main: mainStatus,\n                                sub: error.code + ' (' + error.body + ')',\n                            },\n                        });\n\n                        // reject the file so can be dealt with through API\n                        failure({ error: error, file: createItemAPI(item) });\n                        return;\n                    }\n\n                    // is possible server error, so might be possible to retry\n                    dispatch('DID_THROW_ITEM_LOAD_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: mainStatus,\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                });\n\n                item.on('load-file-error', function(error) {\n                    dispatch('DID_THROW_ITEM_INVALID', {\n                        id: id,\n                        error: error.status,\n                        status: error.status,\n                    });\n\n                    failure({ error: error.status, file: createItemAPI(item) });\n                });\n\n                item.on('load-abort', function() {\n                    dispatch('REMOVE_ITEM', { query: id });\n                });\n\n                item.on('load-skip', function() {\n                    dispatch('COMPLETE_LOAD_ITEM', {\n                        query: id,\n                        item: item,\n                        data: {\n                            source: source,\n                            success: success,\n                        },\n                    });\n                });\n\n                item.on('load', function() {\n                    var handleAdd = function handleAdd(shouldAdd) {\n                        // no should not add this file\n                        if (!shouldAdd) {\n                            dispatch('REMOVE_ITEM', {\n                                query: id,\n                            });\n\n                            return;\n                        }\n\n                        // now interested in metadata updates\n                        item.on('metadata-update', function(change) {\n                            dispatch('DID_UPDATE_ITEM_METADATA', { id: id, change: change });\n                        });\n\n                        // let plugins decide if the output data should be prepared at this point\n                        // means we'll do this and wait for idle state\n                        applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {\n                            item: item,\n                            query: query,\n                        }).then(function(shouldPrepareOutput) {\n                            // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n                            var beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n                            if (beforePrepareFile)\n                                shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n\n                            var loadComplete = function loadComplete() {\n                                dispatch('COMPLETE_LOAD_ITEM', {\n                                    query: id,\n                                    item: item,\n                                    data: {\n                                        source: source,\n                                        success: success,\n                                    },\n                                });\n\n                                listUpdated(dispatch, state);\n                            };\n\n                            // exit\n                            if (shouldPrepareOutput) {\n                                // wait for idle state and then run PREPARE_OUTPUT\n                                dispatch(\n                                    'REQUEST_PREPARE_OUTPUT',\n                                    {\n                                        query: id,\n                                        item: item,\n                                        success: function success(file) {\n                                            dispatch('DID_PREPARE_OUTPUT', { id: id, file: file });\n                                            loadComplete();\n                                        },\n                                    },\n\n                                    true\n                                );\n\n                                return;\n                            }\n\n                            loadComplete();\n                        });\n                    };\n\n                    // item loaded, allow plugins to\n                    // - read data (quickly)\n                    // - add metadata\n                    applyFilterChain('DID_LOAD_ITEM', item, { query: query, dispatch: dispatch })\n                        .then(function() {\n                            optionalPromise(query('GET_BEFORE_ADD_FILE'), createItemAPI(item)).then(\n                                handleAdd\n                            );\n                        })\n                        .catch(function(e) {\n                            if (!e || !e.error || !e.status) return handleAdd(false);\n                            dispatch('DID_THROW_ITEM_INVALID', {\n                                id: id,\n                                error: e.error,\n                                status: e.status,\n                            });\n                        });\n                });\n\n                item.on('process-start', function() {\n                    dispatch('DID_START_ITEM_PROCESSING', { id: id });\n                });\n\n                item.on('process-progress', function(progress) {\n                    dispatch('DID_UPDATE_ITEM_PROCESS_PROGRESS', { id: id, progress: progress });\n                });\n\n                item.on('process-error', function(error) {\n                    dispatch('DID_THROW_ITEM_PROCESSING_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: dynamicLabel(state.options.labelFileProcessingError)(error),\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                });\n\n                item.on('process-revert-error', function(error) {\n                    dispatch('DID_THROW_ITEM_PROCESSING_REVERT_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: dynamicLabel(state.options.labelFileProcessingRevertError)(error),\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                });\n\n                item.on('process-complete', function(serverFileReference) {\n                    dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n                        id: id,\n                        error: null,\n                        serverFileReference: serverFileReference,\n                    });\n\n                    dispatch('DID_DEFINE_VALUE', { id: id, value: serverFileReference });\n                });\n\n                item.on('process-abort', function() {\n                    dispatch('DID_ABORT_ITEM_PROCESSING', { id: id });\n                });\n\n                item.on('process-revert', function() {\n                    dispatch('DID_REVERT_ITEM_PROCESSING', { id: id });\n                    dispatch('DID_DEFINE_VALUE', { id: id, value: null });\n                });\n\n                // let view know the item has been inserted\n                dispatch('DID_ADD_ITEM', {\n                    id: id,\n                    index: index,\n                    interactionMethod: interactionMethod,\n                });\n\n                listUpdated(dispatch, state);\n\n                // start loading the source\n                var _ref8 = state.options.server || {},\n                    url = _ref8.url,\n                    load = _ref8.load,\n                    restore = _ref8.restore,\n                    fetch = _ref8.fetch;\n\n                item.load(\n                    source,\n\n                    // this creates a function that loads the file based on the type of file (string, base64, blob, file) and location of file (local, remote, limbo)\n                    createFileLoader(\n                        origin === FileOrigin.INPUT\n                            ? // input, if is remote, see if should use custom fetch, else use default fetchBlob\n                              isString(source) && isExternalURL(source)\n                                ? fetch\n                                    ? createFetchFunction(url, fetch)\n                                    : fetchBlob // remote url\n                                : fetchBlob // try to fetch url\n                            : // limbo or local\n                            origin === FileOrigin.LIMBO\n                            ? createFetchFunction(url, restore) // limbo\n                            : createFetchFunction(url, load) // local\n                    ),\n\n                    // called when the file is loaded so it can be piped through the filters\n                    function(file, success, error) {\n                        // let's process the file\n                        applyFilterChain('LOAD_FILE', file, { query: query })\n                            .then(success)\n                            .catch(error);\n                    }\n                );\n            },\n\n            REQUEST_PREPARE_OUTPUT: function REQUEST_PREPARE_OUTPUT(_ref9) {\n                var item = _ref9.item,\n                    success = _ref9.success,\n                    _ref9$failure = _ref9.failure,\n                    failure = _ref9$failure === void 0 ? function() {} : _ref9$failure;\n                // error response if item archived\n                var err = {\n                    error: createResponse('error', 0, 'Item not found'),\n                    file: null,\n                };\n\n                // don't handle archived items, an item could have been archived (load aborted) while waiting to be prepared\n                if (item.archived) return failure(err);\n\n                // allow plugins to alter the file data\n                applyFilterChain('PREPARE_OUTPUT', item.file, { query: query, item: item }).then(\n                    function(result) {\n                        applyFilterChain('COMPLETE_PREPARE_OUTPUT', result, {\n                            query: query,\n                            item: item,\n                        }).then(function(result) {\n                            // don't handle archived items, an item could have been archived (load aborted) while being prepared\n                            if (item.archived) return failure(err);\n\n                            // we done!\n                            success(result);\n                        });\n                    }\n                );\n            },\n\n            COMPLETE_LOAD_ITEM: function COMPLETE_LOAD_ITEM(_ref10) {\n                var item = _ref10.item,\n                    data = _ref10.data;\n                var success = data.success,\n                    source = data.source;\n\n                // sort items in list\n                var itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n                if (isFunction(itemInsertLocation) && source) {\n                    sortItems(state, itemInsertLocation);\n                }\n\n                // let interface know the item has loaded\n                dispatch('DID_LOAD_ITEM', {\n                    id: item.id,\n                    error: null,\n                    serverFileReference: item.origin === FileOrigin.INPUT ? null : source,\n                });\n\n                // item has been successfully loaded and added to the\n                // list of items so can now be safely returned for use\n                success(createItemAPI(item));\n\n                // if this is a local server file we need to show a different state\n                if (item.origin === FileOrigin.LOCAL) {\n                    dispatch('DID_LOAD_LOCAL_ITEM', { id: item.id });\n                    return;\n                }\n\n                // if is a temp server file we prevent async upload call here (as the file is already on the server)\n                if (item.origin === FileOrigin.LIMBO) {\n                    dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n                        id: item.id,\n                        error: null,\n                        serverFileReference: source,\n                    });\n\n                    dispatch('DID_DEFINE_VALUE', {\n                        id: item.id,\n                        value: item.serverId || source,\n                    });\n\n                    return;\n                }\n\n                // id we are allowed to upload the file immediately, lets do it\n                if (query('IS_ASYNC') && state.options.instantUpload) {\n                    dispatch('REQUEST_ITEM_PROCESSING', { query: item.id });\n                }\n            },\n\n            RETRY_ITEM_LOAD: getItemByQueryFromState(state, function(item) {\n                // try loading the source one more time\n                item.retryLoad();\n            }),\n\n            REQUEST_ITEM_PREPARE: getItemByQueryFromState(state, function(item, _success, failure) {\n                dispatch(\n                    'REQUEST_PREPARE_OUTPUT',\n                    {\n                        query: item.id,\n                        item: item,\n                        success: function success(file) {\n                            dispatch('DID_PREPARE_OUTPUT', { id: item.id, file: file });\n                            _success({\n                                file: item,\n                                output: file,\n                            });\n                        },\n                        failure: failure,\n                    },\n\n                    true\n                );\n            }),\n\n            REQUEST_ITEM_PROCESSING: getItemByQueryFromState(state, function(\n                item,\n                success,\n                failure\n            ) {\n                // cannot be queued (or is already queued)\n                var itemCanBeQueuedForProcessing =\n                    // waiting for something\n                    item.status === ItemStatus.IDLE ||\n                    // processing went wrong earlier\n                    item.status === ItemStatus.PROCESSING_ERROR;\n\n                // not ready to be processed\n                if (!itemCanBeQueuedForProcessing) {\n                    var processNow = function processNow() {\n                        return dispatch('REQUEST_ITEM_PROCESSING', {\n                            query: item,\n                            success: success,\n                            failure: failure,\n                        });\n                    };\n\n                    var process = function process() {\n                        return document.hidden ? processNow() : setTimeout(processNow, 32);\n                    };\n\n                    // if already done processing or tried to revert but didn't work, try again\n                    if (\n                        item.status === ItemStatus.PROCESSING_COMPLETE ||\n                        item.status === ItemStatus.PROCESSING_REVERT_ERROR\n                    ) {\n                        item.revert(\n                            createRevertFunction(\n                                state.options.server.url,\n                                state.options.server.revert\n                            ),\n                            query('GET_FORCE_REVERT')\n                        )\n                            .then(process)\n                            .catch(function() {}); // don't continue with processing if something went wrong\n                    } else if (item.status === ItemStatus.PROCESSING) {\n                        item.abortProcessing().then(process);\n                    }\n\n                    return;\n                }\n\n                // already queued for processing\n                if (item.status === ItemStatus.PROCESSING_QUEUED) return;\n\n                item.requestProcessing();\n\n                dispatch('DID_REQUEST_ITEM_PROCESSING', { id: item.id });\n\n                dispatch('PROCESS_ITEM', { query: item, success: success, failure: failure }, true);\n            }),\n\n            PROCESS_ITEM: getItemByQueryFromState(state, function(item, success, failure) {\n                var maxParallelUploads = query('GET_MAX_PARALLEL_UPLOADS');\n                var totalCurrentUploads = query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING)\n                    .length;\n\n                // queue and wait till queue is freed up\n                if (totalCurrentUploads === maxParallelUploads) {\n                    // queue for later processing\n                    state.processingQueue.push({\n                        id: item.id,\n                        success: success,\n                        failure: failure,\n                    });\n\n                    // stop it!\n                    return;\n                }\n\n                // if was not queued or is already processing exit here\n                if (item.status === ItemStatus.PROCESSING) return;\n\n                var processNext = function processNext() {\n                    // process queueud items\n                    var queueEntry = state.processingQueue.shift();\n\n                    // no items left\n                    if (!queueEntry) return;\n\n                    // get item reference\n                    var id = queueEntry.id,\n                        success = queueEntry.success,\n                        failure = queueEntry.failure;\n                    var itemReference = getItemByQuery(state.items, id);\n\n                    // if item was archived while in queue, jump to next\n                    if (!itemReference || itemReference.archived) {\n                        processNext();\n                        return;\n                    }\n\n                    // process queued item\n                    dispatch(\n                        'PROCESS_ITEM',\n                        { query: id, success: success, failure: failure },\n                        true\n                    );\n                };\n\n                // we done function\n                item.onOnce('process-complete', function() {\n                    success(createItemAPI(item));\n                    processNext();\n\n                    // if origin is local, and we're instant uploading, trigger remove of original\n                    // as revert will remove file from list\n                    var server = state.options.server;\n                    var instantUpload = state.options.instantUpload;\n                    if (\n                        instantUpload &&\n                        item.origin === FileOrigin.LOCAL &&\n                        isFunction(server.remove)\n                    ) {\n                        var noop = function noop() {};\n                        item.origin = FileOrigin.LIMBO;\n                        state.options.server.remove(item.source, noop, noop);\n                    }\n\n                    // All items processed? No errors?\n                    var allItemsProcessed =\n                        query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING_COMPLETE).length ===\n                        state.items.length;\n                    if (allItemsProcessed) {\n                        dispatch('DID_COMPLETE_ITEM_PROCESSING_ALL');\n                    }\n                });\n\n                // we error function\n                item.onOnce('process-error', function(error) {\n                    failure({ error: error, file: createItemAPI(item) });\n                    processNext();\n                });\n\n                // start file processing\n                var options = state.options;\n                item.process(\n                    createFileProcessor(\n                        createProcessorFunction(\n                            options.server.url,\n                            options.server.process,\n                            options.name,\n                            {\n                                chunkTransferId: item.transferId,\n                                chunkServer: options.server.patch,\n                                chunkUploads: options.chunkUploads,\n                                chunkForce: options.chunkForce,\n                                chunkSize: options.chunkSize,\n                                chunkRetryDelays: options.chunkRetryDelays,\n                            }\n                        ),\n\n                        {\n                            allowMinimumUploadDuration: query('GET_ALLOW_MINIMUM_UPLOAD_DURATION'),\n                        }\n                    ),\n\n                    // called when the file is about to be processed so it can be piped through the transform filters\n                    function(file, success, error) {\n                        // allow plugins to alter the file data\n                        applyFilterChain('PREPARE_OUTPUT', file, { query: query, item: item })\n                            .then(function(file) {\n                                dispatch('DID_PREPARE_OUTPUT', { id: item.id, file: file });\n\n                                success(file);\n                            })\n                            .catch(error);\n                    }\n                );\n            }),\n\n            RETRY_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                dispatch('REQUEST_ITEM_PROCESSING', { query: item });\n            }),\n\n            REQUEST_REMOVE_ITEM: getItemByQueryFromState(state, function(item) {\n                optionalPromise(query('GET_BEFORE_REMOVE_FILE'), createItemAPI(item)).then(function(\n                    shouldRemove\n                ) {\n                    if (!shouldRemove) {\n                        return;\n                    }\n                    dispatch('REMOVE_ITEM', { query: item });\n                });\n            }),\n\n            RELEASE_ITEM: getItemByQueryFromState(state, function(item) {\n                item.release();\n            }),\n\n            REMOVE_ITEM: getItemByQueryFromState(state, function(item, success, failure, options) {\n                var removeFromView = function removeFromView() {\n                    // get id reference\n                    var id = item.id;\n\n                    // archive the item, this does not remove it from the list\n                    getItemById(state.items, id).archive();\n\n                    // tell the view the item has been removed\n                    dispatch('DID_REMOVE_ITEM', { error: null, id: id, item: item });\n\n                    // now the list has been modified\n                    listUpdated(dispatch, state);\n\n                    // correctly removed\n                    success(createItemAPI(item));\n                };\n\n                // if this is a local file and the `server.remove` function has been configured,\n                // send source there so dev can remove file from server\n                var server = state.options.server;\n                if (\n                    item.origin === FileOrigin.LOCAL &&\n                    server &&\n                    isFunction(server.remove) &&\n                    options.remove !== false\n                ) {\n                    dispatch('DID_START_ITEM_REMOVE', { id: item.id });\n\n                    server.remove(\n                        item.source,\n                        function() {\n                            return removeFromView();\n                        },\n                        function(status) {\n                            dispatch('DID_THROW_ITEM_REMOVE_ERROR', {\n                                id: item.id,\n                                error: createResponse('error', 0, status, null),\n                                status: {\n                                    main: dynamicLabel(state.options.labelFileRemoveError)(status),\n                                    sub: state.options.labelTapToRetry,\n                                },\n                            });\n                        }\n                    );\n                } else {\n                    // if is requesting revert and can revert need to call revert handler (not calling request_ because that would also trigger beforeRemoveHook)\n                    if (\n                        (options.revert &&\n                            item.origin !== FileOrigin.LOCAL &&\n                            item.serverId !== null) ||\n                        // if chunked uploads are enabled and we're uploading in chunks for this specific file\n                        // or if the file isn't big enough for chunked uploads but chunkForce is set then call\n                        // revert before removing from the view...\n                        (state.options.chunkUploads && item.file.size > state.options.chunkSize) ||\n                        (state.options.chunkUploads && state.options.chunkForce)\n                    ) {\n                        item.revert(\n                            createRevertFunction(\n                                state.options.server.url,\n                                state.options.server.revert\n                            ),\n                            query('GET_FORCE_REVERT')\n                        );\n                    }\n\n                    // can now safely remove from view\n                    removeFromView();\n                }\n            }),\n\n            ABORT_ITEM_LOAD: getItemByQueryFromState(state, function(item) {\n                item.abortLoad();\n            }),\n\n            ABORT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                // test if is already processed\n                if (item.serverId) {\n                    dispatch('REVERT_ITEM_PROCESSING', { id: item.id });\n                    return;\n                }\n\n                // abort\n                item.abortProcessing().then(function() {\n                    var shouldRemove = state.options.instantUpload;\n                    if (shouldRemove) {\n                        dispatch('REMOVE_ITEM', { query: item.id });\n                    }\n                });\n            }),\n\n            REQUEST_REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                // not instant uploading, revert immediately\n                if (!state.options.instantUpload) {\n                    dispatch('REVERT_ITEM_PROCESSING', { query: item });\n                    return;\n                }\n\n                // if we're instant uploading the file will also be removed if we revert,\n                // so if a before remove file hook is defined we need to run it now\n                var handleRevert = function handleRevert(shouldRevert) {\n                    if (!shouldRevert) return;\n                    dispatch('REVERT_ITEM_PROCESSING', { query: item });\n                };\n\n                var fn = query('GET_BEFORE_REMOVE_FILE');\n                if (!fn) {\n                    return handleRevert(true);\n                }\n\n                var requestRemoveResult = fn(createItemAPI(item));\n                if (requestRemoveResult == null) {\n                    // undefined or null\n                    return handleRevert(true);\n                }\n\n                if (typeof requestRemoveResult === 'boolean') {\n                    return handleRevert(requestRemoveResult);\n                }\n\n                if (typeof requestRemoveResult.then === 'function') {\n                    requestRemoveResult.then(handleRevert);\n                }\n            }),\n\n            REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                item.revert(\n                    createRevertFunction(state.options.server.url, state.options.server.revert),\n                    query('GET_FORCE_REVERT')\n                )\n                    .then(function() {\n                        var shouldRemove = state.options.instantUpload || isMockItem(item);\n                        if (shouldRemove) {\n                            dispatch('REMOVE_ITEM', { query: item.id });\n                        }\n                    })\n                    .catch(function() {});\n            }),\n\n            SET_OPTIONS: function SET_OPTIONS(_ref11) {\n                var options = _ref11.options;\n                // get all keys passed\n                var optionKeys = Object.keys(options);\n\n                // get prioritized keyed to include (remove once not in options object)\n                var prioritizedOptionKeys = PrioritizedOptions.filter(function(key) {\n                    return optionKeys.includes(key);\n                });\n\n                // order the keys, prioritized first, then rest\n                var orderedOptionKeys = [].concat(\n                    _toConsumableArray(prioritizedOptionKeys),\n                    _toConsumableArray(\n                        Object.keys(options).filter(function(key) {\n                            return !prioritizedOptionKeys.includes(key);\n                        })\n                    )\n                );\n\n                // dispatch set event for each option\n                orderedOptionKeys.forEach(function(key) {\n                    dispatch('SET_' + fromCamels(key, '_').toUpperCase(), {\n                        value: options[key],\n                    });\n                });\n            },\n        };\n    };\n\n    var PrioritizedOptions = ['server'];\n\n    var formatFilename = function formatFilename(name) {\n        return name;\n    };\n\n    var createElement$1 = function createElement(tagName) {\n        return document.createElement(tagName);\n    };\n\n    var text = function text(node, value) {\n        var textNode = node.childNodes[0];\n        if (!textNode) {\n            textNode = document.createTextNode(value);\n            node.appendChild(textNode);\n        } else if (value !== textNode.nodeValue) {\n            textNode.nodeValue = value;\n        }\n    };\n\n    var polarToCartesian = function polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n        var angleInRadians = (((angleInDegrees % 360) - 90) * Math.PI) / 180.0;\n        return {\n            x: centerX + radius * Math.cos(angleInRadians),\n            y: centerY + radius * Math.sin(angleInRadians),\n        };\n    };\n\n    var describeArc = function describeArc(x, y, radius, startAngle, endAngle, arcSweep) {\n        var start = polarToCartesian(x, y, radius, endAngle);\n        var end = polarToCartesian(x, y, radius, startAngle);\n        return ['M', start.x, start.y, 'A', radius, radius, 0, arcSweep, 0, end.x, end.y].join(' ');\n    };\n\n    var percentageArc = function percentageArc(x, y, radius, from, to) {\n        var arcSweep = 1;\n        if (to > from && to - from <= 0.5) {\n            arcSweep = 0;\n        }\n        if (from > to && from - to >= 0.5) {\n            arcSweep = 0;\n        }\n        return describeArc(\n            x,\n            y,\n            radius,\n            Math.min(0.9999, from) * 360,\n            Math.min(0.9999, to) * 360,\n            arcSweep\n        );\n    };\n\n    var create = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // start at 0\n        props.spin = false;\n        props.progress = 0;\n        props.opacity = 0;\n\n        // svg\n        var svg = createElement('svg');\n        root.ref.path = createElement('path', {\n            'stroke-width': 2,\n            'stroke-linecap': 'round',\n        });\n\n        svg.appendChild(root.ref.path);\n\n        root.ref.svg = svg;\n\n        root.appendChild(svg);\n    };\n\n    var write = function write(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        if (props.opacity === 0) {\n            return;\n        }\n\n        if (props.align) {\n            root.element.dataset.align = props.align;\n        }\n\n        // get width of stroke\n        var ringStrokeWidth = parseInt(attr(root.ref.path, 'stroke-width'), 10);\n\n        // calculate size of ring\n        var size = root.rect.element.width * 0.5;\n\n        // ring state\n        var ringFrom = 0;\n        var ringTo = 0;\n\n        // now in busy mode\n        if (props.spin) {\n            ringFrom = 0;\n            ringTo = 0.5;\n        } else {\n            ringFrom = 0;\n            ringTo = props.progress;\n        }\n\n        // get arc path\n        var coordinates = percentageArc(size, size, size - ringStrokeWidth, ringFrom, ringTo);\n\n        // update progress bar\n        attr(root.ref.path, 'd', coordinates);\n\n        // hide while contains 0 value\n        attr(root.ref.path, 'stroke-opacity', props.spin || props.progress > 0 ? 1 : 0);\n    };\n\n    var progressIndicator = createView({\n        tag: 'div',\n        name: 'progress-indicator',\n        ignoreRectUpdate: true,\n        ignoreRect: true,\n        create: create,\n        write: write,\n        mixins: {\n            apis: ['progress', 'spin', 'align'],\n            styles: ['opacity'],\n            animations: {\n                opacity: { type: 'tween', duration: 500 },\n                progress: {\n                    type: 'spring',\n                    stiffness: 0.95,\n                    damping: 0.65,\n                    mass: 10,\n                },\n            },\n        },\n    });\n\n    var create$1 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.element.innerHTML = (props.icon || '') + ('<span>' + props.label + '</span>');\n\n        props.isDisabled = false;\n    };\n\n    var write$1 = function write(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        var isDisabled = props.isDisabled;\n        var shouldDisable = root.query('GET_DISABLED') || props.opacity === 0;\n\n        if (shouldDisable && !isDisabled) {\n            props.isDisabled = true;\n            attr(root.element, 'disabled', 'disabled');\n        } else if (!shouldDisable && isDisabled) {\n            props.isDisabled = false;\n            root.element.removeAttribute('disabled');\n        }\n    };\n\n    var fileActionButton = createView({\n        tag: 'button',\n        attributes: {\n            type: 'button',\n        },\n\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        name: 'file-action-button',\n        mixins: {\n            apis: ['label'],\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                translateX: 'spring',\n                translateY: 'spring',\n                opacity: { type: 'tween', duration: 250 },\n            },\n\n            listeners: true,\n        },\n\n        create: create$1,\n        write: write$1,\n    });\n\n    var toNaturalFileSize = function toNaturalFileSize(bytes) {\n        var decimalSeparator =\n            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '.';\n        var base = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n        var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n        var _options$labelBytes = options.labelBytes,\n            labelBytes = _options$labelBytes === void 0 ? 'bytes' : _options$labelBytes,\n            _options$labelKilobyt = options.labelKilobytes,\n            labelKilobytes = _options$labelKilobyt === void 0 ? 'KB' : _options$labelKilobyt,\n            _options$labelMegabyt = options.labelMegabytes,\n            labelMegabytes = _options$labelMegabyt === void 0 ? 'MB' : _options$labelMegabyt,\n            _options$labelGigabyt = options.labelGigabytes,\n            labelGigabytes = _options$labelGigabyt === void 0 ? 'GB' : _options$labelGigabyt;\n\n        // no negative byte sizes\n        bytes = Math.round(Math.abs(bytes));\n\n        var KB = base;\n        var MB = base * base;\n        var GB = base * base * base;\n\n        // just bytes\n        if (bytes < KB) {\n            return bytes + ' ' + labelBytes;\n        }\n\n        // kilobytes\n        if (bytes < MB) {\n            return Math.floor(bytes / KB) + ' ' + labelKilobytes;\n        }\n\n        // megabytes\n        if (bytes < GB) {\n            return removeDecimalsWhenZero(bytes / MB, 1, decimalSeparator) + ' ' + labelMegabytes;\n        }\n\n        // gigabytes\n        return removeDecimalsWhenZero(bytes / GB, 2, decimalSeparator) + ' ' + labelGigabytes;\n    };\n\n    var removeDecimalsWhenZero = function removeDecimalsWhenZero(value, decimalCount, separator) {\n        return value\n            .toFixed(decimalCount)\n            .split('.')\n            .filter(function(part) {\n                return part !== '0';\n            })\n            .join(separator);\n    };\n\n    var create$2 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // filename\n        var fileName = createElement$1('span');\n        fileName.className = 'filepond--file-info-main';\n        // hide for screenreaders\n        // the file is contained in a fieldset with legend that contains the filename\n        // no need to read it twice\n        attr(fileName, 'aria-hidden', 'true');\n        root.appendChild(fileName);\n        root.ref.fileName = fileName;\n\n        // filesize\n        var fileSize = createElement$1('span');\n        fileSize.className = 'filepond--file-info-sub';\n        root.appendChild(fileSize);\n        root.ref.fileSize = fileSize;\n\n        // set initial values\n        text(fileSize, root.query('GET_LABEL_FILE_WAITING_FOR_SIZE'));\n        text(fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n\n    var updateFile = function updateFile(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        text(\n            root.ref.fileSize,\n            toNaturalFileSize(\n                root.query('GET_ITEM_SIZE', props.id),\n                '.',\n                root.query('GET_FILE_SIZE_BASE'),\n                root.query('GET_FILE_SIZE_LABELS', root.query)\n            )\n        );\n\n        text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n\n    var updateFileSizeOnError = function updateFileSizeOnError(_ref3) {\n        var root = _ref3.root,\n            props = _ref3.props;\n        // if size is available don't fallback to unknown size message\n        if (isInt(root.query('GET_ITEM_SIZE', props.id))) {\n            updateFile({ root: root, props: props });\n            return;\n        }\n\n        text(root.ref.fileSize, root.query('GET_LABEL_FILE_SIZE_NOT_AVAILABLE'));\n    };\n\n    var fileInfo = createView({\n        name: 'file-info',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: updateFile,\n            DID_UPDATE_ITEM_META: updateFile,\n            DID_THROW_ITEM_LOAD_ERROR: updateFileSizeOnError,\n            DID_THROW_ITEM_INVALID: updateFileSizeOnError,\n        }),\n\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        create: create$2,\n        mixins: {\n            styles: ['translateX', 'translateY'],\n            animations: {\n                translateX: 'spring',\n                translateY: 'spring',\n            },\n        },\n    });\n\n    var toPercentage = function toPercentage(value) {\n        return Math.round(value * 100);\n    };\n\n    var create$3 = function create(_ref) {\n        var root = _ref.root;\n\n        // main status\n        var main = createElement$1('span');\n        main.className = 'filepond--file-status-main';\n        root.appendChild(main);\n        root.ref.main = main;\n\n        // sub status\n        var sub = createElement$1('span');\n        sub.className = 'filepond--file-status-sub';\n        root.appendChild(sub);\n        root.ref.sub = sub;\n\n        didSetItemLoadProgress({ root: root, action: { progress: null } });\n    };\n\n    var didSetItemLoadProgress = function didSetItemLoadProgress(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        var title =\n            action.progress === null\n                ? root.query('GET_LABEL_FILE_LOADING')\n                : root.query('GET_LABEL_FILE_LOADING') + ' ' + toPercentage(action.progress) + '%';\n\n        text(root.ref.main, title);\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n\n    var didSetItemProcessProgress = function didSetItemProcessProgress(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        var title =\n            action.progress === null\n                ? root.query('GET_LABEL_FILE_PROCESSING')\n                : root.query('GET_LABEL_FILE_PROCESSING') +\n                  ' ' +\n                  toPercentage(action.progress) +\n                  '%';\n\n        text(root.ref.main, title);\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n\n    var didRequestItemProcessing = function didRequestItemProcessing(_ref4) {\n        var root = _ref4.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n\n    var didAbortItemProcessing = function didAbortItemProcessing(_ref5) {\n        var root = _ref5.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_ABORTED'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_RETRY'));\n    };\n\n    var didCompleteItemProcessing = function didCompleteItemProcessing(_ref6) {\n        var root = _ref6.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_COMPLETE'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_UNDO'));\n    };\n\n    var clear = function clear(_ref7) {\n        var root = _ref7.root;\n        text(root.ref.main, '');\n        text(root.ref.sub, '');\n    };\n\n    var error = function error(_ref8) {\n        var root = _ref8.root,\n            action = _ref8.action;\n        text(root.ref.main, action.status.main);\n        text(root.ref.sub, action.status.sub);\n    };\n\n    var fileStatus = createView({\n        name: 'file-status',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: clear,\n            DID_REVERT_ITEM_PROCESSING: clear,\n            DID_REQUEST_ITEM_PROCESSING: didRequestItemProcessing,\n            DID_ABORT_ITEM_PROCESSING: didAbortItemProcessing,\n            DID_COMPLETE_ITEM_PROCESSING: didCompleteItemProcessing,\n            DID_UPDATE_ITEM_PROCESS_PROGRESS: didSetItemProcessProgress,\n            DID_UPDATE_ITEM_LOAD_PROGRESS: didSetItemLoadProgress,\n            DID_THROW_ITEM_LOAD_ERROR: error,\n            DID_THROW_ITEM_INVALID: error,\n            DID_THROW_ITEM_PROCESSING_ERROR: error,\n            DID_THROW_ITEM_PROCESSING_REVERT_ERROR: error,\n            DID_THROW_ITEM_REMOVE_ERROR: error,\n        }),\n\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        create: create$3,\n        mixins: {\n            styles: ['translateX', 'translateY', 'opacity'],\n            animations: {\n                opacity: { type: 'tween', duration: 250 },\n                translateX: 'spring',\n                translateY: 'spring',\n            },\n        },\n    });\n\n    /**\n     * Button definitions for the file view\n     */\n\n    var Buttons = {\n        AbortItemLoad: {\n            label: 'GET_LABEL_BUTTON_ABORT_ITEM_LOAD',\n            action: 'ABORT_ITEM_LOAD',\n            className: 'filepond--action-abort-item-load',\n            align: 'LOAD_INDICATOR_POSITION', // right\n        },\n        RetryItemLoad: {\n            label: 'GET_LABEL_BUTTON_RETRY_ITEM_LOAD',\n            action: 'RETRY_ITEM_LOAD',\n            icon: 'GET_ICON_RETRY',\n            className: 'filepond--action-retry-item-load',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        RemoveItem: {\n            label: 'GET_LABEL_BUTTON_REMOVE_ITEM',\n            action: 'REQUEST_REMOVE_ITEM',\n            icon: 'GET_ICON_REMOVE',\n            className: 'filepond--action-remove-item',\n            align: 'BUTTON_REMOVE_ITEM_POSITION', // left\n        },\n        ProcessItem: {\n            label: 'GET_LABEL_BUTTON_PROCESS_ITEM',\n            action: 'REQUEST_ITEM_PROCESSING',\n            icon: 'GET_ICON_PROCESS',\n            className: 'filepond--action-process-item',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        AbortItemProcessing: {\n            label: 'GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING',\n            action: 'ABORT_ITEM_PROCESSING',\n            className: 'filepond--action-abort-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        RetryItemProcessing: {\n            label: 'GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING',\n            action: 'RETRY_ITEM_PROCESSING',\n            icon: 'GET_ICON_RETRY',\n            className: 'filepond--action-retry-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        RevertItemProcessing: {\n            label: 'GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING',\n            action: 'REQUEST_REVERT_ITEM_PROCESSING',\n            icon: 'GET_ICON_UNDO',\n            className: 'filepond--action-revert-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n    };\n\n    // make a list of buttons, we can then remove buttons from this list if they're disabled\n    var ButtonKeys = [];\n    forin(Buttons, function(key) {\n        ButtonKeys.push(key);\n    });\n\n    var calculateFileInfoOffset = function calculateFileInfoOffset(root) {\n        if (getRemoveIndicatorAligment(root) === 'right') return 0;\n        var buttonRect = root.ref.buttonRemoveItem.rect.element;\n        return buttonRect.hidden ? null : buttonRect.width + buttonRect.left;\n    };\n\n    var calculateButtonWidth = function calculateButtonWidth(root) {\n        var buttonRect = root.ref.buttonAbortItemLoad.rect.element;\n        return buttonRect.width;\n    };\n\n    // Force on full pixels so text stays crips\n    var calculateFileVerticalCenterOffset = function calculateFileVerticalCenterOffset(root) {\n        return Math.floor(root.ref.buttonRemoveItem.rect.element.height / 4);\n    };\n    var calculateFileHorizontalCenterOffset = function calculateFileHorizontalCenterOffset(root) {\n        return Math.floor(root.ref.buttonRemoveItem.rect.element.left / 2);\n    };\n\n    var getLoadIndicatorAlignment = function getLoadIndicatorAlignment(root) {\n        return root.query('GET_STYLE_LOAD_INDICATOR_POSITION');\n    };\n    var getProcessIndicatorAlignment = function getProcessIndicatorAlignment(root) {\n        return root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION');\n    };\n    var getRemoveIndicatorAligment = function getRemoveIndicatorAligment(root) {\n        return root.query('GET_STYLE_BUTTON_REMOVE_ITEM_POSITION');\n    };\n\n    var DefaultStyle = {\n        buttonAbortItemLoad: { opacity: 0 },\n        buttonRetryItemLoad: { opacity: 0 },\n        buttonRemoveItem: { opacity: 0 },\n        buttonProcessItem: { opacity: 0 },\n        buttonAbortItemProcessing: { opacity: 0 },\n        buttonRetryItemProcessing: { opacity: 0 },\n        buttonRevertItemProcessing: { opacity: 0 },\n        loadProgressIndicator: { opacity: 0, align: getLoadIndicatorAlignment },\n        processProgressIndicator: { opacity: 0, align: getProcessIndicatorAlignment },\n        processingCompleteIndicator: { opacity: 0, scaleX: 0.75, scaleY: 0.75 },\n        info: { translateX: 0, translateY: 0, opacity: 0 },\n        status: { translateX: 0, translateY: 0, opacity: 0 },\n    };\n\n    var IdleStyle = {\n        buttonRemoveItem: { opacity: 1 },\n        buttonProcessItem: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset },\n        status: { translateX: calculateFileInfoOffset },\n    };\n\n    var ProcessingStyle = {\n        buttonAbortItemProcessing: { opacity: 1 },\n        processProgressIndicator: { opacity: 1 },\n        status: { opacity: 1 },\n    };\n\n    var StyleMap = {\n        DID_THROW_ITEM_INVALID: {\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { translateX: calculateFileInfoOffset, opacity: 1 },\n        },\n\n        DID_START_ITEM_LOAD: {\n            buttonAbortItemLoad: { opacity: 1 },\n            loadProgressIndicator: { opacity: 1 },\n            status: { opacity: 1 },\n        },\n\n        DID_THROW_ITEM_LOAD_ERROR: {\n            buttonRetryItemLoad: { opacity: 1 },\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1 },\n        },\n\n        DID_START_ITEM_REMOVE: {\n            processProgressIndicator: { opacity: 1, align: getRemoveIndicatorAligment },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 0 },\n        },\n\n        DID_THROW_ITEM_REMOVE_ERROR: {\n            processProgressIndicator: { opacity: 0, align: getRemoveIndicatorAligment },\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1, translateX: calculateFileInfoOffset },\n        },\n\n        DID_LOAD_ITEM: IdleStyle,\n        DID_LOAD_LOCAL_ITEM: {\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { translateX: calculateFileInfoOffset },\n        },\n\n        DID_START_ITEM_PROCESSING: ProcessingStyle,\n        DID_REQUEST_ITEM_PROCESSING: ProcessingStyle,\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: ProcessingStyle,\n        DID_COMPLETE_ITEM_PROCESSING: {\n            buttonRevertItemProcessing: { opacity: 1 },\n            info: { opacity: 1 },\n            status: { opacity: 1 },\n        },\n\n        DID_THROW_ITEM_PROCESSING_ERROR: {\n            buttonRemoveItem: { opacity: 1 },\n            buttonRetryItemProcessing: { opacity: 1 },\n            status: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n        },\n\n        DID_THROW_ITEM_PROCESSING_REVERT_ERROR: {\n            buttonRevertItemProcessing: { opacity: 1 },\n            status: { opacity: 1 },\n            info: { opacity: 1 },\n        },\n\n        DID_ABORT_ITEM_PROCESSING: {\n            buttonRemoveItem: { opacity: 1 },\n            buttonProcessItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1 },\n        },\n\n        DID_REVERT_ITEM_PROCESSING: IdleStyle,\n    };\n\n    // complete indicator view\n    var processingCompleteIndicatorView = createView({\n        create: function create(_ref) {\n            var root = _ref.root;\n            root.element.innerHTML = root.query('GET_ICON_DONE');\n        },\n        name: 'processing-complete-indicator',\n        ignoreRect: true,\n        mixins: {\n            styles: ['scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                opacity: { type: 'tween', duration: 250 },\n            },\n        },\n    });\n\n    /**\n     * Creates the file view\n     */\n    var create$4 = function create(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        // copy Buttons object\n        var LocalButtons = Object.keys(Buttons).reduce(function(prev, curr) {\n            prev[curr] = Object.assign({}, Buttons[curr]);\n            return prev;\n        }, {});\n        var id = props.id;\n\n        // allow reverting upload\n        var allowRevert = root.query('GET_ALLOW_REVERT');\n\n        // allow remove file\n        var allowRemove = root.query('GET_ALLOW_REMOVE');\n\n        // allow processing upload\n        var allowProcess = root.query('GET_ALLOW_PROCESS');\n\n        // is instant uploading, need this to determine the icon of the undo button\n        var instantUpload = root.query('GET_INSTANT_UPLOAD');\n\n        // is async set up\n        var isAsync = root.query('IS_ASYNC');\n\n        // should align remove item buttons\n        var alignRemoveItemButton = root.query('GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN');\n\n        // enabled buttons array\n        var buttonFilter;\n        if (isAsync) {\n            if (allowProcess && !allowRevert) {\n                // only remove revert button\n                buttonFilter = function buttonFilter(key) {\n                    return !/RevertItemProcessing/.test(key);\n                };\n            } else if (!allowProcess && allowRevert) {\n                // only remove process button\n                buttonFilter = function buttonFilter(key) {\n                    return !/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(key);\n                };\n            } else if (!allowProcess && !allowRevert) {\n                // remove all process buttons\n                buttonFilter = function buttonFilter(key) {\n                    return !/Process/.test(key);\n                };\n            }\n        } else {\n            // no process controls available\n            buttonFilter = function buttonFilter(key) {\n                return !/Process/.test(key);\n            };\n        }\n\n        var enabledButtons = buttonFilter ? ButtonKeys.filter(buttonFilter) : ButtonKeys.concat();\n\n        // update icon and label for revert button when instant uploading\n        if (instantUpload && allowRevert) {\n            LocalButtons['RevertItemProcessing'].label = 'GET_LABEL_BUTTON_REMOVE_ITEM';\n            LocalButtons['RevertItemProcessing'].icon = 'GET_ICON_REMOVE';\n        }\n\n        // remove last button (revert) if not allowed\n        if (isAsync && !allowRevert) {\n            var map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n            map.info.translateX = calculateFileHorizontalCenterOffset;\n            map.info.translateY = calculateFileVerticalCenterOffset;\n            map.status.translateY = calculateFileVerticalCenterOffset;\n            map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };\n        }\n\n        // should align center\n        if (isAsync && !allowProcess) {\n            [\n                'DID_START_ITEM_PROCESSING',\n                'DID_REQUEST_ITEM_PROCESSING',\n                'DID_UPDATE_ITEM_PROCESS_PROGRESS',\n                'DID_THROW_ITEM_PROCESSING_ERROR',\n            ].forEach(function(key) {\n                StyleMap[key].status.translateY = calculateFileVerticalCenterOffset;\n            });\n            StyleMap['DID_THROW_ITEM_PROCESSING_ERROR'].status.translateX = calculateButtonWidth;\n        }\n\n        // move remove button to right\n        if (alignRemoveItemButton && allowRevert) {\n            LocalButtons['RevertItemProcessing'].align = 'BUTTON_REMOVE_ITEM_POSITION';\n            var _map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n            _map.info.translateX = calculateFileInfoOffset;\n            _map.status.translateY = calculateFileVerticalCenterOffset;\n            _map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };\n        }\n\n        // show/hide RemoveItem button\n        if (!allowRemove) {\n            LocalButtons['RemoveItem'].disabled = true;\n        }\n\n        // create the button views\n        forin(LocalButtons, function(key, definition) {\n            // create button\n            var buttonView = root.createChildView(fileActionButton, {\n                label: root.query(definition.label),\n                icon: root.query(definition.icon),\n                opacity: 0,\n            });\n\n            // should be appended?\n            if (enabledButtons.includes(key)) {\n                root.appendChildView(buttonView);\n            }\n\n            // toggle\n            if (definition.disabled) {\n                buttonView.element.setAttribute('disabled', 'disabled');\n                buttonView.element.setAttribute('hidden', 'hidden');\n            }\n\n            // add position attribute\n            buttonView.element.dataset.align = root.query('GET_STYLE_' + definition.align);\n\n            // add class\n            buttonView.element.classList.add(definition.className);\n\n            // handle interactions\n            buttonView.on('click', function(e) {\n                e.stopPropagation();\n                if (definition.disabled) return;\n                root.dispatch(definition.action, { query: id });\n            });\n\n            // set reference\n            root.ref['button' + key] = buttonView;\n        });\n\n        // checkmark\n        root.ref.processingCompleteIndicator = root.appendChildView(\n            root.createChildView(processingCompleteIndicatorView)\n        );\n\n        root.ref.processingCompleteIndicator.element.dataset.align = root.query(\n            'GET_STYLE_BUTTON_PROCESS_ITEM_POSITION'\n        );\n\n        // create file info view\n        root.ref.info = root.appendChildView(root.createChildView(fileInfo, { id: id }));\n\n        // create file status view\n        root.ref.status = root.appendChildView(root.createChildView(fileStatus, { id: id }));\n\n        // add progress indicators\n        var loadIndicatorView = root.appendChildView(\n            root.createChildView(progressIndicator, {\n                opacity: 0,\n                align: root.query('GET_STYLE_LOAD_INDICATOR_POSITION'),\n            })\n        );\n\n        loadIndicatorView.element.classList.add('filepond--load-indicator');\n        root.ref.loadProgressIndicator = loadIndicatorView;\n\n        var progressIndicatorView = root.appendChildView(\n            root.createChildView(progressIndicator, {\n                opacity: 0,\n                align: root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION'),\n            })\n        );\n\n        progressIndicatorView.element.classList.add('filepond--process-indicator');\n        root.ref.processProgressIndicator = progressIndicatorView;\n\n        // current active styles\n        root.ref.activeStyles = [];\n    };\n\n    var write$2 = function write(_ref3) {\n        var root = _ref3.root,\n            actions = _ref3.actions,\n            props = _ref3.props;\n        // route actions\n        route({ root: root, actions: actions, props: props });\n\n        // select last state change action\n        var action = actions\n            .concat()\n            .filter(function(action) {\n                return /^DID_/.test(action.type);\n            })\n            .reverse()\n            .find(function(action) {\n                return StyleMap[action.type];\n            });\n\n        // a new action happened, let's get the matching styles\n        if (action) {\n            // define new active styles\n            root.ref.activeStyles = [];\n\n            var stylesToApply = StyleMap[action.type];\n            forin(DefaultStyle, function(name, defaultStyles) {\n                // get reference to control\n                var control = root.ref[name];\n\n                // loop over all styles for this control\n                forin(defaultStyles, function(key, defaultValue) {\n                    var value =\n                        stylesToApply[name] && typeof stylesToApply[name][key] !== 'undefined'\n                            ? stylesToApply[name][key]\n                            : defaultValue;\n                    root.ref.activeStyles.push({ control: control, key: key, value: value });\n                });\n            });\n        }\n\n        // apply active styles to element\n        root.ref.activeStyles.forEach(function(_ref4) {\n            var control = _ref4.control,\n                key = _ref4.key,\n                value = _ref4.value;\n            control[key] = typeof value === 'function' ? value(root) : value;\n        });\n    };\n\n    var route = createRoute({\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING: function DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING(\n            _ref5\n        ) {\n            var root = _ref5.root,\n                action = _ref5.action;\n            root.ref.buttonAbortItemProcessing.label = action.value;\n        },\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD: function DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD(_ref6) {\n            var root = _ref6.root,\n                action = _ref6.action;\n            root.ref.buttonAbortItemLoad.label = action.value;\n        },\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL: function DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL(\n            _ref7\n        ) {\n            var root = _ref7.root,\n                action = _ref7.action;\n            root.ref.buttonAbortItemRemoval.label = action.value;\n        },\n        DID_REQUEST_ITEM_PROCESSING: function DID_REQUEST_ITEM_PROCESSING(_ref8) {\n            var root = _ref8.root;\n            root.ref.processProgressIndicator.spin = true;\n            root.ref.processProgressIndicator.progress = 0;\n        },\n        DID_START_ITEM_LOAD: function DID_START_ITEM_LOAD(_ref9) {\n            var root = _ref9.root;\n            root.ref.loadProgressIndicator.spin = true;\n            root.ref.loadProgressIndicator.progress = 0;\n        },\n        DID_START_ITEM_REMOVE: function DID_START_ITEM_REMOVE(_ref10) {\n            var root = _ref10.root;\n            root.ref.processProgressIndicator.spin = true;\n            root.ref.processProgressIndicator.progress = 0;\n        },\n        DID_UPDATE_ITEM_LOAD_PROGRESS: function DID_UPDATE_ITEM_LOAD_PROGRESS(_ref11) {\n            var root = _ref11.root,\n                action = _ref11.action;\n            root.ref.loadProgressIndicator.spin = false;\n            root.ref.loadProgressIndicator.progress = action.progress;\n        },\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: function DID_UPDATE_ITEM_PROCESS_PROGRESS(_ref12) {\n            var root = _ref12.root,\n                action = _ref12.action;\n            root.ref.processProgressIndicator.spin = false;\n            root.ref.processProgressIndicator.progress = action.progress;\n        },\n    });\n\n    var file = createView({\n        create: create$4,\n        write: write$2,\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        name: 'file',\n    });\n\n    /**\n     * Creates the file view\n     */\n    var create$5 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // filename\n        root.ref.fileName = createElement$1('legend');\n        root.appendChild(root.ref.fileName);\n\n        // file appended\n        root.ref.file = root.appendChildView(root.createChildView(file, { id: props.id }));\n\n        // data has moved to data.js\n        root.ref.data = false;\n    };\n\n    /**\n     * Data storage\n     */\n    var didLoadItem = function didLoadItem(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        // updates the legend of the fieldset so screenreaders can better group buttons\n        text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n\n    var fileWrapper = createView({\n        create: create$5,\n        ignoreRect: true,\n        write: createRoute({\n            DID_LOAD_ITEM: didLoadItem,\n        }),\n\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        tag: 'fieldset',\n        name: 'file-wrapper',\n    });\n\n    var PANEL_SPRING_PROPS = { type: 'spring', damping: 0.6, mass: 7 };\n\n    var create$6 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        [\n            {\n                name: 'top',\n            },\n\n            {\n                name: 'center',\n                props: {\n                    translateY: null,\n                    scaleY: null,\n                },\n\n                mixins: {\n                    animations: {\n                        scaleY: PANEL_SPRING_PROPS,\n                    },\n\n                    styles: ['translateY', 'scaleY'],\n                },\n            },\n\n            {\n                name: 'bottom',\n                props: {\n                    translateY: null,\n                },\n\n                mixins: {\n                    animations: {\n                        translateY: PANEL_SPRING_PROPS,\n                    },\n\n                    styles: ['translateY'],\n                },\n            },\n        ].forEach(function(section) {\n            createSection(root, section, props.name);\n        });\n\n        root.element.classList.add('filepond--' + props.name);\n\n        root.ref.scalable = null;\n    };\n\n    var createSection = function createSection(root, section, className) {\n        var viewConstructor = createView({\n            name: 'panel-' + section.name + ' filepond--' + className,\n            mixins: section.mixins,\n            ignoreRectUpdate: true,\n        });\n\n        var view = root.createChildView(viewConstructor, section.props);\n\n        root.ref[section.name] = root.appendChildView(view);\n    };\n\n    var write$3 = function write(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n\n        // update scalable state\n        if (root.ref.scalable === null || props.scalable !== root.ref.scalable) {\n            root.ref.scalable = isBoolean(props.scalable) ? props.scalable : true;\n            root.element.dataset.scalable = root.ref.scalable;\n        }\n\n        // no height, can't set\n        if (!props.height) return;\n\n        // get child rects\n        var topRect = root.ref.top.rect.element;\n        var bottomRect = root.ref.bottom.rect.element;\n\n        // make sure height never is smaller than bottom and top seciton heights combined (will probably never happen, but who knows)\n        var height = Math.max(topRect.height + bottomRect.height, props.height);\n\n        // offset center part\n        root.ref.center.translateY = topRect.height;\n\n        // scale center part\n        // use math ceil to prevent transparent lines because of rounding errors\n        root.ref.center.scaleY = (height - topRect.height - bottomRect.height) / 100;\n\n        // offset bottom part\n        root.ref.bottom.translateY = height - bottomRect.height;\n    };\n\n    var panel = createView({\n        name: 'panel',\n        read: function read(_ref3) {\n            var root = _ref3.root,\n                props = _ref3.props;\n            return (props.heightCurrent = root.ref.bottom.translateY);\n        },\n        write: write$3,\n        create: create$6,\n        ignoreRect: true,\n        mixins: {\n            apis: ['height', 'heightCurrent', 'scalable'],\n        },\n    });\n\n    var createDragHelper = function createDragHelper(items) {\n        var itemIds = items.map(function(item) {\n            return item.id;\n        });\n        var prevIndex = undefined;\n        return {\n            setIndex: function setIndex(index) {\n                prevIndex = index;\n            },\n            getIndex: function getIndex() {\n                return prevIndex;\n            },\n            getItemIndex: function getItemIndex(item) {\n                return itemIds.indexOf(item.id);\n            },\n        };\n    };\n\n    var ITEM_TRANSLATE_SPRING = {\n        type: 'spring',\n        stiffness: 0.75,\n        damping: 0.45,\n        mass: 10,\n    };\n\n    var ITEM_SCALE_SPRING = 'spring';\n\n    var StateMap = {\n        DID_START_ITEM_LOAD: 'busy',\n        DID_UPDATE_ITEM_LOAD_PROGRESS: 'loading',\n        DID_THROW_ITEM_INVALID: 'load-invalid',\n        DID_THROW_ITEM_LOAD_ERROR: 'load-error',\n        DID_LOAD_ITEM: 'idle',\n        DID_THROW_ITEM_REMOVE_ERROR: 'remove-error',\n        DID_START_ITEM_REMOVE: 'busy',\n        DID_START_ITEM_PROCESSING: 'busy processing',\n        DID_REQUEST_ITEM_PROCESSING: 'busy processing',\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: 'processing',\n        DID_COMPLETE_ITEM_PROCESSING: 'processing-complete',\n        DID_THROW_ITEM_PROCESSING_ERROR: 'processing-error',\n        DID_THROW_ITEM_PROCESSING_REVERT_ERROR: 'processing-revert-error',\n        DID_ABORT_ITEM_PROCESSING: 'cancelled',\n        DID_REVERT_ITEM_PROCESSING: 'idle',\n    };\n\n    /**\n     * Creates the file view\n     */\n    var create$7 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // select\n        root.ref.handleClick = function(e) {\n            return root.dispatch('DID_ACTIVATE_ITEM', { id: props.id });\n        };\n\n        // set id\n        root.element.id = 'filepond--item-' + props.id;\n        root.element.addEventListener('click', root.ref.handleClick);\n\n        // file view\n        root.ref.container = root.appendChildView(\n            root.createChildView(fileWrapper, { id: props.id })\n        );\n\n        // file panel\n        root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'item-panel' }));\n\n        // default start height\n        root.ref.panel.height = null;\n\n        // by default not marked for removal\n        props.markedForRemoval = false;\n\n        // if not allowed to reorder file items, exit here\n        if (!root.query('GET_ALLOW_REORDER')) return;\n\n        // set to idle so shows grab cursor\n        root.element.dataset.dragState = 'idle';\n\n        var grab = function grab(e) {\n            if (!e.isPrimary) return;\n\n            var removedActivateListener = false;\n\n            var origin = {\n                x: e.pageX,\n                y: e.pageY,\n            };\n\n            props.dragOrigin = {\n                x: root.translateX,\n                y: root.translateY,\n            };\n\n            props.dragCenter = {\n                x: e.offsetX,\n                y: e.offsetY,\n            };\n\n            var dragState = createDragHelper(root.query('GET_ACTIVE_ITEMS'));\n\n            root.dispatch('DID_GRAB_ITEM', { id: props.id, dragState: dragState });\n\n            var drag = function drag(e) {\n                if (!e.isPrimary) return;\n\n                e.stopPropagation();\n                e.preventDefault();\n\n                props.dragOffset = {\n                    x: e.pageX - origin.x,\n                    y: e.pageY - origin.y,\n                };\n\n                // if dragged stop listening to clicks, will re-add when done dragging\n                var dist =\n                    props.dragOffset.x * props.dragOffset.x +\n                    props.dragOffset.y * props.dragOffset.y;\n                if (dist > 16 && !removedActivateListener) {\n                    removedActivateListener = true;\n                    root.element.removeEventListener('click', root.ref.handleClick);\n                }\n\n                root.dispatch('DID_DRAG_ITEM', { id: props.id, dragState: dragState });\n            };\n\n            var drop = function drop(e) {\n                if (!e.isPrimary) return;\n\n                document.removeEventListener('pointermove', drag);\n                document.removeEventListener('pointerup', drop);\n\n                props.dragOffset = {\n                    x: e.pageX - origin.x,\n                    y: e.pageY - origin.y,\n                };\n\n                root.dispatch('DID_DROP_ITEM', { id: props.id, dragState: dragState });\n\n                // start listening to clicks again\n                if (removedActivateListener) {\n                    setTimeout(function() {\n                        return root.element.addEventListener('click', root.ref.handleClick);\n                    }, 0);\n                }\n            };\n\n            document.addEventListener('pointermove', drag);\n            document.addEventListener('pointerup', drop);\n        };\n\n        root.element.addEventListener('pointerdown', grab);\n    };\n\n    var route$1 = createRoute({\n        DID_UPDATE_PANEL_HEIGHT: function DID_UPDATE_PANEL_HEIGHT(_ref2) {\n            var root = _ref2.root,\n                action = _ref2.action;\n            root.height = action.height;\n        },\n    });\n\n    var write$4 = createRoute(\n        {\n            DID_GRAB_ITEM: function DID_GRAB_ITEM(_ref3) {\n                var root = _ref3.root,\n                    props = _ref3.props;\n                props.dragOrigin = {\n                    x: root.translateX,\n                    y: root.translateY,\n                };\n            },\n            DID_DRAG_ITEM: function DID_DRAG_ITEM(_ref4) {\n                var root = _ref4.root;\n                root.element.dataset.dragState = 'drag';\n            },\n            DID_DROP_ITEM: function DID_DROP_ITEM(_ref5) {\n                var root = _ref5.root,\n                    props = _ref5.props;\n                props.dragOffset = null;\n                props.dragOrigin = null;\n                root.element.dataset.dragState = 'drop';\n            },\n        },\n        function(_ref6) {\n            var root = _ref6.root,\n                actions = _ref6.actions,\n                props = _ref6.props,\n                shouldOptimize = _ref6.shouldOptimize;\n\n            if (root.element.dataset.dragState === 'drop') {\n                if (root.scaleX <= 1) {\n                    root.element.dataset.dragState = 'idle';\n                }\n            }\n\n            // select last state change action\n            var action = actions\n                .concat()\n                .filter(function(action) {\n                    return /^DID_/.test(action.type);\n                })\n                .reverse()\n                .find(function(action) {\n                    return StateMap[action.type];\n                });\n\n            // no need to set same state twice\n            if (action && action.type !== props.currentState) {\n                // set current state\n                props.currentState = action.type;\n\n                // set state\n                root.element.dataset.filepondItemState = StateMap[props.currentState] || '';\n            }\n\n            // route actions\n            var aspectRatio =\n                root.query('GET_ITEM_PANEL_ASPECT_RATIO') || root.query('GET_PANEL_ASPECT_RATIO');\n            if (!aspectRatio) {\n                route$1({ root: root, actions: actions, props: props });\n                if (!root.height && root.ref.container.rect.element.height > 0) {\n                    root.height = root.ref.container.rect.element.height;\n                }\n            } else if (!shouldOptimize) {\n                root.height = root.rect.element.width * aspectRatio;\n            }\n\n            // sync panel height with item height\n            if (shouldOptimize) {\n                root.ref.panel.height = null;\n            }\n\n            root.ref.panel.height = root.height;\n        }\n    );\n\n    var item = createView({\n        create: create$7,\n        write: write$4,\n        destroy: function destroy(_ref7) {\n            var root = _ref7.root,\n                props = _ref7.props;\n            root.element.removeEventListener('click', root.ref.handleClick);\n            root.dispatch('RELEASE_ITEM', { query: props.id });\n        },\n        tag: 'li',\n        name: 'item',\n        mixins: {\n            apis: [\n                'id',\n                'interactionMethod',\n                'markedForRemoval',\n                'spawnDate',\n                'dragCenter',\n                'dragOrigin',\n                'dragOffset',\n            ],\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity', 'height'],\n\n            animations: {\n                scaleX: ITEM_SCALE_SPRING,\n                scaleY: ITEM_SCALE_SPRING,\n                translateX: ITEM_TRANSLATE_SPRING,\n                translateY: ITEM_TRANSLATE_SPRING,\n                opacity: { type: 'tween', duration: 150 },\n            },\n        },\n    });\n\n    var getItemsPerRow = function(horizontalSpace, itemWidth) {\n        // add one pixel leeway, when using percentages for item width total items can be 1.99 per row\n\n        return Math.max(1, Math.floor((horizontalSpace + 1) / itemWidth));\n    };\n\n    var getItemIndexByPosition = function getItemIndexByPosition(view, children, positionInView) {\n        if (!positionInView) return;\n\n        var horizontalSpace = view.rect.element.width;\n        // const children = view.childViews;\n        var l = children.length;\n        var last = null;\n\n        // -1, don't move items to accomodate (either add to top or bottom)\n        if (l === 0 || positionInView.top < children[0].rect.element.top) return -1;\n\n        // let's get the item width\n        var item = children[0];\n        var itemRect = item.rect.element;\n        var itemHorizontalMargin = itemRect.marginLeft + itemRect.marginRight;\n        var itemWidth = itemRect.width + itemHorizontalMargin;\n        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n        // stack\n        if (itemsPerRow === 1) {\n            for (var index = 0; index < l; index++) {\n                var child = children[index];\n                var childMid = child.rect.outer.top + child.rect.element.height * 0.5;\n                if (positionInView.top < childMid) {\n                    return index;\n                }\n            }\n            return l;\n        }\n\n        // grid\n        var itemVerticalMargin = itemRect.marginTop + itemRect.marginBottom;\n        var itemHeight = itemRect.height + itemVerticalMargin;\n        for (var _index = 0; _index < l; _index++) {\n            var indexX = _index % itemsPerRow;\n            var indexY = Math.floor(_index / itemsPerRow);\n\n            var offsetX = indexX * itemWidth;\n            var offsetY = indexY * itemHeight;\n\n            var itemTop = offsetY - itemRect.marginTop;\n            var itemRight = offsetX + itemWidth;\n            var itemBottom = offsetY + itemHeight + itemRect.marginBottom;\n\n            if (positionInView.top < itemBottom && positionInView.top > itemTop) {\n                if (positionInView.left < itemRight) {\n                    return _index;\n                } else if (_index !== l - 1) {\n                    last = _index;\n                } else {\n                    last = null;\n                }\n            }\n        }\n\n        if (last !== null) {\n            return last;\n        }\n\n        return l;\n    };\n\n    var dropAreaDimensions = {\n        height: 0,\n        width: 0,\n        get getHeight() {\n            return this.height;\n        },\n        set setHeight(val) {\n            if (this.height === 0 || val === 0) this.height = val;\n        },\n        get getWidth() {\n            return this.width;\n        },\n        set setWidth(val) {\n            if (this.width === 0 || val === 0) this.width = val;\n        },\n        setDimensions: function setDimensions(height, width) {\n            if (this.height === 0 || height === 0) this.height = height;\n            if (this.width === 0 || width === 0) this.width = width;\n        },\n    };\n\n    var create$8 = function create(_ref) {\n        var root = _ref.root;\n        // need to set role to list as otherwise it won't be read as a list by VoiceOver\n        attr(root.element, 'role', 'list');\n\n        root.ref.lastItemSpanwDate = Date.now();\n    };\n\n    /**\n     * Inserts a new item\n     * @param root\n     * @param action\n     */\n    var addItemView = function addItemView(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        var id = action.id,\n            index = action.index,\n            interactionMethod = action.interactionMethod;\n\n        root.ref.addIndex = index;\n\n        var now = Date.now();\n        var spawnDate = now;\n        var opacity = 1;\n\n        if (interactionMethod !== InteractionMethod.NONE) {\n            opacity = 0;\n            var cooldown = root.query('GET_ITEM_INSERT_INTERVAL');\n            var dist = now - root.ref.lastItemSpanwDate;\n            spawnDate = dist < cooldown ? now + (cooldown - dist) : now;\n        }\n\n        root.ref.lastItemSpanwDate = spawnDate;\n\n        root.appendChildView(\n            root.createChildView(\n                // view type\n                item,\n\n                // props\n                {\n                    spawnDate: spawnDate,\n                    id: id,\n                    opacity: opacity,\n                    interactionMethod: interactionMethod,\n                }\n            ),\n\n            index\n        );\n    };\n\n    var moveItem = function moveItem(item, x, y) {\n        var vx = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n        var vy = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n        // set to null to remove animation while dragging\n        if (item.dragOffset) {\n            item.translateX = null;\n            item.translateY = null;\n            item.translateX = item.dragOrigin.x + item.dragOffset.x;\n            item.translateY = item.dragOrigin.y + item.dragOffset.y;\n            item.scaleX = 1.025;\n            item.scaleY = 1.025;\n        } else {\n            item.translateX = x;\n            item.translateY = y;\n\n            if (Date.now() > item.spawnDate) {\n                // reveal element\n                if (item.opacity === 0) {\n                    introItemView(item, x, y, vx, vy);\n                }\n\n                // make sure is default scale every frame\n                item.scaleX = 1;\n                item.scaleY = 1;\n                item.opacity = 1;\n            }\n        }\n    };\n\n    var introItemView = function introItemView(item, x, y, vx, vy) {\n        if (item.interactionMethod === InteractionMethod.NONE) {\n            item.translateX = null;\n            item.translateX = x;\n            item.translateY = null;\n            item.translateY = y;\n        } else if (item.interactionMethod === InteractionMethod.DROP) {\n            item.translateX = null;\n            item.translateX = x - vx * 20;\n\n            item.translateY = null;\n            item.translateY = y - vy * 10;\n\n            item.scaleX = 0.8;\n            item.scaleY = 0.8;\n        } else if (item.interactionMethod === InteractionMethod.BROWSE) {\n            item.translateY = null;\n            item.translateY = y - 30;\n        } else if (item.interactionMethod === InteractionMethod.API) {\n            item.translateX = null;\n            item.translateX = x - 30;\n            item.translateY = null;\n        }\n    };\n\n    /**\n     * Removes an existing item\n     * @param root\n     * @param action\n     */\n    var removeItemView = function removeItemView(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        var id = action.id;\n\n        // get the view matching the given id\n        var view = root.childViews.find(function(child) {\n            return child.id === id;\n        });\n\n        // if no view found, exit\n        if (!view) {\n            return;\n        }\n\n        // animate view out of view\n        view.scaleX = 0.9;\n        view.scaleY = 0.9;\n        view.opacity = 0;\n\n        // mark for removal\n        view.markedForRemoval = true;\n    };\n\n    var getItemHeight = function getItemHeight(child) {\n        return (\n            child.rect.element.height +\n            child.rect.element.marginBottom * 0.5 +\n            child.rect.element.marginTop * 0.5\n        );\n    };\n    var getItemWidth = function getItemWidth(child) {\n        return (\n            child.rect.element.width +\n            child.rect.element.marginLeft * 0.5 +\n            child.rect.element.marginRight * 0.5\n        );\n    };\n\n    var dragItem = function dragItem(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        var id = action.id,\n            dragState = action.dragState;\n\n        // reference to item\n        var item = root.query('GET_ITEM', { id: id });\n\n        // get the view matching the given id\n        var view = root.childViews.find(function(child) {\n            return child.id === id;\n        });\n\n        var numItems = root.childViews.length;\n        var oldIndex = dragState.getItemIndex(item);\n\n        // if no view found, exit\n        if (!view) return;\n\n        var dragPosition = {\n            x: view.dragOrigin.x + view.dragOffset.x + view.dragCenter.x,\n            y: view.dragOrigin.y + view.dragOffset.y + view.dragCenter.y,\n        };\n\n        // get drag area dimensions\n        var dragHeight = getItemHeight(view);\n        var dragWidth = getItemWidth(view);\n\n        // get rows and columns (There will always be at least one row and one column if a file is present)\n        var cols = Math.floor(root.rect.outer.width / dragWidth);\n        if (cols > numItems) cols = numItems;\n\n        // rows are used to find when we have left the preview area bounding box\n        var rows = Math.floor(numItems / cols + 1);\n\n        dropAreaDimensions.setHeight = dragHeight * rows;\n        dropAreaDimensions.setWidth = dragWidth * cols;\n\n        // get new index of dragged item\n        var location = {\n            y: Math.floor(dragPosition.y / dragHeight),\n            x: Math.floor(dragPosition.x / dragWidth),\n            getGridIndex: function getGridIndex() {\n                if (\n                    dragPosition.y > dropAreaDimensions.getHeight ||\n                    dragPosition.y < 0 ||\n                    dragPosition.x > dropAreaDimensions.getWidth ||\n                    dragPosition.x < 0\n                )\n                    return oldIndex;\n                return this.y * cols + this.x;\n            },\n            getColIndex: function getColIndex() {\n                var items = root.query('GET_ACTIVE_ITEMS');\n                var visibleChildren = root.childViews.filter(function(child) {\n                    return child.rect.element.height;\n                });\n                var children = items.map(function(item) {\n                    return visibleChildren.find(function(childView) {\n                        return childView.id === item.id;\n                    });\n                });\n\n                var currentIndex = children.findIndex(function(child) {\n                    return child === view;\n                });\n                var dragHeight = getItemHeight(view);\n                var l = children.length;\n                var idx = l;\n                var childHeight = 0;\n                var childBottom = 0;\n                var childTop = 0;\n                for (var i = 0; i < l; i++) {\n                    childHeight = getItemHeight(children[i]);\n                    childTop = childBottom;\n                    childBottom = childTop + childHeight;\n                    if (dragPosition.y < childBottom) {\n                        if (currentIndex > i) {\n                            if (dragPosition.y < childTop + dragHeight) {\n                                idx = i;\n                                break;\n                            }\n                            continue;\n                        }\n                        idx = i;\n                        break;\n                    }\n                }\n                return idx;\n            },\n        };\n\n        // get new index\n        var index = cols > 1 ? location.getGridIndex() : location.getColIndex();\n        root.dispatch('MOVE_ITEM', { query: view, index: index });\n\n        // if the index of the item changed, dispatch reorder action\n        var currentIndex = dragState.getIndex();\n\n        if (currentIndex === undefined || currentIndex !== index) {\n            dragState.setIndex(index);\n\n            if (currentIndex === undefined) return;\n\n            root.dispatch('DID_REORDER_ITEMS', {\n                items: root.query('GET_ACTIVE_ITEMS'),\n                origin: oldIndex,\n                target: index,\n            });\n        }\n    };\n\n    /**\n     * Setup action routes\n     */\n    var route$2 = createRoute({\n        DID_ADD_ITEM: addItemView,\n        DID_REMOVE_ITEM: removeItemView,\n        DID_DRAG_ITEM: dragItem,\n    });\n\n    /**\n     * Write to view\n     * @param root\n     * @param actions\n     * @param props\n     */\n    var write$5 = function write(_ref5) {\n        var root = _ref5.root,\n            props = _ref5.props,\n            actions = _ref5.actions,\n            shouldOptimize = _ref5.shouldOptimize;\n        // route actions\n        route$2({ root: root, props: props, actions: actions });\n        var dragCoordinates = props.dragCoordinates;\n\n        // available space on horizontal axis\n        var horizontalSpace = root.rect.element.width;\n\n        // only draw children that have dimensions\n        var visibleChildren = root.childViews.filter(function(child) {\n            return child.rect.element.height;\n        });\n\n        // sort based on current active items\n        var children = root\n            .query('GET_ACTIVE_ITEMS')\n            .map(function(item) {\n                return visibleChildren.find(function(child) {\n                    return child.id === item.id;\n                });\n            })\n            .filter(function(item) {\n                return item;\n            });\n\n        // get index\n        var dragIndex = dragCoordinates\n            ? getItemIndexByPosition(root, children, dragCoordinates)\n            : null;\n\n        // add index is used to reserve the dropped/added item index till the actual item is rendered\n        var addIndex = root.ref.addIndex || null;\n\n        // add index no longer needed till possibly next draw\n        root.ref.addIndex = null;\n\n        var dragIndexOffset = 0;\n        var removeIndexOffset = 0;\n        var addIndexOffset = 0;\n\n        if (children.length === 0) return;\n\n        var childRect = children[0].rect.element;\n        var itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n        var itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n        var itemWidth = childRect.width + itemHorizontalMargin;\n        var itemHeight = childRect.height + itemVerticalMargin;\n        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n        // stack\n        if (itemsPerRow === 1) {\n            var offsetY = 0;\n            var dragOffset = 0;\n\n            children.forEach(function(child, index) {\n                if (dragIndex) {\n                    var dist = index - dragIndex;\n                    if (dist === -2) {\n                        dragOffset = -itemVerticalMargin * 0.25;\n                    } else if (dist === -1) {\n                        dragOffset = -itemVerticalMargin * 0.75;\n                    } else if (dist === 0) {\n                        dragOffset = itemVerticalMargin * 0.75;\n                    } else if (dist === 1) {\n                        dragOffset = itemVerticalMargin * 0.25;\n                    } else {\n                        dragOffset = 0;\n                    }\n                }\n\n                if (shouldOptimize) {\n                    child.translateX = null;\n                    child.translateY = null;\n                }\n\n                if (!child.markedForRemoval) {\n                    moveItem(child, 0, offsetY + dragOffset);\n                }\n\n                var itemHeight = child.rect.element.height + itemVerticalMargin;\n\n                var visualHeight = itemHeight * (child.markedForRemoval ? child.opacity : 1);\n\n                offsetY += visualHeight;\n            });\n        }\n        // grid\n        else {\n            var prevX = 0;\n            var prevY = 0;\n\n            children.forEach(function(child, index) {\n                if (index === dragIndex) {\n                    dragIndexOffset = 1;\n                }\n\n                if (index === addIndex) {\n                    addIndexOffset += 1;\n                }\n\n                if (child.markedForRemoval && child.opacity < 0.5) {\n                    removeIndexOffset -= 1;\n                }\n\n                var visualIndex = index + addIndexOffset + dragIndexOffset + removeIndexOffset;\n\n                var indexX = visualIndex % itemsPerRow;\n                var indexY = Math.floor(visualIndex / itemsPerRow);\n\n                var offsetX = indexX * itemWidth;\n                var offsetY = indexY * itemHeight;\n\n                var vectorX = Math.sign(offsetX - prevX);\n                var vectorY = Math.sign(offsetY - prevY);\n\n                prevX = offsetX;\n                prevY = offsetY;\n\n                if (child.markedForRemoval) return;\n\n                if (shouldOptimize) {\n                    child.translateX = null;\n                    child.translateY = null;\n                }\n\n                moveItem(child, offsetX, offsetY, vectorX, vectorY);\n            });\n        }\n    };\n\n    /**\n     * Filters actions that are meant specifically for a certain child of the list\n     * @param child\n     * @param actions\n     */\n    var filterSetItemActions = function filterSetItemActions(child, actions) {\n        return actions.filter(function(action) {\n            // if action has an id, filter out actions that don't have this child id\n            if (action.data && action.data.id) {\n                return child.id === action.data.id;\n            }\n\n            // allow all other actions\n            return true;\n        });\n    };\n\n    var list = createView({\n        create: create$8,\n        write: write$5,\n        tag: 'ul',\n        name: 'list',\n        didWriteView: function didWriteView(_ref6) {\n            var root = _ref6.root;\n            root.childViews\n                .filter(function(view) {\n                    return view.markedForRemoval && view.opacity === 0 && view.resting;\n                })\n                .forEach(function(view) {\n                    view._destroy();\n                    root.removeChildView(view);\n                });\n        },\n        filterFrameActionsForChild: filterSetItemActions,\n        mixins: {\n            apis: ['dragCoordinates'],\n        },\n    });\n\n    var create$9 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.ref.list = root.appendChildView(root.createChildView(list));\n        props.dragCoordinates = null;\n        props.overflowing = false;\n    };\n\n    var storeDragCoordinates = function storeDragCoordinates(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props,\n            action = _ref2.action;\n        if (!root.query('GET_ITEM_INSERT_LOCATION_FREEDOM')) return;\n        props.dragCoordinates = {\n            left: action.position.scopeLeft - root.ref.list.rect.element.left,\n            top:\n                action.position.scopeTop -\n                (root.rect.outer.top + root.rect.element.marginTop + root.rect.element.scrollTop),\n        };\n    };\n\n    var clearDragCoordinates = function clearDragCoordinates(_ref3) {\n        var props = _ref3.props;\n        props.dragCoordinates = null;\n    };\n\n    var route$3 = createRoute({\n        DID_DRAG: storeDragCoordinates,\n        DID_END_DRAG: clearDragCoordinates,\n    });\n\n    var write$6 = function write(_ref4) {\n        var root = _ref4.root,\n            props = _ref4.props,\n            actions = _ref4.actions;\n\n        // route actions\n        route$3({ root: root, props: props, actions: actions });\n\n        // current drag position\n        root.ref.list.dragCoordinates = props.dragCoordinates;\n\n        // if currently overflowing but no longer received overflow\n        if (props.overflowing && !props.overflow) {\n            props.overflowing = false;\n\n            // reset overflow state\n            root.element.dataset.state = '';\n            root.height = null;\n        }\n\n        // if is not overflowing currently but does receive overflow value\n        if (props.overflow) {\n            var newHeight = Math.round(props.overflow);\n            if (newHeight !== root.height) {\n                props.overflowing = true;\n                root.element.dataset.state = 'overflow';\n                root.height = newHeight;\n            }\n        }\n    };\n\n    var listScroller = createView({\n        create: create$9,\n        write: write$6,\n        name: 'list-scroller',\n        mixins: {\n            apis: ['overflow', 'dragCoordinates'],\n            styles: ['height', 'translateY'],\n            animations: {\n                translateY: 'spring',\n            },\n        },\n    });\n\n    var attrToggle = function attrToggle(element, name, state) {\n        var enabledValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n        if (state) {\n            attr(element, name, enabledValue);\n        } else {\n            element.removeAttribute(name);\n        }\n    };\n\n    var resetFileInput = function resetFileInput(input) {\n        // no value, no need to reset\n        if (!input || input.value === '') {\n            return;\n        }\n\n        try {\n            // for modern browsers\n            input.value = '';\n        } catch (err) {}\n\n        // for IE10\n        if (input.value) {\n            // quickly append input to temp form and reset form\n            var form = createElement$1('form');\n            var parentNode = input.parentNode;\n            var ref = input.nextSibling;\n            form.appendChild(input);\n            form.reset();\n\n            // re-inject input where it originally was\n            if (ref) {\n                parentNode.insertBefore(input, ref);\n            } else {\n                parentNode.appendChild(input);\n            }\n        }\n    };\n\n    var create$a = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // set id so can be referenced from outside labels\n        root.element.id = 'filepond--browser-' + props.id;\n\n        // set name of element (is removed when a value is set)\n        attr(root.element, 'name', root.query('GET_NAME'));\n\n        // we have to link this element to the status element\n        attr(root.element, 'aria-controls', 'filepond--assistant-' + props.id);\n\n        // set label, we use labelled by as otherwise the screenreader does not read the \"browse\" text in the label (as it has tabindex: 0)\n        attr(root.element, 'aria-labelledby', 'filepond--drop-label-' + props.id);\n\n        // set configurable props\n        setAcceptedFileTypes({\n            root: root,\n            action: { value: root.query('GET_ACCEPTED_FILE_TYPES') },\n        });\n        toggleAllowMultiple({ root: root, action: { value: root.query('GET_ALLOW_MULTIPLE') } });\n        toggleDirectoryFilter({\n            root: root,\n            action: { value: root.query('GET_ALLOW_DIRECTORIES_ONLY') },\n        });\n        toggleDisabled({ root: root });\n        toggleRequired({ root: root, action: { value: root.query('GET_REQUIRED') } });\n        setCaptureMethod({ root: root, action: { value: root.query('GET_CAPTURE_METHOD') } });\n\n        // handle changes to the input field\n        root.ref.handleChange = function(e) {\n            if (!root.element.value) {\n                return;\n            }\n\n            // extract files and move value of webkitRelativePath path to _relativePath\n            var files = Array.from(root.element.files).map(function(file) {\n                file._relativePath = file.webkitRelativePath;\n                return file;\n            });\n\n            // we add a little delay so the OS file select window can move out of the way before we add our file\n            setTimeout(function() {\n                // load files\n                props.onload(files);\n\n                // reset input, it's just for exposing a method to drop files, should not retain any state\n                resetFileInput(root.element);\n            }, 250);\n        };\n\n        root.element.addEventListener('change', root.ref.handleChange);\n    };\n\n    var setAcceptedFileTypes = function setAcceptedFileTypes(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        if (!root.query('GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE')) return;\n        attrToggle(\n            root.element,\n            'accept',\n            !!action.value,\n            action.value ? action.value.join(',') : ''\n        );\n    };\n\n    var toggleAllowMultiple = function toggleAllowMultiple(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        attrToggle(root.element, 'multiple', action.value);\n    };\n\n    var toggleDirectoryFilter = function toggleDirectoryFilter(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        attrToggle(root.element, 'webkitdirectory', action.value);\n    };\n\n    var toggleDisabled = function toggleDisabled(_ref5) {\n        var root = _ref5.root;\n        var isDisabled = root.query('GET_DISABLED');\n        var doesAllowBrowse = root.query('GET_ALLOW_BROWSE');\n        var disableField = isDisabled || !doesAllowBrowse;\n        attrToggle(root.element, 'disabled', disableField);\n    };\n\n    var toggleRequired = function toggleRequired(_ref6) {\n        var root = _ref6.root,\n            action = _ref6.action;\n        // want to remove required, always possible\n        if (!action.value) {\n            attrToggle(root.element, 'required', false);\n        }\n        // if want to make required, only possible when zero items\n        else if (root.query('GET_TOTAL_ITEMS') === 0) {\n            attrToggle(root.element, 'required', true);\n        }\n    };\n\n    var setCaptureMethod = function setCaptureMethod(_ref7) {\n        var root = _ref7.root,\n            action = _ref7.action;\n        attrToggle(\n            root.element,\n            'capture',\n            !!action.value,\n            action.value === true ? '' : action.value\n        );\n    };\n\n    var updateRequiredStatus = function updateRequiredStatus(_ref8) {\n        var root = _ref8.root;\n        var element = root.element;\n        // always remove the required attribute when more than zero items\n        if (root.query('GET_TOTAL_ITEMS') > 0) {\n            attrToggle(element, 'required', false);\n            attrToggle(element, 'name', false);\n        } else {\n            // add name attribute\n            attrToggle(element, 'name', true, root.query('GET_NAME'));\n\n            // remove any validation messages\n            var shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n            if (shouldCheckValidity) {\n                element.setCustomValidity('');\n            }\n\n            // we only add required if the field has been deemed required\n            if (root.query('GET_REQUIRED')) {\n                attrToggle(element, 'required', true);\n            }\n        }\n    };\n\n    var updateFieldValidityStatus = function updateFieldValidityStatus(_ref9) {\n        var root = _ref9.root;\n        var shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n        if (!shouldCheckValidity) return;\n        root.element.setCustomValidity(root.query('GET_LABEL_INVALID_FIELD'));\n    };\n\n    var browser = createView({\n        tag: 'input',\n        name: 'browser',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        attributes: {\n            type: 'file',\n        },\n\n        create: create$a,\n        destroy: function destroy(_ref10) {\n            var root = _ref10.root;\n            root.element.removeEventListener('change', root.ref.handleChange);\n        },\n        write: createRoute({\n            DID_LOAD_ITEM: updateRequiredStatus,\n            DID_REMOVE_ITEM: updateRequiredStatus,\n            DID_THROW_ITEM_INVALID: updateFieldValidityStatus,\n\n            DID_SET_DISABLED: toggleDisabled,\n            DID_SET_ALLOW_BROWSE: toggleDisabled,\n            DID_SET_ALLOW_DIRECTORIES_ONLY: toggleDirectoryFilter,\n            DID_SET_ALLOW_MULTIPLE: toggleAllowMultiple,\n            DID_SET_ACCEPTED_FILE_TYPES: setAcceptedFileTypes,\n            DID_SET_CAPTURE_METHOD: setCaptureMethod,\n            DID_SET_REQUIRED: toggleRequired,\n        }),\n    });\n\n    var Key = {\n        ENTER: 13,\n        SPACE: 32,\n    };\n\n    var create$b = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // create the label and link it to the file browser\n        var label = createElement$1('label');\n        attr(label, 'for', 'filepond--browser-' + props.id);\n\n        // use for labeling file input (aria-labelledby on file input)\n        attr(label, 'id', 'filepond--drop-label-' + props.id);\n\n        // hide the label for screenreaders, the input element will read the contents of the label when it's focussed. If we don't set aria-hidden the screenreader will also navigate the contents of the label separately from the input.\n        attr(label, 'aria-hidden', 'true');\n\n        // handle keys\n        root.ref.handleKeyDown = function(e) {\n            var isActivationKey = e.keyCode === Key.ENTER || e.keyCode === Key.SPACE;\n            if (!isActivationKey) return;\n            // stops from triggering the element a second time\n            e.preventDefault();\n\n            // click link (will then in turn activate file input)\n            root.ref.label.click();\n        };\n\n        root.ref.handleClick = function(e) {\n            var isLabelClick = e.target === label || label.contains(e.target);\n\n            // don't want to click twice\n            if (isLabelClick) return;\n\n            // click link (will then in turn activate file input)\n            root.ref.label.click();\n        };\n\n        // attach events\n        label.addEventListener('keydown', root.ref.handleKeyDown);\n        root.element.addEventListener('click', root.ref.handleClick);\n\n        // update\n        updateLabelValue(label, props.caption);\n\n        // add!\n        root.appendChild(label);\n        root.ref.label = label;\n    };\n\n    var updateLabelValue = function updateLabelValue(label, value) {\n        label.innerHTML = value;\n        var clickable = label.querySelector('.filepond--label-action');\n        if (clickable) {\n            attr(clickable, 'tabindex', '0');\n        }\n        return value;\n    };\n\n    var dropLabel = createView({\n        name: 'drop-label',\n        ignoreRect: true,\n        create: create$b,\n        destroy: function destroy(_ref2) {\n            var root = _ref2.root;\n            root.ref.label.addEventListener('keydown', root.ref.handleKeyDown);\n            root.element.removeEventListener('click', root.ref.handleClick);\n        },\n        write: createRoute({\n            DID_SET_LABEL_IDLE: function DID_SET_LABEL_IDLE(_ref3) {\n                var root = _ref3.root,\n                    action = _ref3.action;\n                updateLabelValue(root.ref.label, action.value);\n            },\n        }),\n\n        mixins: {\n            styles: ['opacity', 'translateX', 'translateY'],\n            animations: {\n                opacity: { type: 'tween', duration: 150 },\n                translateX: 'spring',\n                translateY: 'spring',\n            },\n        },\n    });\n\n    var blob = createView({\n        name: 'drip-blob',\n        ignoreRect: true,\n        mixins: {\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                translateX: 'spring',\n                translateY: 'spring',\n                opacity: { type: 'tween', duration: 250 },\n            },\n        },\n    });\n\n    var addBlob = function addBlob(_ref) {\n        var root = _ref.root;\n        var centerX = root.rect.element.width * 0.5;\n        var centerY = root.rect.element.height * 0.5;\n\n        root.ref.blob = root.appendChildView(\n            root.createChildView(blob, {\n                opacity: 0,\n                scaleX: 2.5,\n                scaleY: 2.5,\n                translateX: centerX,\n                translateY: centerY,\n            })\n        );\n    };\n\n    var moveBlob = function moveBlob(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        if (!root.ref.blob) {\n            addBlob({ root: root });\n            return;\n        }\n\n        root.ref.blob.translateX = action.position.scopeLeft;\n        root.ref.blob.translateY = action.position.scopeTop;\n        root.ref.blob.scaleX = 1;\n        root.ref.blob.scaleY = 1;\n        root.ref.blob.opacity = 1;\n    };\n\n    var hideBlob = function hideBlob(_ref3) {\n        var root = _ref3.root;\n        if (!root.ref.blob) {\n            return;\n        }\n        root.ref.blob.opacity = 0;\n    };\n\n    var explodeBlob = function explodeBlob(_ref4) {\n        var root = _ref4.root;\n        if (!root.ref.blob) {\n            return;\n        }\n        root.ref.blob.scaleX = 2.5;\n        root.ref.blob.scaleY = 2.5;\n        root.ref.blob.opacity = 0;\n    };\n\n    var write$7 = function write(_ref5) {\n        var root = _ref5.root,\n            props = _ref5.props,\n            actions = _ref5.actions;\n        route$4({ root: root, props: props, actions: actions });\n        var blob = root.ref.blob;\n\n        if (actions.length === 0 && blob && blob.opacity === 0) {\n            root.removeChildView(blob);\n            root.ref.blob = null;\n        }\n    };\n\n    var route$4 = createRoute({\n        DID_DRAG: moveBlob,\n        DID_DROP: explodeBlob,\n        DID_END_DRAG: hideBlob,\n    });\n\n    var drip = createView({\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        name: 'drip',\n        write: write$7,\n    });\n\n    var setInputFiles = function setInputFiles(element, files) {\n        try {\n            // Create a DataTransfer instance and add a newly created file\n            var dataTransfer = new DataTransfer();\n            files.forEach(function(file) {\n                if (file instanceof File) {\n                    dataTransfer.items.add(file);\n                } else {\n                    dataTransfer.items.add(\n                        new File([file], file.name, {\n                            type: file.type,\n                        })\n                    );\n                }\n            });\n\n            // Assign the DataTransfer files list to the file input\n            element.files = dataTransfer.files;\n        } catch (err) {\n            return false;\n        }\n        return true;\n    };\n\n    var create$c = function create(_ref) {\n        var root = _ref.root;\n        return (root.ref.fields = {});\n    };\n\n    var getField = function getField(root, id) {\n        return root.ref.fields[id];\n    };\n\n    var syncFieldPositionsWithItems = function syncFieldPositionsWithItems(root) {\n        root.query('GET_ACTIVE_ITEMS').forEach(function(item) {\n            if (!root.ref.fields[item.id]) return;\n            root.element.appendChild(root.ref.fields[item.id]);\n        });\n    };\n\n    var didReorderItems = function didReorderItems(_ref2) {\n        var root = _ref2.root;\n        return syncFieldPositionsWithItems(root);\n    };\n\n    var didAddItem = function didAddItem(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        var fileItem = root.query('GET_ITEM', action.id);\n        var isLocalFile = fileItem.origin === FileOrigin.LOCAL;\n        var shouldUseFileInput = !isLocalFile && root.query('SHOULD_UPDATE_FILE_INPUT');\n        var dataContainer = createElement$1('input');\n        dataContainer.type = shouldUseFileInput ? 'file' : 'hidden';\n        dataContainer.name = root.query('GET_NAME');\n        dataContainer.disabled = root.query('GET_DISABLED');\n        root.ref.fields[action.id] = dataContainer;\n        syncFieldPositionsWithItems(root);\n    };\n\n    var didLoadItem$1 = function didLoadItem(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        var field = getField(root, action.id);\n        if (!field) return;\n\n        // store server ref in hidden input\n        if (action.serverFileReference !== null) field.value = action.serverFileReference;\n\n        // store file item in file input\n        if (!root.query('SHOULD_UPDATE_FILE_INPUT')) return;\n\n        var fileItem = root.query('GET_ITEM', action.id);\n        setInputFiles(field, [fileItem.file]);\n    };\n\n    var didPrepareOutput = function didPrepareOutput(_ref5) {\n        var root = _ref5.root,\n            action = _ref5.action;\n        // this timeout pushes the handler after 'load'\n        if (!root.query('SHOULD_UPDATE_FILE_INPUT')) return;\n        setTimeout(function() {\n            var field = getField(root, action.id);\n            if (!field) return;\n            setInputFiles(field, [action.file]);\n        }, 0);\n    };\n\n    var didSetDisabled = function didSetDisabled(_ref6) {\n        var root = _ref6.root;\n        root.element.disabled = root.query('GET_DISABLED');\n    };\n\n    var didRemoveItem = function didRemoveItem(_ref7) {\n        var root = _ref7.root,\n            action = _ref7.action;\n        var field = getField(root, action.id);\n        if (!field) return;\n        if (field.parentNode) field.parentNode.removeChild(field);\n        delete root.ref.fields[action.id];\n    };\n\n    // only runs for server files (so doesn't deal with file input)\n    var didDefineValue = function didDefineValue(_ref8) {\n        var root = _ref8.root,\n            action = _ref8.action;\n        var field = getField(root, action.id);\n        if (!field) return;\n        if (action.value === null) {\n            // clear field value\n            field.removeAttribute('value');\n        } else {\n            // set field value\n            field.value = action.value;\n        }\n        syncFieldPositionsWithItems(root);\n    };\n\n    var write$8 = createRoute({\n        DID_SET_DISABLED: didSetDisabled,\n        DID_ADD_ITEM: didAddItem,\n        DID_LOAD_ITEM: didLoadItem$1,\n        DID_REMOVE_ITEM: didRemoveItem,\n        DID_DEFINE_VALUE: didDefineValue,\n        DID_PREPARE_OUTPUT: didPrepareOutput,\n        DID_REORDER_ITEMS: didReorderItems,\n        DID_SORT_ITEMS: didReorderItems,\n    });\n\n    var data = createView({\n        tag: 'fieldset',\n        name: 'data',\n        create: create$c,\n        write: write$8,\n        ignoreRect: true,\n    });\n\n    var getRootNode = function getRootNode(element) {\n        return 'getRootNode' in element ? element.getRootNode() : document;\n    };\n\n    var images = ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'svg', 'tiff'];\n    var text$1 = ['css', 'csv', 'html', 'txt'];\n    var map = {\n        zip: 'zip|compressed',\n        epub: 'application/epub+zip',\n    };\n\n    var guesstimateMimeType = function guesstimateMimeType() {\n        var extension = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        extension = extension.toLowerCase();\n        if (images.includes(extension)) {\n            return (\n                'image/' +\n                (extension === 'jpg' ? 'jpeg' : extension === 'svg' ? 'svg+xml' : extension)\n            );\n        }\n        if (text$1.includes(extension)) {\n            return 'text/' + extension;\n        }\n\n        return map[extension] || '';\n    };\n\n    var requestDataTransferItems = function requestDataTransferItems(dataTransfer) {\n        return new Promise(function(resolve, reject) {\n            // try to get links from transfer, if found we'll exit immediately (unless a file is in the dataTransfer as well, this is because Firefox could represent the file as a URL and a file object at the same time)\n            var links = getLinks(dataTransfer);\n            if (links.length && !hasFiles(dataTransfer)) {\n                return resolve(links);\n            }\n            // try to get files from the transfer\n            getFiles(dataTransfer).then(resolve);\n        });\n    };\n\n    /**\n     * Test if datatransfer has files\n     */\n    var hasFiles = function hasFiles(dataTransfer) {\n        if (dataTransfer.files) return dataTransfer.files.length > 0;\n        return false;\n    };\n\n    /**\n     * Extracts files from a DataTransfer object\n     */\n    var getFiles = function getFiles(dataTransfer) {\n        return new Promise(function(resolve, reject) {\n            // get the transfer items as promises\n            var promisedFiles = (dataTransfer.items ? Array.from(dataTransfer.items) : [])\n                // only keep file system items (files and directories)\n                .filter(function(item) {\n                    return isFileSystemItem(item);\n                })\n\n                // map each item to promise\n                .map(function(item) {\n                    return getFilesFromItem(item);\n                });\n\n            // if is empty, see if we can extract some info from the files property as a fallback\n            if (!promisedFiles.length) {\n                // TODO: test for directories (should not be allowed)\n                // Use FileReader, problem is that the files property gets lost in the process\n                resolve(dataTransfer.files ? Array.from(dataTransfer.files) : []);\n                return;\n            }\n\n            // done!\n            Promise.all(promisedFiles)\n                .then(function(returnedFileGroups) {\n                    // flatten groups\n                    var files = [];\n                    returnedFileGroups.forEach(function(group) {\n                        files.push.apply(files, group);\n                    });\n\n                    // done (filter out empty files)!\n                    resolve(\n                        files\n                            .filter(function(file) {\n                                return file;\n                            })\n                            .map(function(file) {\n                                if (!file._relativePath)\n                                    file._relativePath = file.webkitRelativePath;\n                                return file;\n                            })\n                    );\n                })\n                .catch(console.error);\n        });\n    };\n\n    var isFileSystemItem = function isFileSystemItem(item) {\n        if (isEntry(item)) {\n            var entry = getAsEntry(item);\n            if (entry) {\n                return entry.isFile || entry.isDirectory;\n            }\n        }\n        return item.kind === 'file';\n    };\n\n    var getFilesFromItem = function getFilesFromItem(item) {\n        return new Promise(function(resolve, reject) {\n            if (isDirectoryEntry(item)) {\n                getFilesInDirectory(getAsEntry(item))\n                    .then(resolve)\n                    .catch(reject);\n                return;\n            }\n\n            resolve([item.getAsFile()]);\n        });\n    };\n\n    var getFilesInDirectory = function getFilesInDirectory(entry) {\n        return new Promise(function(resolve, reject) {\n            var files = [];\n\n            // the total entries to read\n            var dirCounter = 0;\n            var fileCounter = 0;\n\n            var resolveIfDone = function resolveIfDone() {\n                if (fileCounter === 0 && dirCounter === 0) {\n                    resolve(files);\n                }\n            };\n\n            // the recursive function\n            var readEntries = function readEntries(dirEntry) {\n                dirCounter++;\n\n                var directoryReader = dirEntry.createReader();\n\n                // directories are returned in batches, we need to process all batches before we're done\n                var readBatch = function readBatch() {\n                    directoryReader.readEntries(function(entries) {\n                        if (entries.length === 0) {\n                            dirCounter--;\n                            resolveIfDone();\n                            return;\n                        }\n\n                        entries.forEach(function(entry) {\n                            // recursively read more directories\n                            if (entry.isDirectory) {\n                                readEntries(entry);\n                            } else {\n                                // read as file\n                                fileCounter++;\n\n                                entry.file(function(file) {\n                                    var correctedFile = correctMissingFileType(file);\n                                    if (entry.fullPath)\n                                        correctedFile._relativePath = entry.fullPath;\n                                    files.push(correctedFile);\n                                    fileCounter--;\n                                    resolveIfDone();\n                                });\n                            }\n                        });\n\n                        // try to get next batch of files\n                        readBatch();\n                    }, reject);\n                };\n\n                // read first batch of files\n                readBatch();\n            };\n\n            // go!\n            readEntries(entry);\n        });\n    };\n\n    var correctMissingFileType = function correctMissingFileType(file) {\n        if (file.type.length) return file;\n        var date = file.lastModifiedDate;\n        var name = file.name;\n        var type = guesstimateMimeType(getExtensionFromFilename(file.name));\n        if (!type.length) return file;\n        file = file.slice(0, file.size, type);\n        file.name = name;\n        file.lastModifiedDate = date;\n        return file;\n    };\n\n    var isDirectoryEntry = function isDirectoryEntry(item) {\n        return isEntry(item) && (getAsEntry(item) || {}).isDirectory;\n    };\n\n    var isEntry = function isEntry(item) {\n        return 'webkitGetAsEntry' in item;\n    };\n\n    var getAsEntry = function getAsEntry(item) {\n        return item.webkitGetAsEntry();\n    };\n\n    /**\n     * Extracts links from a DataTransfer object\n     */\n    var getLinks = function getLinks(dataTransfer) {\n        var links = [];\n        try {\n            // look in meta data property\n            links = getLinksFromTransferMetaData(dataTransfer);\n            if (links.length) {\n                return links;\n            }\n            links = getLinksFromTransferURLData(dataTransfer);\n        } catch (e) {\n            // nope nope nope (probably IE trouble)\n        }\n        return links;\n    };\n\n    var getLinksFromTransferURLData = function getLinksFromTransferURLData(dataTransfer) {\n        var data = dataTransfer.getData('url');\n        if (typeof data === 'string' && data.length) {\n            return [data];\n        }\n        return [];\n    };\n\n    var getLinksFromTransferMetaData = function getLinksFromTransferMetaData(dataTransfer) {\n        var data = dataTransfer.getData('text/html');\n        if (typeof data === 'string' && data.length) {\n            var matches = data.match(/src\\s*=\\s*\"(.+?)\"/);\n            if (matches) {\n                return [matches[1]];\n            }\n        }\n        return [];\n    };\n\n    var dragNDropObservers = [];\n\n    var eventPosition = function eventPosition(e) {\n        return {\n            pageLeft: e.pageX,\n            pageTop: e.pageY,\n            scopeLeft: e.offsetX || e.layerX,\n            scopeTop: e.offsetY || e.layerY,\n        };\n    };\n\n    var createDragNDropClient = function createDragNDropClient(\n        element,\n        scopeToObserve,\n        filterElement\n    ) {\n        var observer = getDragNDropObserver(scopeToObserve);\n\n        var client = {\n            element: element,\n            filterElement: filterElement,\n            state: null,\n            ondrop: function ondrop() {},\n            onenter: function onenter() {},\n            ondrag: function ondrag() {},\n            onexit: function onexit() {},\n            onload: function onload() {},\n            allowdrop: function allowdrop() {},\n        };\n\n        client.destroy = observer.addListener(client);\n\n        return client;\n    };\n\n    var getDragNDropObserver = function getDragNDropObserver(element) {\n        // see if already exists, if so, return\n        var observer = dragNDropObservers.find(function(item) {\n            return item.element === element;\n        });\n        if (observer) {\n            return observer;\n        }\n\n        // create new observer, does not yet exist for this element\n        var newObserver = createDragNDropObserver(element);\n        dragNDropObservers.push(newObserver);\n        return newObserver;\n    };\n\n    var createDragNDropObserver = function createDragNDropObserver(element) {\n        var clients = [];\n\n        var routes = {\n            dragenter: dragenter,\n            dragover: dragover,\n            dragleave: dragleave,\n            drop: drop,\n        };\n\n        var handlers = {};\n\n        forin(routes, function(event, createHandler) {\n            handlers[event] = createHandler(element, clients);\n            element.addEventListener(event, handlers[event], false);\n        });\n\n        var observer = {\n            element: element,\n            addListener: function addListener(client) {\n                // add as client\n                clients.push(client);\n\n                // return removeListener function\n                return function() {\n                    // remove client\n                    clients.splice(clients.indexOf(client), 1);\n\n                    // if no more clients, clean up observer\n                    if (clients.length === 0) {\n                        dragNDropObservers.splice(dragNDropObservers.indexOf(observer), 1);\n\n                        forin(routes, function(event) {\n                            element.removeEventListener(event, handlers[event], false);\n                        });\n                    }\n                };\n            },\n        };\n\n        return observer;\n    };\n\n    var elementFromPoint = function elementFromPoint(root, point) {\n        if (!('elementFromPoint' in root)) {\n            root = document;\n        }\n        return root.elementFromPoint(point.x, point.y);\n    };\n\n    var isEventTarget = function isEventTarget(e, target) {\n        // get root\n        var root = getRootNode(target);\n\n        // get element at position\n        // if root is not actual shadow DOM and does not have elementFromPoint method, use the one on document\n        var elementAtPosition = elementFromPoint(root, {\n            x: e.pageX - window.pageXOffset,\n            y: e.pageY - window.pageYOffset,\n        });\n\n        // test if target is the element or if one of its children is\n        return elementAtPosition === target || target.contains(elementAtPosition);\n    };\n\n    var initialTarget = null;\n\n    var setDropEffect = function setDropEffect(dataTransfer, effect) {\n        // is in try catch as IE11 will throw error if not\n        try {\n            dataTransfer.dropEffect = effect;\n        } catch (e) {}\n    };\n\n    var dragenter = function dragenter(root, clients) {\n        return function(e) {\n            e.preventDefault();\n\n            initialTarget = e.target;\n\n            clients.forEach(function(client) {\n                var element = client.element,\n                    onenter = client.onenter;\n\n                if (isEventTarget(e, element)) {\n                    client.state = 'enter';\n\n                    // fire enter event\n                    onenter(eventPosition(e));\n                }\n            });\n        };\n    };\n\n    var dragover = function dragover(root, clients) {\n        return function(e) {\n            e.preventDefault();\n\n            var dataTransfer = e.dataTransfer;\n\n            requestDataTransferItems(dataTransfer).then(function(items) {\n                var overDropTarget = false;\n\n                clients.some(function(client) {\n                    var filterElement = client.filterElement,\n                        element = client.element,\n                        onenter = client.onenter,\n                        onexit = client.onexit,\n                        ondrag = client.ondrag,\n                        allowdrop = client.allowdrop;\n\n                    // by default we can drop\n                    setDropEffect(dataTransfer, 'copy');\n\n                    // allow transfer of these items\n                    var allowsTransfer = allowdrop(items);\n\n                    // only used when can be dropped on page\n                    if (!allowsTransfer) {\n                        setDropEffect(dataTransfer, 'none');\n                        return;\n                    }\n\n                    // targetting this client\n                    if (isEventTarget(e, element)) {\n                        overDropTarget = true;\n\n                        // had no previous state, means we are entering this client\n                        if (client.state === null) {\n                            client.state = 'enter';\n                            onenter(eventPosition(e));\n                            return;\n                        }\n\n                        // now over element (no matter if it allows the drop or not)\n                        client.state = 'over';\n\n                        // needs to allow transfer\n                        if (filterElement && !allowsTransfer) {\n                            setDropEffect(dataTransfer, 'none');\n                            return;\n                        }\n\n                        // dragging\n                        ondrag(eventPosition(e));\n                    } else {\n                        // should be over an element to drop\n                        if (filterElement && !overDropTarget) {\n                            setDropEffect(dataTransfer, 'none');\n                        }\n\n                        // might have just left this client?\n                        if (client.state) {\n                            client.state = null;\n                            onexit(eventPosition(e));\n                        }\n                    }\n                });\n            });\n        };\n    };\n\n    var drop = function drop(root, clients) {\n        return function(e) {\n            e.preventDefault();\n\n            var dataTransfer = e.dataTransfer;\n\n            requestDataTransferItems(dataTransfer).then(function(items) {\n                clients.forEach(function(client) {\n                    var filterElement = client.filterElement,\n                        element = client.element,\n                        ondrop = client.ondrop,\n                        onexit = client.onexit,\n                        allowdrop = client.allowdrop;\n\n                    client.state = null;\n\n                    // if we're filtering on element we need to be over the element to drop\n                    if (filterElement && !isEventTarget(e, element)) return;\n\n                    // no transfer for this client\n                    if (!allowdrop(items)) return onexit(eventPosition(e));\n\n                    // we can drop these items on this client\n                    ondrop(eventPosition(e), items);\n                });\n            });\n        };\n    };\n\n    var dragleave = function dragleave(root, clients) {\n        return function(e) {\n            if (initialTarget !== e.target) {\n                return;\n            }\n\n            clients.forEach(function(client) {\n                var onexit = client.onexit;\n\n                client.state = null;\n\n                onexit(eventPosition(e));\n            });\n        };\n    };\n\n    var createHopper = function createHopper(scope, validateItems, options) {\n        // is now hopper scope\n        scope.classList.add('filepond--hopper');\n\n        // shortcuts\n        var catchesDropsOnPage = options.catchesDropsOnPage,\n            requiresDropOnElement = options.requiresDropOnElement,\n            _options$filterItems = options.filterItems,\n            filterItems =\n                _options$filterItems === void 0\n                    ? function(items) {\n                          return items;\n                      }\n                    : _options$filterItems;\n\n        // create a dnd client\n        var client = createDragNDropClient(\n            scope,\n            catchesDropsOnPage ? document.documentElement : scope,\n            requiresDropOnElement\n        );\n\n        // current client state\n        var lastState = '';\n        var currentState = '';\n\n        // determines if a file may be dropped\n        client.allowdrop = function(items) {\n            // TODO: if we can, throw error to indicate the items cannot by dropped\n\n            return validateItems(filterItems(items));\n        };\n\n        client.ondrop = function(position, items) {\n            var filteredItems = filterItems(items);\n\n            if (!validateItems(filteredItems)) {\n                api.ondragend(position);\n                return;\n            }\n\n            currentState = 'drag-drop';\n\n            api.onload(filteredItems, position);\n        };\n\n        client.ondrag = function(position) {\n            api.ondrag(position);\n        };\n\n        client.onenter = function(position) {\n            currentState = 'drag-over';\n\n            api.ondragstart(position);\n        };\n\n        client.onexit = function(position) {\n            currentState = 'drag-exit';\n\n            api.ondragend(position);\n        };\n\n        var api = {\n            updateHopperState: function updateHopperState() {\n                if (lastState !== currentState) {\n                    scope.dataset.hopperState = currentState;\n                    lastState = currentState;\n                }\n            },\n            onload: function onload() {},\n            ondragstart: function ondragstart() {},\n            ondrag: function ondrag() {},\n            ondragend: function ondragend() {},\n            destroy: function destroy() {\n                // destroy client\n                client.destroy();\n            },\n        };\n\n        return api;\n    };\n\n    var listening = false;\n    var listeners$1 = [];\n\n    var handlePaste = function handlePaste(e) {\n        // if is pasting in input or textarea and the target is outside of a filepond scope, ignore\n        var activeEl = document.activeElement;\n        if (activeEl && /textarea|input/i.test(activeEl.nodeName)) {\n            // test textarea or input is contained in filepond root\n            var inScope = false;\n            var element = activeEl;\n            while (element !== document.body) {\n                if (element.classList.contains('filepond--root')) {\n                    inScope = true;\n                    break;\n                }\n                element = element.parentNode;\n            }\n\n            if (!inScope) return;\n        }\n\n        requestDataTransferItems(e.clipboardData).then(function(files) {\n            // no files received\n            if (!files.length) {\n                return;\n            }\n\n            // notify listeners of received files\n            listeners$1.forEach(function(listener) {\n                return listener(files);\n            });\n        });\n    };\n\n    var listen = function listen(cb) {\n        // can't add twice\n        if (listeners$1.includes(cb)) {\n            return;\n        }\n\n        // add initial listener\n        listeners$1.push(cb);\n\n        // setup paste listener for entire page\n        if (listening) {\n            return;\n        }\n\n        listening = true;\n        document.addEventListener('paste', handlePaste);\n    };\n\n    var unlisten = function unlisten(listener) {\n        arrayRemove(listeners$1, listeners$1.indexOf(listener));\n\n        // clean up\n        if (listeners$1.length === 0) {\n            document.removeEventListener('paste', handlePaste);\n            listening = false;\n        }\n    };\n\n    var createPaster = function createPaster() {\n        var cb = function cb(files) {\n            api.onload(files);\n        };\n\n        var api = {\n            destroy: function destroy() {\n                unlisten(cb);\n            },\n            onload: function onload() {},\n        };\n\n        listen(cb);\n\n        return api;\n    };\n\n    /**\n     * Creates the file view\n     */\n    var create$d = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.element.id = 'filepond--assistant-' + props.id;\n        attr(root.element, 'role', 'status');\n        attr(root.element, 'aria-live', 'polite');\n        attr(root.element, 'aria-relevant', 'additions');\n    };\n\n    var addFilesNotificationTimeout = null;\n    var notificationClearTimeout = null;\n\n    var filenames = [];\n\n    var assist = function assist(root, message) {\n        root.element.textContent = message;\n    };\n\n    var clear$1 = function clear(root) {\n        root.element.textContent = '';\n    };\n\n    var listModified = function listModified(root, filename, label) {\n        var total = root.query('GET_TOTAL_ITEMS');\n        assist(\n            root,\n            label +\n                ' ' +\n                filename +\n                ', ' +\n                total +\n                ' ' +\n                (total === 1\n                    ? root.query('GET_LABEL_FILE_COUNT_SINGULAR')\n                    : root.query('GET_LABEL_FILE_COUNT_PLURAL'))\n        );\n\n        // clear group after set amount of time so the status is not read twice\n        clearTimeout(notificationClearTimeout);\n        notificationClearTimeout = setTimeout(function() {\n            clear$1(root);\n        }, 1500);\n    };\n\n    var isUsingFilePond = function isUsingFilePond(root) {\n        return root.element.parentNode.contains(document.activeElement);\n    };\n\n    var itemAdded = function itemAdded(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        if (!isUsingFilePond(root)) {\n            return;\n        }\n\n        root.element.textContent = '';\n        var item = root.query('GET_ITEM', action.id);\n        filenames.push(item.filename);\n\n        clearTimeout(addFilesNotificationTimeout);\n        addFilesNotificationTimeout = setTimeout(function() {\n            listModified(root, filenames.join(', '), root.query('GET_LABEL_FILE_ADDED'));\n\n            filenames.length = 0;\n        }, 750);\n    };\n\n    var itemRemoved = function itemRemoved(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        if (!isUsingFilePond(root)) {\n            return;\n        }\n\n        var item = action.item;\n        listModified(root, item.filename, root.query('GET_LABEL_FILE_REMOVED'));\n    };\n\n    var itemProcessed = function itemProcessed(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n        var label = root.query('GET_LABEL_FILE_PROCESSING_COMPLETE');\n\n        assist(root, filename + ' ' + label);\n    };\n\n    var itemProcessedUndo = function itemProcessedUndo(_ref5) {\n        var root = _ref5.root,\n            action = _ref5.action;\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n        var label = root.query('GET_LABEL_FILE_PROCESSING_ABORTED');\n\n        assist(root, filename + ' ' + label);\n    };\n\n    var itemError = function itemError(_ref6) {\n        var root = _ref6.root,\n            action = _ref6.action;\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n\n        // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n\n        assist(root, action.status.main + ' ' + filename + ' ' + action.status.sub);\n    };\n\n    var assistant = createView({\n        create: create$d,\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: itemAdded,\n            DID_REMOVE_ITEM: itemRemoved,\n            DID_COMPLETE_ITEM_PROCESSING: itemProcessed,\n\n            DID_ABORT_ITEM_PROCESSING: itemProcessedUndo,\n            DID_REVERT_ITEM_PROCESSING: itemProcessedUndo,\n\n            DID_THROW_ITEM_REMOVE_ERROR: itemError,\n            DID_THROW_ITEM_LOAD_ERROR: itemError,\n            DID_THROW_ITEM_INVALID: itemError,\n            DID_THROW_ITEM_PROCESSING_ERROR: itemError,\n        }),\n\n        tag: 'span',\n        name: 'assistant',\n    });\n\n    var toCamels = function toCamels(string) {\n        var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '-';\n        return string.replace(new RegExp(separator + '.', 'g'), function(sub) {\n            return sub.charAt(1).toUpperCase();\n        });\n    };\n\n    var debounce = function debounce(func) {\n        var interval = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 16;\n        var immidiateOnly =\n            arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n        var last = Date.now();\n        var timeout = null;\n\n        return function() {\n            for (\n                var _len = arguments.length, args = new Array(_len), _key = 0;\n                _key < _len;\n                _key++\n            ) {\n                args[_key] = arguments[_key];\n            }\n            clearTimeout(timeout);\n\n            var dist = Date.now() - last;\n\n            var fn = function fn() {\n                last = Date.now();\n                func.apply(void 0, args);\n            };\n\n            if (dist < interval) {\n                // we need to delay by the difference between interval and dist\n                // for example: if distance is 10 ms and interval is 16 ms,\n                // we need to wait an additional 6ms before calling the function)\n                if (!immidiateOnly) {\n                    timeout = setTimeout(fn, interval - dist);\n                }\n            } else {\n                // go!\n                fn();\n            }\n        };\n    };\n\n    var MAX_FILES_LIMIT = 1000000;\n\n    var prevent = function prevent(e) {\n        return e.preventDefault();\n    };\n\n    var create$e = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // Add id\n        var id = root.query('GET_ID');\n        if (id) {\n            root.element.id = id;\n        }\n\n        // Add className\n        var className = root.query('GET_CLASS_NAME');\n        if (className) {\n            className\n                .split(' ')\n                .filter(function(name) {\n                    return name.length;\n                })\n                .forEach(function(name) {\n                    root.element.classList.add(name);\n                });\n        }\n\n        // Field label\n        root.ref.label = root.appendChildView(\n            root.createChildView(\n                dropLabel,\n                Object.assign({}, props, {\n                    translateY: null,\n                    caption: root.query('GET_LABEL_IDLE'),\n                })\n            )\n        );\n\n        // List of items\n        root.ref.list = root.appendChildView(\n            root.createChildView(listScroller, { translateY: null })\n        );\n\n        // Background panel\n        root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'panel-root' }));\n\n        // Assistant notifies assistive tech when content changes\n        root.ref.assistant = root.appendChildView(\n            root.createChildView(assistant, Object.assign({}, props))\n        );\n\n        // Data\n        root.ref.data = root.appendChildView(root.createChildView(data, Object.assign({}, props)));\n\n        // Measure (tests if fixed height was set)\n        // DOCTYPE needs to be set for this to work\n        root.ref.measure = createElement$1('div');\n        root.ref.measure.style.height = '100%';\n        root.element.appendChild(root.ref.measure);\n\n        // information on the root height or fixed height status\n        root.ref.bounds = null;\n\n        // apply initial style properties\n        root.query('GET_STYLES')\n            .filter(function(style) {\n                return !isEmpty(style.value);\n            })\n            .map(function(_ref2) {\n                var name = _ref2.name,\n                    value = _ref2.value;\n                root.element.dataset[name] = value;\n            });\n\n        // determine if width changed\n        root.ref.widthPrevious = null;\n        root.ref.widthUpdated = debounce(function() {\n            root.ref.updateHistory = [];\n            root.dispatch('DID_RESIZE_ROOT');\n        }, 250);\n\n        // history of updates\n        root.ref.previousAspectRatio = null;\n        root.ref.updateHistory = [];\n\n        // prevent scrolling and zooming on iOS (only if supports pointer events, for then we can enable reorder)\n        var canHover = window.matchMedia('(pointer: fine) and (hover: hover)').matches;\n        var hasPointerEvents = 'PointerEvent' in window;\n        if (root.query('GET_ALLOW_REORDER') && hasPointerEvents && !canHover) {\n            root.element.addEventListener('touchmove', prevent, { passive: false });\n            root.element.addEventListener('gesturestart', prevent);\n        }\n\n        // add credits\n        var credits = root.query('GET_CREDITS');\n        var hasCredits = credits.length === 2;\n        if (hasCredits) {\n            var frag = document.createElement('a');\n            frag.className = 'filepond--credits';\n            frag.setAttribute('aria-hidden', 'true');\n            frag.href = credits[0];\n            frag.tabindex = -1;\n            frag.target = '_blank';\n            frag.rel = 'noopener noreferrer';\n            frag.textContent = credits[1];\n            root.element.appendChild(frag);\n            root.ref.credits = frag;\n        }\n    };\n\n    var write$9 = function write(_ref3) {\n        var root = _ref3.root,\n            props = _ref3.props,\n            actions = _ref3.actions;\n        // route actions\n        route$5({ root: root, props: props, actions: actions });\n\n        // apply style properties\n        actions\n            .filter(function(action) {\n                return /^DID_SET_STYLE_/.test(action.type);\n            })\n            .filter(function(action) {\n                return !isEmpty(action.data.value);\n            })\n            .map(function(_ref4) {\n                var type = _ref4.type,\n                    data = _ref4.data;\n                var name = toCamels(type.substring(8).toLowerCase(), '_');\n                root.element.dataset[name] = data.value;\n                root.invalidateLayout();\n            });\n\n        if (root.rect.element.hidden) return;\n\n        if (root.rect.element.width !== root.ref.widthPrevious) {\n            root.ref.widthPrevious = root.rect.element.width;\n            root.ref.widthUpdated();\n        }\n\n        // get box bounds, we do this only once\n        var bounds = root.ref.bounds;\n        if (!bounds) {\n            bounds = root.ref.bounds = calculateRootBoundingBoxHeight(root);\n\n            // destroy measure element\n            root.element.removeChild(root.ref.measure);\n            root.ref.measure = null;\n        }\n\n        // get quick references to various high level parts of the upload tool\n        var _root$ref = root.ref,\n            hopper = _root$ref.hopper,\n            label = _root$ref.label,\n            list = _root$ref.list,\n            panel = _root$ref.panel;\n\n        // sets correct state to hopper scope\n        if (hopper) {\n            hopper.updateHopperState();\n        }\n\n        // bool to indicate if we're full or not\n        var aspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n        var isMultiItem = root.query('GET_ALLOW_MULTIPLE');\n        var totalItems = root.query('GET_TOTAL_ITEMS');\n        var maxItems = isMultiItem ? root.query('GET_MAX_FILES') || MAX_FILES_LIMIT : 1;\n        var atMaxCapacity = totalItems === maxItems;\n\n        // action used to add item\n        var addAction = actions.find(function(action) {\n            return action.type === 'DID_ADD_ITEM';\n        });\n\n        // if reached max capacity and we've just reached it\n        if (atMaxCapacity && addAction) {\n            // get interaction type\n            var interactionMethod = addAction.data.interactionMethod;\n\n            // hide label\n            label.opacity = 0;\n\n            if (isMultiItem) {\n                label.translateY = -40;\n            } else {\n                if (interactionMethod === InteractionMethod.API) {\n                    label.translateX = 40;\n                } else if (interactionMethod === InteractionMethod.BROWSE) {\n                    label.translateY = 40;\n                } else {\n                    label.translateY = 30;\n                }\n            }\n        } else if (!atMaxCapacity) {\n            label.opacity = 1;\n            label.translateX = 0;\n            label.translateY = 0;\n        }\n\n        var listItemMargin = calculateListItemMargin(root);\n\n        var listHeight = calculateListHeight(root);\n\n        var labelHeight = label.rect.element.height;\n        var currentLabelHeight = !isMultiItem || atMaxCapacity ? 0 : labelHeight;\n\n        var listMarginTop = atMaxCapacity ? list.rect.element.marginTop : 0;\n        var listMarginBottom = totalItems === 0 ? 0 : list.rect.element.marginBottom;\n\n        var visualHeight =\n            currentLabelHeight + listMarginTop + listHeight.visual + listMarginBottom;\n        var boundsHeight =\n            currentLabelHeight + listMarginTop + listHeight.bounds + listMarginBottom;\n\n        // link list to label bottom position\n        list.translateY =\n            Math.max(0, currentLabelHeight - list.rect.element.marginTop) - listItemMargin.top;\n\n        if (aspectRatio) {\n            // fixed aspect ratio\n\n            // calculate height based on width\n            var width = root.rect.element.width;\n            var height = width * aspectRatio;\n\n            // clear history if aspect ratio has changed\n            if (aspectRatio !== root.ref.previousAspectRatio) {\n                root.ref.previousAspectRatio = aspectRatio;\n                root.ref.updateHistory = [];\n            }\n\n            // remember this width\n            var history = root.ref.updateHistory;\n            history.push(width);\n\n            var MAX_BOUNCES = 2;\n            if (history.length > MAX_BOUNCES * 2) {\n                var l = history.length;\n                var bottom = l - 10;\n                var bounces = 0;\n                for (var i = l; i >= bottom; i--) {\n                    if (history[i] === history[i - 2]) {\n                        bounces++;\n                    }\n\n                    if (bounces >= MAX_BOUNCES) {\n                        // dont adjust height\n                        return;\n                    }\n                }\n            }\n\n            // fix height of panel so it adheres to aspect ratio\n            panel.scalable = false;\n            panel.height = height;\n\n            // available height for list\n            var listAvailableHeight =\n                // the height of the panel minus the label height\n                height -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n\n            if (listHeight.visual > listAvailableHeight) {\n                list.overflow = listAvailableHeight;\n            } else {\n                list.overflow = null;\n            }\n\n            // set container bounds (so pushes siblings downwards)\n            root.height = height;\n        } else if (bounds.fixedHeight) {\n            // fixed height\n\n            // fix height of panel\n            panel.scalable = false;\n\n            // available height for list\n            var _listAvailableHeight =\n                // the height of the panel minus the label height\n                bounds.fixedHeight -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n\n            // set list height\n            if (listHeight.visual > _listAvailableHeight) {\n                list.overflow = _listAvailableHeight;\n            } else {\n                list.overflow = null;\n            }\n\n            // no need to set container bounds as these are handles by CSS fixed height\n        } else if (bounds.cappedHeight) {\n            // max-height\n\n            // not a fixed height panel\n            var isCappedHeight = visualHeight >= bounds.cappedHeight;\n            var panelHeight = Math.min(bounds.cappedHeight, visualHeight);\n            panel.scalable = true;\n            panel.height = isCappedHeight\n                ? panelHeight\n                : panelHeight - listItemMargin.top - listItemMargin.bottom;\n\n            // available height for list\n            var _listAvailableHeight2 =\n                // the height of the panel minus the label height\n                panelHeight -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n\n            // set list height (if is overflowing)\n            if (visualHeight > bounds.cappedHeight && listHeight.visual > _listAvailableHeight2) {\n                list.overflow = _listAvailableHeight2;\n            } else {\n                list.overflow = null;\n            }\n\n            // set container bounds (so pushes siblings downwards)\n            root.height = Math.min(\n                bounds.cappedHeight,\n                boundsHeight - listItemMargin.top - listItemMargin.bottom\n            );\n        } else {\n            // flexible height\n\n            // not a fixed height panel\n            var itemMargin = totalItems > 0 ? listItemMargin.top + listItemMargin.bottom : 0;\n            panel.scalable = true;\n            panel.height = Math.max(labelHeight, visualHeight - itemMargin);\n\n            // set container bounds (so pushes siblings downwards)\n            root.height = Math.max(labelHeight, boundsHeight - itemMargin);\n        }\n\n        // move credits to bottom\n        if (root.ref.credits && panel.heightCurrent)\n            root.ref.credits.style.transform = 'translateY(' + panel.heightCurrent + 'px)';\n    };\n\n    var calculateListItemMargin = function calculateListItemMargin(root) {\n        var item = root.ref.list.childViews[0].childViews[0];\n        return item\n            ? {\n                  top: item.rect.element.marginTop,\n                  bottom: item.rect.element.marginBottom,\n              }\n            : {\n                  top: 0,\n                  bottom: 0,\n              };\n    };\n\n    var calculateListHeight = function calculateListHeight(root) {\n        var visual = 0;\n        var bounds = 0;\n\n        // get file list reference\n        var scrollList = root.ref.list;\n        var itemList = scrollList.childViews[0];\n        var visibleChildren = itemList.childViews.filter(function(child) {\n            return child.rect.element.height;\n        });\n        var children = root\n            .query('GET_ACTIVE_ITEMS')\n            .map(function(item) {\n                return visibleChildren.find(function(child) {\n                    return child.id === item.id;\n                });\n            })\n            .filter(function(item) {\n                return item;\n            });\n\n        // no children, done!\n        if (children.length === 0) return { visual: visual, bounds: bounds };\n\n        var horizontalSpace = itemList.rect.element.width;\n        var dragIndex = getItemIndexByPosition(itemList, children, scrollList.dragCoordinates);\n\n        var childRect = children[0].rect.element;\n\n        var itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n        var itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n\n        var itemWidth = childRect.width + itemHorizontalMargin;\n        var itemHeight = childRect.height + itemVerticalMargin;\n\n        var newItem = typeof dragIndex !== 'undefined' && dragIndex >= 0 ? 1 : 0;\n        var removedItem = children.find(function(child) {\n            return child.markedForRemoval && child.opacity < 0.45;\n        })\n            ? -1\n            : 0;\n        var verticalItemCount = children.length + newItem + removedItem;\n        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n        // stack\n        if (itemsPerRow === 1) {\n            children.forEach(function(item) {\n                var height = item.rect.element.height + itemVerticalMargin;\n                bounds += height;\n                visual += height * item.opacity;\n            });\n        }\n        // grid\n        else {\n            bounds = Math.ceil(verticalItemCount / itemsPerRow) * itemHeight;\n            visual = bounds;\n        }\n\n        return { visual: visual, bounds: bounds };\n    };\n\n    var calculateRootBoundingBoxHeight = function calculateRootBoundingBoxHeight(root) {\n        var height = root.ref.measureHeight || null;\n        var cappedHeight = parseInt(root.style.maxHeight, 10) || null;\n        var fixedHeight = height === 0 ? null : height;\n\n        return {\n            cappedHeight: cappedHeight,\n            fixedHeight: fixedHeight,\n        };\n    };\n\n    var exceedsMaxFiles = function exceedsMaxFiles(root, items) {\n        var allowReplace = root.query('GET_ALLOW_REPLACE');\n        var allowMultiple = root.query('GET_ALLOW_MULTIPLE');\n        var totalItems = root.query('GET_TOTAL_ITEMS');\n        var maxItems = root.query('GET_MAX_FILES');\n\n        // total amount of items being dragged\n        var totalBrowseItems = items.length;\n\n        // if does not allow multiple items and dragging more than one item\n        if (!allowMultiple && totalBrowseItems > 1) {\n            root.dispatch('DID_THROW_MAX_FILES', {\n                source: items,\n                error: createResponse('warning', 0, 'Max files'),\n            });\n\n            return true;\n        }\n\n        // limit max items to one if not allowed to drop multiple items\n        maxItems = allowMultiple ? maxItems : 1;\n\n        if (!allowMultiple && allowReplace) {\n            // There is only one item, so there is room to replace or add an item\n            return false;\n        }\n\n        // no more room?\n        var hasMaxItems = isInt(maxItems);\n        if (hasMaxItems && totalItems + totalBrowseItems > maxItems) {\n            root.dispatch('DID_THROW_MAX_FILES', {\n                source: items,\n                error: createResponse('warning', 0, 'Max files'),\n            });\n\n            return true;\n        }\n\n        return false;\n    };\n\n    var getDragIndex = function getDragIndex(list, children, position) {\n        var itemList = list.childViews[0];\n        return getItemIndexByPosition(itemList, children, {\n            left: position.scopeLeft - itemList.rect.element.left,\n            top:\n                position.scopeTop -\n                (list.rect.outer.top + list.rect.element.marginTop + list.rect.element.scrollTop),\n        });\n    };\n\n    /**\n     * Enable or disable file drop functionality\n     */\n    var toggleDrop = function toggleDrop(root) {\n        var isAllowed = root.query('GET_ALLOW_DROP');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.hopper) {\n            var hopper = createHopper(\n                root.element,\n                function(items) {\n                    // allow quick validation of dropped items\n                    var beforeDropFile =\n                        root.query('GET_BEFORE_DROP_FILE') ||\n                        function() {\n                            return true;\n                        };\n\n                    // all items should be validated by all filters as valid\n                    var dropValidation = root.query('GET_DROP_VALIDATION');\n                    return dropValidation\n                        ? items.every(function(item) {\n                              return (\n                                  applyFilters('ALLOW_HOPPER_ITEM', item, {\n                                      query: root.query,\n                                  }).every(function(result) {\n                                      return result === true;\n                                  }) && beforeDropFile(item)\n                              );\n                          })\n                        : true;\n                },\n                {\n                    filterItems: function filterItems(items) {\n                        var ignoredFiles = root.query('GET_IGNORED_FILES');\n                        return items.filter(function(item) {\n                            if (isFile(item)) {\n                                return !ignoredFiles.includes(item.name.toLowerCase());\n                            }\n                            return true;\n                        });\n                    },\n                    catchesDropsOnPage: root.query('GET_DROP_ON_PAGE'),\n                    requiresDropOnElement: root.query('GET_DROP_ON_ELEMENT'),\n                }\n            );\n\n            hopper.onload = function(items, position) {\n                // get item children elements and sort based on list sort\n                var list = root.ref.list.childViews[0];\n                var visibleChildren = list.childViews.filter(function(child) {\n                    return child.rect.element.height;\n                });\n                var children = root\n                    .query('GET_ACTIVE_ITEMS')\n                    .map(function(item) {\n                        return visibleChildren.find(function(child) {\n                            return child.id === item.id;\n                        });\n                    })\n                    .filter(function(item) {\n                        return item;\n                    });\n\n                applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(function(\n                    queue\n                ) {\n                    // these files don't fit so stop here\n                    if (exceedsMaxFiles(root, queue)) return false;\n\n                    // go\n                    root.dispatch('ADD_ITEMS', {\n                        items: queue,\n                        index: getDragIndex(root.ref.list, children, position),\n                        interactionMethod: InteractionMethod.DROP,\n                    });\n                });\n\n                root.dispatch('DID_DROP', { position: position });\n\n                root.dispatch('DID_END_DRAG', { position: position });\n            };\n\n            hopper.ondragstart = function(position) {\n                root.dispatch('DID_START_DRAG', { position: position });\n            };\n\n            hopper.ondrag = debounce(function(position) {\n                root.dispatch('DID_DRAG', { position: position });\n            });\n\n            hopper.ondragend = function(position) {\n                root.dispatch('DID_END_DRAG', { position: position });\n            };\n\n            root.ref.hopper = hopper;\n\n            root.ref.drip = root.appendChildView(root.createChildView(drip));\n        } else if (!enabled && root.ref.hopper) {\n            root.ref.hopper.destroy();\n            root.ref.hopper = null;\n            root.removeChildView(root.ref.drip);\n        }\n    };\n\n    /**\n     * Enable or disable browse functionality\n     */\n    var toggleBrowse = function toggleBrowse(root, props) {\n        var isAllowed = root.query('GET_ALLOW_BROWSE');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.browser) {\n            root.ref.browser = root.appendChildView(\n                root.createChildView(\n                    browser,\n                    Object.assign({}, props, {\n                        onload: function onload(items) {\n                            applyFilterChain('ADD_ITEMS', items, {\n                                dispatch: root.dispatch,\n                            }).then(function(queue) {\n                                // these files don't fit so stop here\n                                if (exceedsMaxFiles(root, queue)) return false;\n\n                                // add items!\n                                root.dispatch('ADD_ITEMS', {\n                                    items: queue,\n                                    index: -1,\n                                    interactionMethod: InteractionMethod.BROWSE,\n                                });\n                            });\n                        },\n                    })\n                ),\n\n                0\n            );\n        } else if (!enabled && root.ref.browser) {\n            root.removeChildView(root.ref.browser);\n            root.ref.browser = null;\n        }\n    };\n\n    /**\n     * Enable or disable paste functionality\n     */\n    var togglePaste = function togglePaste(root) {\n        var isAllowed = root.query('GET_ALLOW_PASTE');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.paster) {\n            root.ref.paster = createPaster();\n            root.ref.paster.onload = function(items) {\n                applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(function(\n                    queue\n                ) {\n                    // these files don't fit so stop here\n                    if (exceedsMaxFiles(root, queue)) return false;\n\n                    // add items!\n                    root.dispatch('ADD_ITEMS', {\n                        items: queue,\n                        index: -1,\n                        interactionMethod: InteractionMethod.PASTE,\n                    });\n                });\n            };\n        } else if (!enabled && root.ref.paster) {\n            root.ref.paster.destroy();\n            root.ref.paster = null;\n        }\n    };\n\n    /**\n     * Route actions\n     */\n    var route$5 = createRoute({\n        DID_SET_ALLOW_BROWSE: function DID_SET_ALLOW_BROWSE(_ref5) {\n            var root = _ref5.root,\n                props = _ref5.props;\n            toggleBrowse(root, props);\n        },\n        DID_SET_ALLOW_DROP: function DID_SET_ALLOW_DROP(_ref6) {\n            var root = _ref6.root;\n            toggleDrop(root);\n        },\n        DID_SET_ALLOW_PASTE: function DID_SET_ALLOW_PASTE(_ref7) {\n            var root = _ref7.root;\n            togglePaste(root);\n        },\n        DID_SET_DISABLED: function DID_SET_DISABLED(_ref8) {\n            var root = _ref8.root,\n                props = _ref8.props;\n            toggleDrop(root);\n            togglePaste(root);\n            toggleBrowse(root, props);\n            var isDisabled = root.query('GET_DISABLED');\n            if (isDisabled) {\n                root.element.dataset.disabled = 'disabled';\n            } else {\n                // delete root.element.dataset.disabled; <= this does not work on iOS 10\n                root.element.removeAttribute('data-disabled');\n            }\n        },\n    });\n\n    var root = createView({\n        name: 'root',\n        read: function read(_ref9) {\n            var root = _ref9.root;\n            if (root.ref.measure) {\n                root.ref.measureHeight = root.ref.measure.offsetHeight;\n            }\n        },\n        create: create$e,\n        write: write$9,\n        destroy: function destroy(_ref10) {\n            var root = _ref10.root;\n            if (root.ref.paster) {\n                root.ref.paster.destroy();\n            }\n            if (root.ref.hopper) {\n                root.ref.hopper.destroy();\n            }\n            root.element.removeEventListener('touchmove', prevent);\n            root.element.removeEventListener('gesturestart', prevent);\n        },\n        mixins: {\n            styles: ['height'],\n        },\n    });\n\n    // creates the app\n    var createApp = function createApp() {\n        var initialOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        // let element\n        var originalElement = null;\n\n        // get default options\n        var defaultOptions = getOptions();\n\n        // create the data store, this will contain all our app info\n        var store = createStore(\n            // initial state (should be serializable)\n            createInitialState(defaultOptions),\n\n            // queries\n            [queries, createOptionQueries(defaultOptions)],\n\n            // action handlers\n            [actions, createOptionActions(defaultOptions)]\n        );\n\n        // set initial options\n        store.dispatch('SET_OPTIONS', { options: initialOptions });\n\n        // kick thread if visibility changes\n        var visibilityHandler = function visibilityHandler() {\n            if (document.hidden) return;\n            store.dispatch('KICK');\n        };\n        document.addEventListener('visibilitychange', visibilityHandler);\n\n        // re-render on window resize start and finish\n        var resizeDoneTimer = null;\n        var isResizing = false;\n        var isResizingHorizontally = false;\n        var initialWindowWidth = null;\n        var currentWindowWidth = null;\n        var resizeHandler = function resizeHandler() {\n            if (!isResizing) {\n                isResizing = true;\n            }\n            clearTimeout(resizeDoneTimer);\n            resizeDoneTimer = setTimeout(function() {\n                isResizing = false;\n                initialWindowWidth = null;\n                currentWindowWidth = null;\n                if (isResizingHorizontally) {\n                    isResizingHorizontally = false;\n                    store.dispatch('DID_STOP_RESIZE');\n                }\n            }, 500);\n        };\n        window.addEventListener('resize', resizeHandler);\n\n        // render initial view\n        var view = root(store, { id: getUniqueId() });\n\n        //\n        // PRIVATE API -------------------------------------------------------------------------------------\n        //\n        var isResting = false;\n        var isHidden = false;\n\n        var readWriteApi = {\n            // necessary for update loop\n\n            /**\n             * Reads from dom (never call manually)\n             * @private\n             */\n            _read: function _read() {\n                // test if we're resizing horizontally\n                // TODO: see if we can optimize this by measuring root rect\n                if (isResizing) {\n                    currentWindowWidth = window.innerWidth;\n                    if (!initialWindowWidth) {\n                        initialWindowWidth = currentWindowWidth;\n                    }\n\n                    if (!isResizingHorizontally && currentWindowWidth !== initialWindowWidth) {\n                        store.dispatch('DID_START_RESIZE');\n                        isResizingHorizontally = true;\n                    }\n                }\n\n                if (isHidden && isResting) {\n                    // test if is no longer hidden\n                    isResting = view.element.offsetParent === null;\n                }\n\n                // if resting, no need to read as numbers will still all be correct\n                if (isResting) return;\n\n                // read view data\n                view._read();\n\n                // if is hidden we need to know so we exit rest mode when revealed\n                isHidden = view.rect.element.hidden;\n            },\n\n            /**\n             * Writes to dom (never call manually)\n             * @private\n             */\n            _write: function _write(ts) {\n                // get all actions from store\n                var actions = store\n                    .processActionQueue()\n\n                    // filter out set actions (these will automatically trigger DID_SET)\n                    .filter(function(action) {\n                        return !/^SET_/.test(action.type);\n                    });\n\n                // if was idling and no actions stop here\n                if (isResting && !actions.length) return;\n\n                // some actions might trigger events\n                routeActionsToEvents(actions);\n\n                // update the view\n                isResting = view._write(ts, actions, isResizingHorizontally);\n\n                // will clean up all archived items\n                removeReleasedItems(store.query('GET_ITEMS'));\n\n                // now idling\n                if (isResting) {\n                    store.processDispatchQueue();\n                }\n            },\n        };\n\n        //\n        // EXPOSE EVENTS -------------------------------------------------------------------------------------\n        //\n        var createEvent = function createEvent(name) {\n            return function(data) {\n                // create default event\n                var event = {\n                    type: name,\n                };\n\n                // no data to add\n                if (!data) {\n                    return event;\n                }\n\n                // copy relevant props\n                if (data.hasOwnProperty('error')) {\n                    event.error = data.error ? Object.assign({}, data.error) : null;\n                }\n\n                if (data.status) {\n                    event.status = Object.assign({}, data.status);\n                }\n\n                if (data.file) {\n                    event.output = data.file;\n                }\n\n                // only source is available, else add item if possible\n                if (data.source) {\n                    event.file = data.source;\n                } else if (data.item || data.id) {\n                    var item = data.item ? data.item : store.query('GET_ITEM', data.id);\n                    event.file = item ? createItemAPI(item) : null;\n                }\n\n                // map all items in a possible items array\n                if (data.items) {\n                    event.items = data.items.map(createItemAPI);\n                }\n\n                // if this is a progress event add the progress amount\n                if (/progress/.test(name)) {\n                    event.progress = data.progress;\n                }\n\n                // copy relevant props\n                if (data.hasOwnProperty('origin') && data.hasOwnProperty('target')) {\n                    event.origin = data.origin;\n                    event.target = data.target;\n                }\n\n                return event;\n            };\n        };\n\n        var eventRoutes = {\n            DID_DESTROY: createEvent('destroy'),\n\n            DID_INIT: createEvent('init'),\n\n            DID_THROW_MAX_FILES: createEvent('warning'),\n\n            DID_INIT_ITEM: createEvent('initfile'),\n            DID_START_ITEM_LOAD: createEvent('addfilestart'),\n            DID_UPDATE_ITEM_LOAD_PROGRESS: createEvent('addfileprogress'),\n            DID_LOAD_ITEM: createEvent('addfile'),\n\n            DID_THROW_ITEM_INVALID: [createEvent('error'), createEvent('addfile')],\n\n            DID_THROW_ITEM_LOAD_ERROR: [createEvent('error'), createEvent('addfile')],\n\n            DID_THROW_ITEM_REMOVE_ERROR: [createEvent('error'), createEvent('removefile')],\n\n            DID_PREPARE_OUTPUT: createEvent('preparefile'),\n\n            DID_START_ITEM_PROCESSING: createEvent('processfilestart'),\n            DID_UPDATE_ITEM_PROCESS_PROGRESS: createEvent('processfileprogress'),\n            DID_ABORT_ITEM_PROCESSING: createEvent('processfileabort'),\n            DID_COMPLETE_ITEM_PROCESSING: createEvent('processfile'),\n            DID_COMPLETE_ITEM_PROCESSING_ALL: createEvent('processfiles'),\n            DID_REVERT_ITEM_PROCESSING: createEvent('processfilerevert'),\n\n            DID_THROW_ITEM_PROCESSING_ERROR: [createEvent('error'), createEvent('processfile')],\n\n            DID_REMOVE_ITEM: createEvent('removefile'),\n\n            DID_UPDATE_ITEMS: createEvent('updatefiles'),\n\n            DID_ACTIVATE_ITEM: createEvent('activatefile'),\n\n            DID_REORDER_ITEMS: createEvent('reorderfiles'),\n        };\n\n        var exposeEvent = function exposeEvent(event) {\n            // create event object to be dispatched\n            var detail = Object.assign({ pond: exports }, event);\n            delete detail.type;\n            view.element.dispatchEvent(\n                new CustomEvent('FilePond:' + event.type, {\n                    // event info\n                    detail: detail,\n\n                    // event behaviour\n                    bubbles: true,\n                    cancelable: true,\n                    composed: true, // triggers listeners outside of shadow root\n                })\n            );\n\n            // event object to params used for `on()` event handlers and callbacks `oninit()`\n            var params = [];\n\n            // if is possible error event, make it the first param\n            if (event.hasOwnProperty('error')) {\n                params.push(event.error);\n            }\n\n            // file is always section\n            if (event.hasOwnProperty('file')) {\n                params.push(event.file);\n            }\n\n            // append other props\n            var filtered = ['type', 'error', 'file'];\n            Object.keys(event)\n                .filter(function(key) {\n                    return !filtered.includes(key);\n                })\n                .forEach(function(key) {\n                    return params.push(event[key]);\n                });\n\n            // on(type, () => { })\n            exports.fire.apply(exports, [event.type].concat(params));\n\n            // oninit = () => {}\n            var handler = store.query('GET_ON' + event.type.toUpperCase());\n            if (handler) {\n                handler.apply(void 0, params);\n            }\n        };\n\n        var routeActionsToEvents = function routeActionsToEvents(actions) {\n            if (!actions.length) return;\n            actions\n                .filter(function(action) {\n                    return eventRoutes[action.type];\n                })\n                .forEach(function(action) {\n                    var routes = eventRoutes[action.type];\n                    (Array.isArray(routes) ? routes : [routes]).forEach(function(route) {\n                        // this isn't fantastic, but because of the stacking of settimeouts plugins can handle the did_load before the did_init\n                        if (action.type === 'DID_INIT_ITEM') {\n                            exposeEvent(route(action.data));\n                        } else {\n                            setTimeout(function() {\n                                exposeEvent(route(action.data));\n                            }, 0);\n                        }\n                    });\n                });\n        };\n\n        //\n        // PUBLIC API -------------------------------------------------------------------------------------\n        //\n        var setOptions = function setOptions(options) {\n            return store.dispatch('SET_OPTIONS', { options: options });\n        };\n\n        var getFile = function getFile(query) {\n            return store.query('GET_ACTIVE_ITEM', query);\n        };\n\n        var prepareFile = function prepareFile(query) {\n            return new Promise(function(resolve, reject) {\n                store.dispatch('REQUEST_ITEM_PREPARE', {\n                    query: query,\n                    success: function success(item) {\n                        resolve(item);\n                    },\n                    failure: function failure(error) {\n                        reject(error);\n                    },\n                });\n            });\n        };\n\n        var addFile = function addFile(source) {\n            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            return new Promise(function(resolve, reject) {\n                addFiles([{ source: source, options: options }], { index: options.index })\n                    .then(function(items) {\n                        return resolve(items && items[0]);\n                    })\n                    .catch(reject);\n            });\n        };\n\n        var isFilePondFile = function isFilePondFile(obj) {\n            return obj.file && obj.id;\n        };\n\n        var removeFile = function removeFile(query, options) {\n            // if only passed options\n            if (typeof query === 'object' && !isFilePondFile(query) && !options) {\n                options = query;\n                query = undefined;\n            }\n\n            // request item removal\n            store.dispatch('REMOVE_ITEM', Object.assign({}, options, { query: query }));\n\n            // see if item has been removed\n            return store.query('GET_ACTIVE_ITEM', query) === null;\n        };\n\n        var addFiles = function addFiles() {\n            for (\n                var _len = arguments.length, args = new Array(_len), _key = 0;\n                _key < _len;\n                _key++\n            ) {\n                args[_key] = arguments[_key];\n            }\n            return new Promise(function(resolve, reject) {\n                var sources = [];\n                var options = {};\n\n                // user passed a sources array\n                if (isArray(args[0])) {\n                    sources.push.apply(sources, args[0]);\n                    Object.assign(options, args[1] || {});\n                } else {\n                    // user passed sources as arguments, last one might be options object\n                    var lastArgument = args[args.length - 1];\n                    if (typeof lastArgument === 'object' && !(lastArgument instanceof Blob)) {\n                        Object.assign(options, args.pop());\n                    }\n\n                    // add rest to sources\n                    sources.push.apply(sources, args);\n                }\n\n                store.dispatch('ADD_ITEMS', {\n                    items: sources,\n                    index: options.index,\n                    interactionMethod: InteractionMethod.API,\n                    success: resolve,\n                    failure: reject,\n                });\n            });\n        };\n\n        var getFiles = function getFiles() {\n            return store.query('GET_ACTIVE_ITEMS');\n        };\n\n        var processFile = function processFile(query) {\n            return new Promise(function(resolve, reject) {\n                store.dispatch('REQUEST_ITEM_PROCESSING', {\n                    query: query,\n                    success: function success(item) {\n                        resolve(item);\n                    },\n                    failure: function failure(error) {\n                        reject(error);\n                    },\n                });\n            });\n        };\n\n        var prepareFiles = function prepareFiles() {\n            for (\n                var _len2 = arguments.length, args = new Array(_len2), _key2 = 0;\n                _key2 < _len2;\n                _key2++\n            ) {\n                args[_key2] = arguments[_key2];\n            }\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n            var items = queries.length ? queries : getFiles();\n            return Promise.all(items.map(prepareFile));\n        };\n\n        var processFiles = function processFiles() {\n            for (\n                var _len3 = arguments.length, args = new Array(_len3), _key3 = 0;\n                _key3 < _len3;\n                _key3++\n            ) {\n                args[_key3] = arguments[_key3];\n            }\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n            if (!queries.length) {\n                var files = getFiles().filter(function(item) {\n                    return (\n                        !(item.status === ItemStatus.IDLE && item.origin === FileOrigin.LOCAL) &&\n                        item.status !== ItemStatus.PROCESSING &&\n                        item.status !== ItemStatus.PROCESSING_COMPLETE &&\n                        item.status !== ItemStatus.PROCESSING_REVERT_ERROR\n                    );\n                });\n\n                return Promise.all(files.map(processFile));\n            }\n            return Promise.all(queries.map(processFile));\n        };\n\n        var removeFiles = function removeFiles() {\n            for (\n                var _len4 = arguments.length, args = new Array(_len4), _key4 = 0;\n                _key4 < _len4;\n                _key4++\n            ) {\n                args[_key4] = arguments[_key4];\n            }\n\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n\n            var options;\n            if (typeof queries[queries.length - 1] === 'object') {\n                options = queries.pop();\n            } else if (Array.isArray(args[0])) {\n                options = args[1];\n            }\n\n            var files = getFiles();\n\n            if (!queries.length)\n                return Promise.all(\n                    files.map(function(file) {\n                        return removeFile(file, options);\n                    })\n                );\n\n            // when removing by index the indexes shift after each file removal so we need to convert indexes to ids\n            var mappedQueries = queries\n                .map(function(query) {\n                    return isNumber(query) ? (files[query] ? files[query].id : null) : query;\n                })\n                .filter(function(query) {\n                    return query;\n                });\n\n            return mappedQueries.map(function(q) {\n                return removeFile(q, options);\n            });\n        };\n\n        var exports = Object.assign(\n            {},\n\n            on(),\n            {},\n\n            readWriteApi,\n            {},\n\n            createOptionAPI(store, defaultOptions),\n            {\n                /**\n                 * Override options defined in options object\n                 * @param options\n                 */\n                setOptions: setOptions,\n\n                /**\n                 * Load the given file\n                 * @param source - the source of the file (either a File, base64 data uri or url)\n                 * @param options - object, { index: 0 }\n                 */\n                addFile: addFile,\n\n                /**\n                 * Load the given files\n                 * @param sources - the sources of the files to load\n                 * @param options - object, { index: 0 }\n                 */\n                addFiles: addFiles,\n\n                /**\n                 * Returns the file objects matching the given query\n                 * @param query { string, number, null }\n                 */\n                getFile: getFile,\n\n                /**\n                 * Upload file with given name\n                 * @param query { string, number, null  }\n                 */\n                processFile: processFile,\n\n                /**\n                 * Request prepare output for file with given name\n                 * @param query { string, number, null  }\n                 */\n                prepareFile: prepareFile,\n\n                /**\n                 * Removes a file by its name\n                 * @param query { string, number, null  }\n                 */\n                removeFile: removeFile,\n\n                /**\n                 * Moves a file to a new location in the files list\n                 */\n                moveFile: function moveFile(query, index) {\n                    return store.dispatch('MOVE_ITEM', { query: query, index: index });\n                },\n\n                /**\n                 * Returns all files (wrapped in public api)\n                 */\n                getFiles: getFiles,\n\n                /**\n                 * Starts uploading all files\n                 */\n                processFiles: processFiles,\n\n                /**\n                 * Clears all files from the files list\n                 */\n                removeFiles: removeFiles,\n\n                /**\n                 * Starts preparing output of all files\n                 */\n                prepareFiles: prepareFiles,\n\n                /**\n                 * Sort list of files\n                 */\n                sort: function sort(compare) {\n                    return store.dispatch('SORT', { compare: compare });\n                },\n\n                /**\n                 * Browse the file system for a file\n                 */\n                browse: function browse() {\n                    // needs to be trigger directly as user action needs to be traceable (is not traceable in requestAnimationFrame)\n                    var input = view.element.querySelector('input[type=file]');\n                    if (input) {\n                        input.click();\n                    }\n                },\n\n                /**\n                 * Destroys the app\n                 */\n                destroy: function destroy() {\n                    // request destruction\n                    exports.fire('destroy', view.element);\n\n                    // stop active processes (file uploads, fetches, stuff like that)\n                    // loop over items and depending on states call abort for ongoing processes\n                    store.dispatch('ABORT_ALL');\n\n                    // destroy view\n                    view._destroy();\n\n                    // stop listening to resize\n                    window.removeEventListener('resize', resizeHandler);\n\n                    // stop listening to the visiblitychange event\n                    document.removeEventListener('visibilitychange', visibilityHandler);\n\n                    // dispatch destroy\n                    store.dispatch('DID_DESTROY');\n                },\n\n                /**\n                 * Inserts the plugin before the target element\n                 */\n                insertBefore: function insertBefore$1(element) {\n                    return insertBefore(view.element, element);\n                },\n\n                /**\n                 * Inserts the plugin after the target element\n                 */\n                insertAfter: function insertAfter$1(element) {\n                    return insertAfter(view.element, element);\n                },\n\n                /**\n                 * Appends the plugin to the target element\n                 */\n                appendTo: function appendTo(element) {\n                    return element.appendChild(view.element);\n                },\n\n                /**\n                 * Replaces an element with the app\n                 */\n                replaceElement: function replaceElement(element) {\n                    // insert the app before the element\n                    insertBefore(view.element, element);\n\n                    // remove the original element\n                    element.parentNode.removeChild(element);\n\n                    // remember original element\n                    originalElement = element;\n                },\n\n                /**\n                 * Restores the original element\n                 */\n                restoreElement: function restoreElement() {\n                    if (!originalElement) {\n                        return; // no element to restore\n                    }\n\n                    // restore original element\n                    insertAfter(originalElement, view.element);\n\n                    // remove our element\n                    view.element.parentNode.removeChild(view.element);\n\n                    // remove reference\n                    originalElement = null;\n                },\n\n                /**\n                 * Returns true if the app root is attached to given element\n                 * @param element\n                 */\n                isAttachedTo: function isAttachedTo(element) {\n                    return view.element === element || originalElement === element;\n                },\n\n                /**\n                 * Returns the root element\n                 */\n                element: {\n                    get: function get() {\n                        return view.element;\n                    },\n                },\n\n                /**\n                 * Returns the current pond status\n                 */\n                status: {\n                    get: function get() {\n                        return store.query('GET_STATUS');\n                    },\n                },\n            }\n        );\n\n        // Done!\n        store.dispatch('DID_INIT');\n\n        // create actual api object\n        return createObject(exports);\n    };\n\n    var createAppObject = function createAppObject() {\n        var customOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        // default options\n        var defaultOptions = {};\n        forin(getOptions(), function(key, value) {\n            defaultOptions[key] = value[0];\n        });\n\n        // set app options\n        var app = createApp(\n            Object.assign(\n                {},\n\n                defaultOptions,\n                {},\n\n                customOptions\n            )\n        );\n\n        // return the plugin instance\n        return app;\n    };\n\n    var lowerCaseFirstLetter = function lowerCaseFirstLetter(string) {\n        return string.charAt(0).toLowerCase() + string.slice(1);\n    };\n\n    var attributeNameToPropertyName = function attributeNameToPropertyName(attributeName) {\n        return toCamels(attributeName.replace(/^data-/, ''));\n    };\n\n    var mapObject = function mapObject(object, propertyMap) {\n        // remove unwanted\n        forin(propertyMap, function(selector, mapping) {\n            forin(object, function(property, value) {\n                // create regexp shortcut\n                var selectorRegExp = new RegExp(selector);\n\n                // tests if\n                var matches = selectorRegExp.test(property);\n\n                // no match, skip\n                if (!matches) {\n                    return;\n                }\n\n                // if there's a mapping, the original property is always removed\n                delete object[property];\n\n                // should only remove, we done!\n                if (mapping === false) {\n                    return;\n                }\n\n                // move value to new property\n                if (isString(mapping)) {\n                    object[mapping] = value;\n                    return;\n                }\n\n                // move to group\n                var group = mapping.group;\n                if (isObject(mapping) && !object[group]) {\n                    object[group] = {};\n                }\n\n                object[group][lowerCaseFirstLetter(property.replace(selectorRegExp, ''))] = value;\n            });\n\n            // do submapping\n            if (mapping.mapping) {\n                mapObject(object[mapping.group], mapping.mapping);\n            }\n        });\n    };\n\n    var getAttributesAsObject = function getAttributesAsObject(node) {\n        var attributeMapping =\n            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        // turn attributes into object\n        var attributes = [];\n        forin(node.attributes, function(index) {\n            attributes.push(node.attributes[index]);\n        });\n\n        var output = attributes\n            .filter(function(attribute) {\n                return attribute.name;\n            })\n            .reduce(function(obj, attribute) {\n                var value = attr(node, attribute.name);\n\n                obj[attributeNameToPropertyName(attribute.name)] =\n                    value === attribute.name ? true : value;\n                return obj;\n            }, {});\n\n        // do mapping of object properties\n        mapObject(output, attributeMapping);\n\n        return output;\n    };\n\n    var createAppAtElement = function createAppAtElement(element) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        // how attributes of the input element are mapped to the options for the plugin\n        var attributeMapping = {\n            // translate to other name\n            '^class$': 'className',\n            '^multiple$': 'allowMultiple',\n            '^capture$': 'captureMethod',\n            '^webkitdirectory$': 'allowDirectoriesOnly',\n\n            // group under single property\n            '^server': {\n                group: 'server',\n                mapping: {\n                    '^process': {\n                        group: 'process',\n                    },\n\n                    '^revert': {\n                        group: 'revert',\n                    },\n\n                    '^fetch': {\n                        group: 'fetch',\n                    },\n\n                    '^restore': {\n                        group: 'restore',\n                    },\n\n                    '^load': {\n                        group: 'load',\n                    },\n                },\n            },\n\n            // don't include in object\n            '^type$': false,\n            '^files$': false,\n        };\n\n        // add additional option translators\n        applyFilters('SET_ATTRIBUTE_TO_OPTION_MAP', attributeMapping);\n\n        // create final options object by setting options object and then overriding options supplied on element\n        var mergedOptions = Object.assign({}, options);\n\n        var attributeOptions = getAttributesAsObject(\n            element.nodeName === 'FIELDSET' ? element.querySelector('input[type=file]') : element,\n            attributeMapping\n        );\n\n        // merge with options object\n        Object.keys(attributeOptions).forEach(function(key) {\n            if (isObject(attributeOptions[key])) {\n                if (!isObject(mergedOptions[key])) {\n                    mergedOptions[key] = {};\n                }\n                Object.assign(mergedOptions[key], attributeOptions[key]);\n            } else {\n                mergedOptions[key] = attributeOptions[key];\n            }\n        });\n\n        // if parent is a fieldset, get files from parent by selecting all input fields that are not file upload fields\n        // these will then be automatically set to the initial files\n        mergedOptions.files = (options.files || []).concat(\n            Array.from(element.querySelectorAll('input:not([type=file])')).map(function(input) {\n                return {\n                    source: input.value,\n                    options: {\n                        type: input.dataset.type,\n                    },\n                };\n            })\n        );\n\n        // build plugin\n        var app = createAppObject(mergedOptions);\n\n        // add already selected files\n        if (element.files) {\n            Array.from(element.files).forEach(function(file) {\n                app.addFile(file);\n            });\n        }\n\n        // replace the target element\n        app.replaceElement(element);\n\n        // expose\n        return app;\n    };\n\n    // if an element is passed, we create the instance at that element, if not, we just create an up object\n    var createApp$1 = function createApp() {\n        return isNode(arguments.length <= 0 ? undefined : arguments[0])\n            ? createAppAtElement.apply(void 0, arguments)\n            : createAppObject.apply(void 0, arguments);\n    };\n\n    var PRIVATE_METHODS = ['fire', '_read', '_write'];\n\n    var createAppAPI = function createAppAPI(app) {\n        var api = {};\n\n        copyObjectPropertiesToObject(app, api, PRIVATE_METHODS);\n\n        return api;\n    };\n\n    /**\n     * Replaces placeholders in given string with replacements\n     * @param string - \"Foo {bar}\"\"\n     * @param replacements - { \"bar\": 10 }\n     */\n    var replaceInString = function replaceInString(string, replacements) {\n        return string.replace(/(?:{([a-zA-Z]+)})/g, function(match, group) {\n            return replacements[group];\n        });\n    };\n\n    var createWorker = function createWorker(fn) {\n        var workerBlob = new Blob(['(', fn.toString(), ')()'], {\n            type: 'application/javascript',\n        });\n\n        var workerURL = URL.createObjectURL(workerBlob);\n        var worker = new Worker(workerURL);\n\n        return {\n            transfer: function transfer(message, cb) {},\n            post: function post(message, cb, transferList) {\n                var id = getUniqueId();\n\n                worker.onmessage = function(e) {\n                    if (e.data.id === id) {\n                        cb(e.data.message);\n                    }\n                };\n\n                worker.postMessage(\n                    {\n                        id: id,\n                        message: message,\n                    },\n\n                    transferList\n                );\n            },\n            terminate: function terminate() {\n                worker.terminate();\n                URL.revokeObjectURL(workerURL);\n            },\n        };\n    };\n\n    var loadImage = function loadImage(url) {\n        return new Promise(function(resolve, reject) {\n            var img = new Image();\n            img.onload = function() {\n                resolve(img);\n            };\n            img.onerror = function(e) {\n                reject(e);\n            };\n            img.src = url;\n        });\n    };\n\n    var renameFile = function renameFile(file, name) {\n        var renamedFile = file.slice(0, file.size, file.type);\n        renamedFile.lastModifiedDate = file.lastModifiedDate;\n        renamedFile.name = name;\n        return renamedFile;\n    };\n\n    var copyFile = function copyFile(file) {\n        return renameFile(file, file.name);\n    };\n\n    // already registered plugins (can't register twice)\n    var registeredPlugins = [];\n\n    // pass utils to plugin\n    var createAppPlugin = function createAppPlugin(plugin) {\n        // already registered\n        if (registeredPlugins.includes(plugin)) {\n            return;\n        }\n\n        // remember this plugin\n        registeredPlugins.push(plugin);\n\n        // setup!\n        var pluginOutline = plugin({\n            addFilter: addFilter,\n            utils: {\n                Type: Type,\n                forin: forin,\n                isString: isString,\n                isFile: isFile,\n                toNaturalFileSize: toNaturalFileSize,\n                replaceInString: replaceInString,\n                getExtensionFromFilename: getExtensionFromFilename,\n                getFilenameWithoutExtension: getFilenameWithoutExtension,\n                guesstimateMimeType: guesstimateMimeType,\n                getFileFromBlob: getFileFromBlob,\n                getFilenameFromURL: getFilenameFromURL,\n                createRoute: createRoute,\n                createWorker: createWorker,\n                createView: createView,\n                createItemAPI: createItemAPI,\n                loadImage: loadImage,\n                copyFile: copyFile,\n                renameFile: renameFile,\n                createBlob: createBlob,\n                applyFilterChain: applyFilterChain,\n                text: text,\n                getNumericAspectRatioFromString: getNumericAspectRatioFromString,\n            },\n\n            views: {\n                fileActionButton: fileActionButton,\n            },\n        });\n\n        // add plugin options to default options\n        extendDefaultOptions(pluginOutline.options);\n    };\n\n    // feature detection used by supported() method\n    var isOperaMini = function isOperaMini() {\n        return Object.prototype.toString.call(window.operamini) === '[object OperaMini]';\n    };\n    var hasPromises = function hasPromises() {\n        return 'Promise' in window;\n    };\n    var hasBlobSlice = function hasBlobSlice() {\n        return 'slice' in Blob.prototype;\n    };\n    var hasCreateObjectURL = function hasCreateObjectURL() {\n        return 'URL' in window && 'createObjectURL' in window.URL;\n    };\n    var hasVisibility = function hasVisibility() {\n        return 'visibilityState' in document;\n    };\n    var hasTiming = function hasTiming() {\n        return 'performance' in window;\n    }; // iOS 8.x\n    var hasCSSSupports = function hasCSSSupports() {\n        return 'supports' in (window.CSS || {});\n    }; // use to detect Safari 9+\n    var isIE11 = function isIE11() {\n        return /MSIE|Trident/.test(window.navigator.userAgent);\n    };\n\n    var supported = (function() {\n        // Runs immediately and then remembers result for subsequent calls\n        var isSupported =\n            // Has to be a browser\n            isBrowser() &&\n            // Can't run on Opera Mini due to lack of everything\n            !isOperaMini() &&\n            // Require these APIs to feature detect a modern browser\n            hasVisibility() &&\n            hasPromises() &&\n            hasBlobSlice() &&\n            hasCreateObjectURL() &&\n            hasTiming() &&\n            // doesn't need CSSSupports but is a good way to detect Safari 9+ (we do want to support IE11 though)\n            (hasCSSSupports() || isIE11());\n\n        return function() {\n            return isSupported;\n        };\n    })();\n\n    /**\n     * Plugin internal state (over all instances)\n     */\n    var state = {\n        // active app instances, used to redraw the apps and to find the later\n        apps: [],\n    };\n\n    // plugin name\n    var name = 'filepond';\n\n    /**\n     * Public Plugin methods\n     */\n    var fn = function fn() {};\n    exports.Status = {};\n    exports.FileStatus = {};\n    exports.FileOrigin = {};\n    exports.OptionTypes = {};\n    exports.create = fn;\n    exports.destroy = fn;\n    exports.parse = fn;\n    exports.find = fn;\n    exports.registerPlugin = fn;\n    exports.getOptions = fn;\n    exports.setOptions = fn;\n\n    // if not supported, no API\n    if (supported()) {\n        // start painter and fire load event\n        createPainter(\n            function() {\n                state.apps.forEach(function(app) {\n                    return app._read();\n                });\n            },\n            function(ts) {\n                state.apps.forEach(function(app) {\n                    return app._write(ts);\n                });\n            }\n        );\n\n        // fire loaded event so we know when FilePond is available\n        var dispatch = function dispatch() {\n            // let others know we have area ready\n            document.dispatchEvent(\n                new CustomEvent('FilePond:loaded', {\n                    detail: {\n                        supported: supported,\n                        create: exports.create,\n                        destroy: exports.destroy,\n                        parse: exports.parse,\n                        find: exports.find,\n                        registerPlugin: exports.registerPlugin,\n                        setOptions: exports.setOptions,\n                    },\n                })\n            );\n\n            // clean up event\n            document.removeEventListener('DOMContentLoaded', dispatch);\n        };\n\n        if (document.readyState !== 'loading') {\n            // move to back of execution queue, FilePond should have been exported by then\n            setTimeout(function() {\n                return dispatch();\n            }, 0);\n        } else {\n            document.addEventListener('DOMContentLoaded', dispatch);\n        }\n\n        // updates the OptionTypes object based on the current options\n        var updateOptionTypes = function updateOptionTypes() {\n            return forin(getOptions(), function(key, value) {\n                exports.OptionTypes[key] = value[1];\n            });\n        };\n\n        exports.Status = Object.assign({}, Status);\n        exports.FileOrigin = Object.assign({}, FileOrigin);\n        exports.FileStatus = Object.assign({}, ItemStatus);\n\n        exports.OptionTypes = {};\n        updateOptionTypes();\n\n        // create method, creates apps and adds them to the app array\n        exports.create = function create() {\n            var app = createApp$1.apply(void 0, arguments);\n            app.on('destroy', exports.destroy);\n            state.apps.push(app);\n            return createAppAPI(app);\n        };\n\n        // destroys apps and removes them from the app array\n        exports.destroy = function destroy(hook) {\n            // returns true if the app was destroyed successfully\n            var indexToRemove = state.apps.findIndex(function(app) {\n                return app.isAttachedTo(hook);\n            });\n            if (indexToRemove >= 0) {\n                // remove from apps\n                var app = state.apps.splice(indexToRemove, 1)[0];\n\n                // restore original dom element\n                app.restoreElement();\n\n                return true;\n            }\n\n            return false;\n        };\n\n        // parses the given context for plugins (does not include the context element itself)\n        exports.parse = function parse(context) {\n            // get all possible hooks\n            var matchedHooks = Array.from(context.querySelectorAll('.' + name));\n\n            // filter out already active hooks\n            var newHooks = matchedHooks.filter(function(newHook) {\n                return !state.apps.find(function(app) {\n                    return app.isAttachedTo(newHook);\n                });\n            });\n\n            // create new instance for each hook\n            return newHooks.map(function(hook) {\n                return exports.create(hook);\n            });\n        };\n\n        // returns an app based on the given element hook\n        exports.find = function find(hook) {\n            var app = state.apps.find(function(app) {\n                return app.isAttachedTo(hook);\n            });\n            if (!app) {\n                return null;\n            }\n            return createAppAPI(app);\n        };\n\n        // adds a plugin extension\n        exports.registerPlugin = function registerPlugin() {\n            for (\n                var _len = arguments.length, plugins = new Array(_len), _key = 0;\n                _key < _len;\n                _key++\n            ) {\n                plugins[_key] = arguments[_key];\n            }\n\n            // register plugins\n            plugins.forEach(createAppPlugin);\n\n            // update OptionTypes, each plugin might have extended the default options\n            updateOptionTypes();\n        };\n\n        exports.getOptions = function getOptions$1() {\n            var opts = {};\n            forin(getOptions(), function(key, value) {\n                opts[key] = value[0];\n            });\n            return opts;\n        };\n\n        exports.setOptions = function setOptions$1(opts) {\n            if (isObject(opts)) {\n                // update existing plugins\n                state.apps.forEach(function(app) {\n                    app.setOptions(opts);\n                });\n\n                // override defaults\n                setOptions(opts);\n            }\n\n            // return new options\n            return exports.getOptions();\n        };\n    }\n\n    exports.supported = supported;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',[_c('b-col',{staticClass:\"mb-2\",attrs:{\"cols\":\"12\"}},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm.$t('forms.contract.title'))+\" \")]),_c('small',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(_vm.$t('forms.contract.discretion'))+\" \")])]),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.firstName'),\"label-for\":\"firstName\"}},[_c('validation-provider',{attrs:{\"name\":\"firstName\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"firstName\",\"value\":_vm.firstName,\"state\":errors.length > 0 ? false : null,\"placeholder\":_vm.$t('forms.contract.firstName')},on:{\"keyup\":function($event){return _vm.$emit('update:firstName', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:firstName', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.middleName'),\"label-for\":\"middleName\"}},[_c('validation-provider',{attrs:{\"name\":\"middleName\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"middleName\",\"value\":_vm.middleName,\"state\":errors.length > 0 ? false : null,\"placeholder\":_vm.$t('forms.contract.middleName')},on:{\"keyup\":function($event){return _vm.$emit('update:middleName', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:middleName', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.lastName'),\"label-for\":\"lastName\"}},[_c('validation-provider',{attrs:{\"name\":\"lastName\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"lastName\",\"value\":_vm.lastName,\"state\":errors.length > 0 ? false : null,\"placeholder\":_vm.$t('forms.contract.lastName')},on:{\"keyup\":function($event){return _vm.$emit('update:lastName', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:lastName', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.email'),\"label-for\":\"email\"}},[_c('validation-provider',{attrs:{\"name\":\"email\",\"rules\":\"required|email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"email\",\"value\":_vm.emailAddress,\"type\":\"email\",\"state\":errors.length > 0 ? false : null,\"placeholder\":_vm.$t('forms.contract.email')},on:{\"keyup\":function($event){return _vm.$emit('update:emailAddress', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:emailAddress', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.birthdate'),\"label-for\":\"birthdate\"}},[_c('validation-provider',{attrs:{\"name\":\"birthdate\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"birthdate\",\"value\":_vm.birthdate,\"type\":\"date\",\"state\":errors.length > 0 ? false : null},on:{\"blur\":function($event){return _vm.$emit('update:birthdate', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.birthplace'),\"label-for\":\"birthplace\"}},[_c('validation-provider',{attrs:{\"name\":\"birthplace\",\"vid\":\"birthplace\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"value\":_vm.birthplace,\"state\":errors.length > 0 ? false : null},on:{\"keyup\":function($event){return _vm.$emit('update:birthplace', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:birthplace', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),(_vm.marital)?_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.marital'),\"label-for\":\"marital\"}},[_c('validation-provider',{attrs:{\"name\":\"marital\",\"rules\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-select',{attrs:{\"id\":\"marital\",\"value\":_vm.marital,\"placeholder\":\"اختار حالة الزواج\",\"value-field\":\"id\",\"text-field\":\"name\",\"options\":_vm.maritalOption,\"state\":errors.length > 0 ? false : null},on:{\"change\":function($event){return _vm.$emit('update:marital', $event)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}],null,false,2784816639)})],1)],1):_vm._e(),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.nationality'),\"label-for\":\"nationality\"}},[_c('validation-provider',{attrs:{\"name\":\"nationality\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"nationality\",\"value\":_vm.nationality,\"state\":errors.length > 0 ? false : null},on:{\"keyup\":function($event){return _vm.$emit('update:nationality', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:nationality', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.profession'),\"label-for\":\"profession\"}},[_c('validation-provider',{attrs:{\"name\":\"profession\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"profession\",\"value\":_vm.profession,\"state\":errors.length > 0 ? false : null,\"placeholder\":\"\"},on:{\"keyup\":function($event){return _vm.$emit('update:profession', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:profession', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.address'),\"label-for\":\"address\"}},[_c('validation-provider',{attrs:{\"name\":\"address\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"address\",\"value\":_vm.address,\"state\":errors.length > 0 ? false : null,\"placeholder\":\"\"},on:{\"keyup\":function($event){return _vm.$emit('update:address', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:address', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('forms.contract.phone'),\"label-for\":\"phone\"}},[_c('validation-provider',{attrs:{\"name\":\"phone\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"phone\",\"value\":_vm.phone,\"state\":errors.length > 0 ? false : null},on:{\"keyup\":function($event){return _vm.$emit('update:phone', $event.target.value)},\"blur\":function($event){return _vm.$emit('update:phone', $event.target.value)}}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-row>\r\n    <b-col\r\n      cols=\"12\"\r\n      class=\"mb-2\"\r\n    >\r\n      <h5 class=\"mb-0\">\r\n        {{ $t('forms.contract.title') }}\r\n      </h5>\r\n      <small class=\"text-muted\">\r\n        {{ $t('forms.contract.discretion') }}\r\n      </small>\r\n    </b-col>\r\n    <b-col md=\"4\">\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.firstName')\"\r\n        label-for=\"firstName\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"firstName\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"firstName\"\r\n            :value=\"firstName\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            :placeholder=\"$t('forms.contract.firstName')\"\r\n            @keyup=\"$emit('update:firstName', $event.target.value)\"\r\n            @blur=\"$emit('update:firstName', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col md=\"4\">\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.middleName')\"\r\n        label-for=\"middleName\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"middleName\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"middleName\"\r\n            :value=\"middleName\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            :placeholder=\"$t('forms.contract.middleName')\"\r\n            @keyup=\"$emit('update:middleName', $event.target.value)\"\r\n            @blur=\"$emit('update:middleName', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col md=\"4\">\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.lastName')\"\r\n        label-for=\"lastName\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"lastName\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"lastName\"\r\n            :value=\"lastName\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            :placeholder=\"$t('forms.contract.lastName')\"\r\n            @keyup=\"$emit('update:lastName', $event.target.value)\"\r\n            @blur=\"$emit('update:lastName', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col md=\"4\">\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.email')\"\r\n        label-for=\"email\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"email\"\r\n          rules=\"required|email\"\r\n        >\r\n          <b-form-input\r\n            id=\"email\"\r\n            :value=\"emailAddress\"\r\n            type=\"email\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            :placeholder=\"$t('forms.contract.email')\"\r\n            @keyup=\"$emit('update:emailAddress', $event.target.value)\"\r\n            @blur=\"$emit('update:emailAddress', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col md=\"4\">\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.birthdate')\"\r\n        label-for=\"birthdate\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"birthdate\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"birthdate\"\r\n            :value=\"birthdate\"\r\n            type=\"date\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            @blur=\"$emit('update:birthdate', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.birthplace')\"\r\n        label-for=\"birthplace\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"birthplace\"\r\n          vid=\"birthplace\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            :value=\"birthplace\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            @keyup=\"$emit('update:birthplace', $event.target.value)\"\r\n            @blur=\"$emit('update:birthplace', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      v-if=\"marital\"\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.marital')\"\r\n        label-for=\"marital\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"marital\"\r\n          rules=\"\"\r\n        >\r\n          <b-form-select\r\n            id=\"marital\"\r\n            :value=\"marital\"\r\n            placeholder=\"اختار حالة الزواج\"\r\n            value-field=\"id\"\r\n            text-field=\"name\"\r\n            :options=\"maritalOption\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            @change=\"$emit('update:marital', $event)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.nationality')\"\r\n        label-for=\"nationality\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"nationality\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"nationality\"\r\n            :value=\"nationality\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            @keyup=\"$emit('update:nationality', $event.target.value)\"\r\n            @blur=\"$emit('update:nationality', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.profession')\"\r\n        label-for=\"profession\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"profession\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"profession\"\r\n            :value=\"profession\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            placeholder=\"\"\r\n            @keyup=\"$emit('update:profession', $event.target.value)\"\r\n            @blur=\"$emit('update:profession', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.address')\"\r\n        label-for=\"address\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"address\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"address\"\r\n            :value=\"address\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            placeholder=\"\"\r\n            @keyup=\"$emit('update:address', $event.target.value)\"\r\n            @blur=\"$emit('update:address', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n    <b-col\r\n      md=\"4\"\r\n    >\r\n      <b-form-group\r\n        :label=\"$t('forms.contract.phone')\"\r\n        label-for=\"phone\"\r\n      >\r\n        <validation-provider\r\n          #default=\"{ errors }\"\r\n          name=\"phone\"\r\n          rules=\"required\"\r\n        >\r\n          <b-form-input\r\n            id=\"phone\"\r\n            :value=\"phone\"\r\n            :state=\"errors.length > 0 ? false : null\"\r\n            @keyup=\"$emit('update:phone', $event.target.value)\"\r\n            @blur=\"$emit('update:phone', $event.target.value)\"\r\n          />\r\n          <small class=\"text-danger\">{{ errors[0] }}</small>\r\n        </validation-provider>\r\n      </b-form-group>\r\n    </b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\nimport { ValidationProvider, localize } from 'vee-validate'\r\nimport ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\r\nimport 'vue-form-wizard/dist/vue-form-wizard.min.css'\r\nimport '@core/scss/vue/libs/vue-wizard.scss'\r\nimport {\r\n  BRow,\r\n  BCol,\r\n  BFormGroup,\r\n  BFormInput,\r\n  BFormSelect,\r\n  // BCard,\r\n} from 'bootstrap-vue'\r\nimport { required, email } from '@validations'\r\n// import ar from 'vee-validate/dist/locale/ar.json'\r\n\r\n// Install English and Arabic locales.\r\n// localize({\r\n//   dic,\r\n// })\r\nconst dic = {\r\n  ar: {\r\n    names: {\r\n      email: 'البريد الاليكتروني',\r\n      phone: 'رقم الهاتف',\r\n      Password: 'كلمة السر',\r\n      website: 'الموقع الالكتروني',\r\n      country: 'المحافظة',\r\n      landline_number: 'الرقم المباشر',\r\n      direct_employee_name: 'اسم الموظف المباشر',\r\n      direct_employee_phone: 'رقم هاتف الموظف المباشر',\r\n      factory_register: 'سجل المصنع',\r\n      factory_register_image: 'صورة سجل المصنع',\r\n      letter_image: 'صورة الخطاب',\r\n      address: 'العنوان',\r\n    },\r\n  },\r\n}\r\nlocalize('ar', dic.ar)\r\nexport default {\r\n  name: 'Husband',\r\n  components: {\r\n    ValidationProvider,\r\n    // ValidationObserver,\r\n    BRow,\r\n    BCol,\r\n    BFormGroup,\r\n    BFormInput,\r\n    BFormSelect,\r\n    // eslint-disable-next-line vue/no-unused-components\r\n    ToastificationContent,\r\n  },\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    firstName: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    middleName: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    lastName: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    emailAddress: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    birthdate: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    birthplace: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    marital: {\r\n      type: String,\r\n      required: false,\r\n      default: '',\r\n    },\r\n    maritalOption: {\r\n      type: Array,\r\n      required: false,\r\n      default: () => [],\r\n    },\r\n    nationality: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    profession: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    address: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    phone: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      locale: 'ar',\r\n      required,\r\n      email,\r\n    }\r\n  },\r\n  created() {},\r\n  methods: {\r\n    test() {\r\n      console.log(this.marital)\r\n    },\r\n  },\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\">\r\n//@import '@core/scss/vue/libs/vue-select.scss';\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Husband.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Husband.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Husband.vue?vue&type=template&id=025086f8&\"\nimport script from \"./Husband.vue?vue&type=script&lang=js&\"\nexport * from \"./Husband.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Husband.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Husband.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}